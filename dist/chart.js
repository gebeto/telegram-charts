!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(0);var r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=window.devicePixelRatio,o=4*i,l=2*o,c=343*i,u=16*i,s=2*u,d=2*Math.PI,h=Math.PI/100,f="".concat(11*i,"px sans-serif"),m=40*i,g=7*i,v=43*i,p=29*i,y=p/2,w=5*i,x=1*i,b=2*i,A={THEME:{}};var C,T,E=(C=[],T={time:0,add:function(t){C.push(t)},remove:function(t){var e=C.indexOf(t);e>-1&&C.splice(e,1)}},requestAnimationFrame(function t(e){T.time=e;for(var n=0;n<C.length;n++)C[n](e);requestAnimationFrame(t)}),T);function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var H=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onAnimation=r,this.fromValue=e,this.toValue=e,this.value=e,this.startTime=0,this.duration=n,this.delay=0,this.inProgress=!1}var e,n,r;return e=t,(n=[{key:"playFrom",value:function(t,e){this.value=t,this.play(e)}},{key:"play",value:function(t){this.inProgress=!0,this.startTime=E.time,this.toValue=t,this.fromValue=this.value}},{key:"update",value:function(){var t=this._update();return t&&this.onAnimation&&this.onAnimation(),t}},{key:"_update",value:function(){if(this.value===this.toValue)return this.inProgress=!1,!1;this.inProgress=!0;var t=(E.time-this.startTime-this.delay)/this.duration;t<0&&(t=0),t>1&&(t=1);var e=-t*(t-2);return this.value=this.fromValue+(this.toValue-this.fromValue)*e,!0}}])&&M(e.prototype,n),r&&M(e,r),t}();function S(t,e){var n=e-t;function r(e){return(e-t)/n}return r.de=function(e){return e*n+t},r}function k(t,e,n){var r=t.createAnimation(e,300),a=t.createAnimation(n-e,300);function i(t){return(t-r.value)/a.value}return i.updateDelta=function(t,e){e,r.play(t),a.play(e-t)},i}var F=function(t,e){var n;return function(){var r=arguments;n||(t.apply(this,r),n=!0,setTimeout(function(){return n=!1},e))}},Y=function(t,e){var n;return function(r){var a=this;r?t.apply(a,null):n||(n=!0,setTimeout(function(){t.apply(a,null),n=!1},e))}};var _=function(t,e){return t+e},P=function(t){return t===1/0||t===-1/0?0:t},L=function(t){return Math.min.apply(null,t)},B=function(t){return Math.max.apply(null,t)},R=function(t,e,n){return Math.min.apply(null,t.slice(e,1+n))},O=function(t,e,n){return Math.max.apply(null,t.slice(e,1+n))},X=function(t){return Math.min.apply(null,t.map(L))},U=function(t){return Math.max.apply(null,t.map(B))},j=function(t,e,n){return Math.min.apply(null,t.map(function(t){return R(t,e,n)}))},D=function(t,e,n){return Math.max.apply(null,t.map(function(t){return O(t,e,n)}))},N=function(t){var e,n,r=new Array(t[0].length).fill(0);for(e=0;e<t.length;e++)for(n=0;n<t[e].length;n++)r[n]+=t[e][n];return r};function K(t){t.canvas;var e=t.canvasBounds,n=function(t){var e={},n={},r={x:0,y:0,xRaw:0,yRaw:0,newX:0,newY:0,newXRaw:0,newYRaw:0,isHolding:!1};return t.forEach(function(t){e[t]=[],n[t]=function(n,r){for(var a=0;a<e[t].length;a++)e[t][a](n,r)}}),{mouse:r,addListener:function(t,n){e[t].push(n)},dispatch:function(t,e){if(!n[t])throw Error("Unknown event");n[t](r,e)}}}(["move","enter","leave","down","up"]),r=n.mouse;function a(t){r.xRaw=t.clientX-e.left,r.yRaw=t.clientY-e.top,r.x=r.xRaw*i,r.y=r.yRaw*i,r.newXRaw=r.xRaw,r.newYRaw=r.yRaw,r.newX=r.x,r.newY=r.y,n.dispatch("down",t)}function o(t){r.newXRaw=t.clientX-e.left,r.newYRaw=t.clientY-e.top,r.newX=r.newXRaw*i,r.newY=r.newYRaw*i,n.dispatch("move",t)}function l(t){r.isHolding=!1,n.dispatch("up",t)}return document.addEventListener("mousedown",a),document.addEventListener("mousemove",o),document.addEventListener("mouseup",l),document.addEventListener("touchstart",function(t){a(t.touches[0])}),document.addEventListener("touchmove",function(t){o(t.touches[0])},{passive:!1}),document.addEventListener("touchend",l),document.addEventListener("touchcancel",l),document.addEventListener("selectstart",function(t){return!1}),{mouse:r,addListener:n.addListener}}function W(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function z(t,e,n){var r=t.map(function(t){var r=W(t),a=r[0],i=r.slice(1),o={opacity:n.animator.createAnimation(1,300),key:a,scaling:{},enabled:!0,items:i};return e.y_scaled&&(o.scaling.color=e.colors[o.key],o.scaling.minHeight=P(L(o.items)),o.scaling.maxHeight=P(B(o.items)),o.scaling.minHeightAnim=n.animator.createAnimation(0,300),o.scaling.maxHeightAnim=n.animator.createAnimation(0,300),o.scaling.normY=k(n.animator,o.scaling.minHeight,o.scaling.maxHeight),o.scaling.normControlY=k(n.animator,o.scaling.minHeight,o.scaling.maxHeight),o.scaling.updateMinMax=function(t,e){o.scaling.minHeight=P(R(o.items,t,e)),o.scaling.maxHeight=P(O(o.items,t,e)),o.scaling.minHeightAnim.play(o.scaling.minHeight),o.scaling.maxHeightAnim.play(o.scaling.maxHeight),o.scaling.normY.updateDelta(o.scaling.minHeight,o.scaling.maxHeight)}),o});if(!e.y_scaled){var a={};e.percentage?function(t,e,n){var r=t.animator.createAnimation(0,300),a=t.animator.createAnimation(100,300);e.minHeight=0,e.maxHeight=100,e.minHeightAnim=r,e.maxHeightAnim=a,e.normY=k(t.animator,0,100),e.normControlY=k(t.animator,0,100),e.updateMinMax=function(t,e){}}(n,a):e.stacked?function(t,e,n){var r=n.map(function(t){return t.items}),a=P(B(N(r))),i=O(N(r),0,a),o=t.animator.createAnimation(0,300),l=t.animator.createAnimation(0,300);e.minHeight=0,e.maxHeight=i,e.minHeightAnim=o,e.maxHeightAnim=l,e.normY=k(t.animator,0,i),e.normControlY=k(t.animator,0,a),e.updateMinMax=function(t,r){var a=n.filter(function(t){return t.enabled}).map(function(t){return t.items});e.minHeight=0;try{e.maxHeight=P(O(N(a),t,r))}catch(t){return}e.minHeightAnim.play(e.minHeight),e.maxHeightAnim.play(e.maxHeight),e.normY.updateDelta(e.minHeight,e.maxHeight);var i=P(B(N(a)));e.normControlY.updateDelta(0,i)}}(n,a,r):function(t,e,n){var r=n.map(function(t){return t.items}),a=P(X(r)),i=P(U(r)),o=X(r,a,i),l=U(r,a,i),c=t.animator.createAnimation(0,300),u=t.animator.createAnimation(0,300);e.minHeight=o,e.maxHeight=l,e.minHeightAnim=c,e.maxHeightAnim=u,e.normY=k(t.animator,o,l),e.normControlY=k(t.animator,a,i),e.updateMinMax=function(t,r){var a=n.filter(function(t){return t.enabled}).map(function(t){return t.items});e.minHeight=P(j(a,t,r)),e.maxHeight=P(D(a,t,r)),e.minHeightAnim.play(e.minHeight),e.maxHeightAnim.play(e.maxHeight),e.normY.updateDelta(e.minHeight,e.maxHeight);var i=P(X(a)),o=P(U(a));e.normControlY.updateDelta(i,o)}}(n,a,r),r.forEach(function(t){t.scaling=a})}return{items:r}}function V(t){var e=t.config,n=(t.control,t.ctx),r=t.norm,a=t.colors,o=t.normYKey,l=(t.yAxis,((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).lineWidth||2)*i),c={items:[],opacity:1},u=0;return{shouldBulkRecalculate:function(t){return!0},shouldRecalculate:function(t){var e=t.opacity.inProgress||!t.calculated||n.canvas.width!==u;return u=n.canvas.width,e},calculate:function(t,a,i,l,u){t.key;var s=t.items,d=t.opacity,h=t.scaling[o],f=d.value;if(c.opacity=d.value,f){f<1&&(e.shouldControlUpdate=!0),c.items=[];var m=s.length,g=r.X(1)*l,v=i+u;c.items.push([a+0,v-h(s[0])*u]);for(var p=1;p<m;p++){var y=a+g*p,w=v-h(s[p])*u;w>v&&(e.shouldControlUpdate=!0),y<-g||y>n.canvas.width+g||c.items.push([y,w])}t.calculated=!0}},draw:function(t,e,r,i,o){var u=c.items,s=c.opacity,d=t.key;if(s){var h=u.length;n.save(),n.beginPath(),n.moveTo(u[0][0],u[0][1]);for(var f=1;f<h;f++)n.lineTo(u[f][0],u[f][1]);n.lineWidth=l,n.strokeStyle=a[d],n.globalAlpha=s,n.lineJoin="round",n.stroke(),n.restore()}}}}var I=0,J=1,q=2,Z=3,G=10*i,Q=G/2,$=10*i,tt=2*$,et=$/2,nt=$-$/3,rt=2*i,at=($-rt)/2;function it(t,e){var n={controlsBounds:{start:{x:0,y:0,width:0,height:0},end:{x:0,y:0,width:0,height:0}}},r=n.controlsBounds,a=I,o=[e.range[0],e.range[1]],l=14*i,c=0,u=0,s=u-c,d=0,h=0;return t.mouse.addListener("move",function(n){if(a!==I){t.shouldChartUpdate=!0,t.shouldControlUpdate=!0;var r=e.normalizeForControl(n.newX)-e.normalizeForControl(n.x),i=o[0]+r,l=o[1]+r;if(a===J)i>0?e.updateRange(i,o[1]):e.updateRange(0,o[1]);else if(a===q)l<1?e.updateRange(o[0],l):e.updateRange(o[0],1);else if(i>=0&&l<=1)e.updateRange(i,l);else if(l>1){var c=1-o[1];e.updateRange(o[0]+c,o[1]+c)}else if(i<0){var u=0-o[0];e.updateRange(o[0]+u,o[1]+u)}}}),t.mouse.addListener("down",function(n){var i=l,c=l,u=r.start,s=r.end;n.y>u.y&&n.y<u.y+u.height&&(t.shouldChartUpdate=!0,t.shouldControlUpdate=!0,o=[e.range[0],e.range[1]],n.newX>u.x-i&&n.newX<u.x+u.width&&n.newY>u.y-i&&n.newY<u.y+u.height+i?a=J:n.newX>s.x&&n.newX<s.x+s.width+c&&n.newY>s.y-c&&n.newY<s.y+s.height+c?a=q:n.newX>u.x+u.width&&n.newX<s.x&&n.newY>s.y-l&&n.newY<s.y+s.height+l&&(a=Z))}),t.mouse.addListener("up",function(t){a=I}),n.updateControlBounds=function(t,e){d=e,h=t},n.renderControl=function(t,n,a,i,o){c=n+i*e.range[0],u=n+i*e.range[1],s=u-c,r.start.x=c-$,r.start.y=a,r.start.width=$,r.start.height=o,r.end.x=u,r.end.y=a,r.end.width=$,r.end.height=o,t.save(),t.globalAlpha=.6,t.fillStyle=A.THEME.scrollBackground,t.beginPath(),t.moveTo(c-1,a),t.lineTo(c-1,a+o),t.arcTo(h,a+o,h,a+o-$,et),t.arcTo(h,a,c-1,a,et),t.closePath(),t.fill(),t.beginPath(),t.moveTo(u+1,a),t.lineTo(u+1,a+o),t.arcTo(h+d,a+o,h+d,a+o-$,et),t.arcTo(h+d,a,u,a,et),t.closePath(),t.fill(),t.restore(),t.save(),t.fillStyle=A.THEME.scrollSelector,t.beginPath(),t.rect(c,a,s,x),t.rect(c,a+o-x,s,x),t.fill(),t.beginPath();var l=c;t.moveTo(l,a),t.lineTo(l,a+o),t.arcTo(l-$,a+o,l-$,a+o-$,nt),t.arcTo(l-$,a,l,a,nt),t.closePath(),t.fill(),t.beginPath(),t.moveTo(u,a),t.lineTo(u,a+o),t.arcTo(u+$,a+o,u+$,a+o-$,nt),t.arcTo(u+$,a,u,a,nt),t.closePath(),t.fill(),t.restore(),t.save(),t.beginPath(),t.fillStyle="#FFFFFF",t.rect(c-at,a+o/2-Q,-rt,G),t.rect(u+at,a+o/2-Q,rt,G),t.fill(),t.restore()},n}function ot(t){var e=t.ctx,n=t.config,r=(t.canvasBounds,t.control),a=t.yAxis,i=(t.xAxis,a.items.map(function(e){return V(t,{lineWidth:1})})),o=it(n,r),l=o.updateControlBounds,c=o.renderControl;return function(t,n,r,o){l(t,r),r-=tt,t+=$;for(var u=0;u<a.items.length;u++)i[u].shouldRecalculate(a.items[u])&&i[u].calculate(a.items[u],t,n+3,r,o-6),i[u].draw(a.items[u],t,n+3,r,o-6);c(e,t,n,r,o)}}function lt(t){var e=t.canvasBounds,n=t.config,r=t.ctx,a=t.norm,l=t.colors,c=t.normYKey,u=2*i,s=(n.mouse.mouse,n.popup),h=a.X(1),f=0,m=0,g=0,v=0,p=0,y=h*f,w=-1,x=-1,b=!1,C=!1,T=!0,E=!1,M=F(function(t,a){if(b=C,(!(C=r.canvas===a.target||r.canvas.nextSibling.contains(a.target))&&b||"BUTTON"===a.target.tagName)&&(-1!==x&&(n.shouldChartUpdate=!0),x=-1,s.hide()),C&&a.target===r.canvas&&((C||!0===b&&!1===C)&&(w=x,t.newY>v&&t.newY<v+m&&(x=p-Math.round((f+g-t.newX)/y+1))<p&&x>=0?s.show(x):(x=-1,s.hide())),w!==x)){if(n.shouldChartUpdate=!0,-1!==x){var l=s.element.getBoundingClientRect(),c=(x*y+g)/i;c-l.width-o<0?T=!1:c+l.width+o>e.width/i&&(T=!0),s.element.style.left="".concat(T?c-l.width-o:c+o,"px")}w=x}},50);return n.mouse.addListener("move",function(t,e){E&&M(t,e)}),n.mouse.addListener("down",function(t,e){E=!0,M(t,e)}),n.mouse.addListener("up",function(t,e){E=!1}),function(t,e,n,i,s){f=i,m=s,g=e,v=n;var w=t.key,b=t.items,C=t.opacity,T=t.scaling[c],E=C.value;if(E&&(p=b.length,y=h*i,x>-1&&x<p)){var M=e+a.X(x)*i;r.save(),r.strokeStyle=A.THEME.gridLines,r.lineWidth=1,r.globalAlpha=.1,r.beginPath(),r.moveTo(M,n),r.lineTo(M,n+s),r.stroke(),r.restore(),r.save(),r.beginPath(),r.globalAlpha=E,r.arc(M,n+s-T(b[x])*s,o,0,d),r.lineWidth=u,r.strokeStyle=l[w],r.fillStyle=A.THEME.background,r.fill(),r.stroke(),r.restore()}}}function ct(t,e){var n=Math.abs(t);if(n>1e9&&e)return(t/1e9).toFixed(2)+"B";if(n>1e6&&e)return(t/1e6).toFixed(2)+"M";if(n>1e3&&e)return(t/1e3).toFixed(1)+"K";if(n>1){for(var r=n.toFixed(0),a=t<0?"-":"",i=0;i<r.length;i++)a+=r.charAt(i),(r.length-1-i)%3==0&&(a+=" ");return a}return t.toString()}function ut(t){t.control;var e=t.ctx,n=(t.normX,t.normY,t.colors,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),r=n.textAlign||"left";return function(t,n,a,o,l,c,u){var s=Math.round(t.scaling.minHeightAnim.value),d=Math.round(t.scaling.maxHeightAnim.value),h=t.opacity.value,m=(l+l/6/2)/6,g=Math.ceil((d-s)/6);e.save(),e.beginPath(),e.fillStyle=t.scaling.color||A.THEME.gridLines,e.globalAlpha=u?h/2:t.scaling.color?.8:.5,e.font=f,e.textBaseline="bottom",e.textAlign=r;for(var v=0;v<6;v++){c&&(e.moveTo(n,a+l-v*m),e.lineTo(n+o,a+l-v*m));var p=ct(s+g*v,!0);e.fillText(p,n+3,a+l-v*m-w)}e.lineWidth=1*i,c&&(e.globalAlpha=.1,e.strokeStyle=A.THEME.gridLines,e.stroke()),e.restore()}}var st=[0,1,2,4,4,8,8,8,8,16,16,16,16,16,16,16,16,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64];function dt(t){t.config,t.control;var e=t.ctx,n=t.norm,r=(t.colors,t.forBars),a=n.X(1),i=0;return function(t,n,o,l,c){var u=t.length;i=r?a*(l-a*l):a*l,r&&(l-=i),e.save(),e.fillStyle=A.THEME.gridLines,e.font=f,e.textAlign="center",e.textBaseline="middle",e.globalAlpha=.5;for(var s=l*a,d=(Math.floor(s),Math.ceil(m/s)),h=d+1,g=st[d],v=st[h],p=(s/(m/d)-1)*d,w=0;w<u;w+=g){var x=w%v;e.globalAlpha=0===x?.5:p>.5?.5:p;var b=n+(r?i/2:0)+i*w,C=o+y;b<-m||b>e.canvas.width+m||e.fillText(t[w].dayString,b,C)}e.restore()}}function ht(t,e,n){var r=document.createElement(e);return r.className=n,t&&t.appendChild(r),r}function ft(t,e,n,r,a,i){var o=r.key,l={enabled:!0},c=ht(t,"button","chart__buttons-button");function u(){!0===l.enabled?(c.className="chart__buttons-button",c.style.color="#FFF"):(c.className="chart__buttons-button unchecked",c.style.color=n.colors[o]),r.enabled=l.enabled,r.opacity.play(l.enabled?1:0),i&&i(l.enabled)}return c.textContent=n.names[o],c.style.backgroundColor=n.colors[o],c.style.borderColor=n.colors[o],function(t,e,n){var r=null,a=!1;function i(){r=setTimeout(function(){n&&n(),a=!0},200)}function o(){clearTimeout(r)}t.addEventListener("click",function(){clearTimeout(r),a?a=!1:e&&e()}),t.addEventListener("mousedown",i),t.addEventListener("mousemove",o),t.addEventListener("touchstart",i),t.addEventListener("touchmove",o)}(c,function(){if(1===a.activeButtonsCount&&l.enabled)return c.className="chart__buttons-button error",void setTimeout(function(){c.className="chart__buttons-button"},140);l.enabled=!l.enabled,u()},function(){l.show(),a.hideAllExcept(c)}),l.hide=function(t){l.enabled&&t!==c&&(l.enabled=!1,u())},l.show=function(){l.enabled||(l.enabled=!0,u())},l}function mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gt(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function vt(t,e){var n=t.title,i=t.columns,o=t.types,l=t.colors,c=t.names,u=(t.percentage,t.stacked,t.y_scaled,gt(i)),s=gt(u[0]),d=(s[0],s.slice(1)),h=u.slice(1);return{title:n,columns:i,types:o,colors:l,names:c,xAxis:d.map(function(t){return e=t,n=new Date(e),{dayString:"".concat(r[n.getMonth()]," ").concat(n.getDate()),dateString:"".concat(a[n.getDay()],", ").concat(n.getDate()," ").concat(r[n.getMonth()]," ").concat(n.getFullYear()),dateStringTitle:"".concat(n.getDate()," ").concat(r[n.getMonth()]," ").concat(n.getFullYear()),date:n,timestamp:e};var e,n}),yAxis:z(h,t,e)}}var pt=function(t,e,n){var r,a,o,l,d,h=t.container,f=t.index,m=e.title||t.title||"Chart #".concat(f+1),g={left:0,top:0},p=ht(h,"div","chart"),y=function(t,e,n){var r=ht(t,"div","chart__header"),a=ht(r,"h2","chart__header-title");a.textContent=e;var i=ht(r,"h3","chart__header-sub-title");return i.textContent=n,{setTitle:function(t){a.textContent=t},setSubtitle:function(t){i.textContent=t}}}(p,m,""),w=ht(p,"canvas","chart__canvas"),x=w.getContext("2d"),b={index:f,shouldChartUpdate:!0,shouldControlUpdate:!0,animator:(l=[],{opts:d={active:!1},createAnimation:function(t,e,n){var r=new H(t,e,n);return l.push(r),r},removeAnimation:function(t){var e=l.indexOf(t);e>-1&&l.splice(e,1)},updateAnimations:function(){for(var t=l.length,e=!1,n=0;n<t;n++)e=l[n].update()||e;return d.active=e,e}}),mouse:K({config:b,canvas:w,canvasBounds:g}),popup:{}},A=vt(e,b),C=(A.columns,A.types,A.colors),T=(A.names,A.xAxis),E=A.yAxis;b.popup=function(t,e,n,r,a){var i=ht(t,"div","chart__popup");function o(t){var e,o=a.items.filter(function(t){return t.enabled}).map(function(e){return r=n.colors[e.key],a=n.names[e.key],i=e.items[t],'\n\t\t<span class="chart__popup-item">\n\t\t\t<span class="chart__popup-item-title">'.concat(a,'</span>\n\t\t\t<span class="chart__popup-item-value" style="color: ').concat(r,'">').concat(i,"</span>\n\t\t</span>\n\t");var r,a,i});o.length&&(i.innerHTML="\n\t\t\t".concat((e=r[t].dateString,'\n\t\t<strong class="chart__popup-header">\n\t\t\t<span class="chart__popup-header-title">'.concat(e,'</span>\n\t\t\t<span class="chart__popup-header-icon"></span>\n\t\t</strong>\n\t')),"\n\t\t\t").concat(o.join(""),"\n\t\t"))}return{element:i,update:o,show:function(t){o(t),i.style.opacity=1,i.style.visibility="visible"},hide:function(){i.style.opacity=0,i.style.visibility="hidden"}}}(p,0,e,T,E),E.items.length>1&&function(t,e,n,r,a){var i={activeButtonsCount:r.items.length,hideAllExcept:function(t){c.forEach(function(e){e.hide(t)})},hideAll:function(){c.forEach(function(t){t.hide()})}},o=ht(t,"div","chart__buttons"),l={},c=r.items.map(function(t){return l[t[0]]=ft(o,0,n,t,i,function(t){i.activeButtonsCount+=t?1:-1,i.activeButtonsCount<1||a&&a()})})}(p,b.animator,e,E,function(){k(!0)});var M={X:S(0,T.length-1)},k=Y(function(){var t=F.range[0],e=F.range[1],n=t*T.length,r=n<0?0:Math.floor(n),a=e*T.length,i=a>T.length?T.length:Math.ceil(a);E.items.forEach(function(t){return t.scaling.updateMinMax(r,i)}),y.setSubtitle("".concat(T[r].dateStringTitle," - ").concat(T[i-1].dateStringTitle))},100),F={range:[.7,1],count:0,scale:0,updateRange:function(t,e){var n=e-t,r=T.length*n;r>5&&(F.count=Math.ceil(r),F.scale=n,F.range[0]=t,F.range[1]=e,k())},normalizeForControl:function(t){return o(t)}};function _(){var t=w.getBoundingClientRect(),e=t.width*i,n=t.height*i;g.width=e,g.height=c,g.left=t.left,g.right=t.right,g.top=t.top,g.bottom=t.bottom,g.x=t.x,g.y=t.y,r===e&&a===n||(b.shouldChartUpdate=!0,b.shouldControlUpdate=!0,o=S(s,g.width-s),r=w.width=g.width,a=w.height=c)}function P(t){_(),b.animator.updateAnimations()&&(b.shouldChartUpdate=!0),b.shouldChartUpdate&&(b.shouldChartUpdate=!1,x.clearRect(0,0,r,c-v),b.zoomed&&R?R(u,0,r-s,c-v):B(u,0,r-s,c-v)),b.shouldControlUpdate&&(b.shouldControlUpdate=!1,x.clearRect(0,c-v,r,v),O(u,c-v,r-s,v))}b.popup.element.addEventListener("click",function(){R&&(b.zoomed=!b.zoomed,b.popup.hide(),b.shouldChartUpdate=!0)}),window.addEventListener("resize",_),F.updateRange(F.range[0],F.range[1]),_(),k(!0);var L={config:b,control:F,ctx:x,norm:M,colors:C,xAxis:T,yAxis:E,canvasBounds:g,normYKey:"normY"},B=n.drawChartFabric(L),R=n.drawZoomedChartFabric&&n.drawZoomedChartFabric(L),O=n.drawControlFabric(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){mt(t,e,n[e])})}return t}({},L,{normYKey:"normControlY"}));return P(),{render:P,control:F,update:function(){b.shouldChartUpdate=!0,b.shouldControlUpdate=!0}}},yt={background:"#FFFFFF",scrollBackground:"#E2EEF9",scrollSelector:"#C0D1E1",gridLines:"#182D3B",tooltipArrow:"#D2D5D7",zoomText:"#108BE3"},wt={background:"#1B232F",scrollBackground:"#304259",scrollSelector:"#56626D",gridLines:"#FFFFFF",tooltipArrow:"#D2D5D7",zoomText:"#48AAF0"};function xt(t){var e=t.config,n=(t.control,t.ctx),r=t.norm,a=t.colors,i=t.normYKey,o=(t.yAxis,arguments.length>1&&void 0!==arguments[1]&&arguments[1],r.X(1)),l={items:[],width:0,opacity:1},c=0;return{shouldBulkRecalculate:function(t){var e=!1;if(c!==n.canvas.width)return c=n.canvas.width,!0;for(var r=0;r<t.items.length&&!(e=t.items[r].opacity.inProgress||!t.items[r].calculated);r++);return e},shouldRecalculate:function(t){return!0},calculate:function(t,r,a,c,u,s){t.key;var d=t.items,h=t.opacity,f=t.scaling[i];if(l.opacity=h.value,l.opacity){l.opacity<1&&(e.shouldControlUpdate=!0),l.items=[],l.width=o*u;var m=u-l.width;l.width=o*m;for(var g=d.length,v=o*m,p=v/2,y=n.canvas.width+g,w=-v,x=0;x<g;x++){r[x]+=d[x]*l.opacity;var b=a+v*x+p,A=c+s-f(r[x])*s,C=f(d[x])*s*l.opacity;if(!(b<w)){if(b>y)break;l.items.push([b,A,A+C])}}t.calculated=!0}},draw:function(t,e,r,i,o){var c=t.key,u=l.items;if(l.opacity){var s=u.length;n.save(),n.beginPath();for(var d=0;d<s;d++)n.moveTo(u[d][0],u[d][1]),n.lineTo(u[d][0],u[d][2]);n.lineWidth=l.width,n.strokeStyle=a[c],n.stroke(),n.restore()}}}}function bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function At(t){t.ctx,t.config;var e=t.control,n=t.yAxis,r=t.xAxis,a=xt(t),o=function(t){var e=t.canvasBounds,n=t.config,r=t.ctx,a=t.norm,o=(t.colors,t.normYKey),l=(n.mouse.mouse,n.popup),c=a.X(1),u=0,s=0,d=0,h=0,f=0,m=c*u,g=m/2,v=-1,p=-1,y=!1,w=!1,x=!0,b=!1,C=F(function(t,a){if(y=w,(!(w=r.canvas===a.target||r.canvas.nextSibling.contains(a.target))&&y||"BUTTON"===a.target.tagName)&&(-1!==p&&(n.shouldChartUpdate=!0),p=-1,l.hide()),w&&a.target===r.canvas&&((w||!0===y&&!1===w)&&(v=p,t.newY>h&&t.newY<h+s&&(p=f-Math.ceil((u+d-t.newX)/m))<f&&p>=0?l.show(p):(p=-1,l.hide())),v!==p)){if(n.shouldChartUpdate=!0,-1!==p){var o=l.element.getBoundingClientRect(),c=(p*m+d)/i;c-o.width-m-g<0?x=!1:c+o.width+m+g>e.width/i&&(x=!0),l.element.style.left="".concat(x?c-o.width-g:c+m+g,"px")}v=p}},50);return n.mouse.addListener("move",function(t,e){b&&C(t,e)}),n.mouse.addListener("down",function(t,e){b=!0,C(t,e)}),n.mouse.addListener("up",function(t,e){b=!1}),function(t,e,n,i,l,v){u=l,s=v,d=n,h=i,t.key;var y=t.items,w=(t.opacity,t.scaling[o]),x=l-m;if(f=y.length,g=(m=c*x)/2,p>-1&&p<f){var b=n+a.X(p)*x;r.save(),r.strokeStyle=A.THEME.gridLines,r.lineWidth=1,r.globalAlpha=.2,r.beginPath(),r.rect(b,i+v,m,-w(e[p])*v),r.fillStyle=A.THEME.gridLines,r.fill(),r.restore()}}}(t),c=dt(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){bt(t,e,n[e])})}return t}({},t,{forBars:!0})),u=ut(t,{textAlign:"left"});return function(t,i,s,d){for(var h=t-s*e.range[0]/e.scale,f=s/e.scale,m=d-g-l,v=i+b,y=new Array(r.length).fill(0),w=0;w<n.items.length;w++)a.calculate(n.items[w],y,h,v,f,m-p),a.draw(n.items[w],y,h,v,f,m-p);o(n.items[0],y,h,v,f,m-p),c(r,h,i+m-p,f,p),u(n.items[0],t,v,s,m-p,!0)}}function Ct(t){t.ctx,t.config;var e=t.control,n=t.yAxis,r=t.xAxis,a=function(t){var e=t.config,n=(t.control,t.ctx),r=t.norm,a=t.colors,i=(t.normYKey,t.yAxis,arguments.length>1&&void 0!==arguments[1]&&arguments[1],e.mouse.mouse,e.popup,r.X(1),0),o=0,l=0;return function(t,r,c,u,s,d,m,g){var v=t.key,p=(t.items,t.opacity.value);if(p){p<1&&(e.shouldControlUpdate=!0),i=Math.min(m/2,g/2),o=s+m/2,l=d+g/2,n.save(),n.beginPath(),n.fillStyle="red",n.moveTo(o,l);var y=h*c*2,w=h*u*2;n.arc(o,l,i,y,w),n.moveTo(o,l),n.fillStyle=a[v],n.fill(),n.restore(),n.save(),n.fillStyle="#fff",n.textAlign="center",n.globalAlpha=p,n.textBaseline="middle",n.font=f;var x=y+(w-y)/2,b=o+Math.cos(x)*(i/2),A=l+Math.sin(x)*(i/2);n.fillText(r.toFixed(0)+"%",b,A),n.restore()}}}(t);return function(t,i,c,u){e.range[0];for(var s=u-g-l,d=i+o+b,h=Math.floor(r.length*e.range[0]),f=Math.ceil(r.length*(e.range[1]-e.range[0])),m=h+f,v=n.items.reduce(function(t,e){return t+e.items.slice(h,m).reduce(_,0)*e.opacity.value},0)/100,y=0,w=0;w<n.items.length;w++){var x=n.items[w].items.slice(h,m).reduce(_,0)/v*n.items[w].opacity.value;a(n.items[w],x,y,y+=x,t,d,c,s-p)}}}function Tt(t){var e=t.config,n=(t.control,t.ctx),r=t.norm,a=t.colors,i=t.normYKey,o=(t.yAxis,arguments.length>1&&void 0!==arguments[1]&&arguments[1],r.X(1));return function(t,r,l,c,u,s,d){var h=t.key,f=t.items,m=t.opacity,g=(0,t.scaling[i])(1),v=m.value;if(v){v<1&&(e.shouldControlUpdate=!0);var p=f.length;n.save(),n.beginPath();var y=o*s,w=new Array(p).fill(0),x=l[0],b=u+d-g*Math.round(r[0]/x)*d;n.moveTo(c,b),w[0]=c+0*y;for(var A=1;A<p;A++){var C=Math.round(r[A]/l[A]);w[A]=c+y*A;var T=u+d-g*C*d;n.lineTo(w[A],T)}for(var E=p-1;E>=0;E--){r[E]+=f[E]*v;var M=u+d-g*Math.round(r[E]/l[E])*d;n.lineTo(w[E],M)}n.closePath(),n.fillStyle=a[h],n.fill(),n.restore()}}}function Et(t){t.ctx,t.config;var e=t.control,n=t.yAxis,r=t.xAxis,a=dt(t),c=Tt(t),u=function(t){var e=t.canvasBounds,n=t.config,r=t.ctx,a=t.norm,l=(t.colors,t.normYKey,n.mouse.mouse,n.popup),c=a.X(1),u=0,s=0,d=0,h=0,f=0,m=c*u,g=-1,v=-1,p=!1,y=!1,w=!0,x=!1,b=F(function(t,a){if(p=y,(!(y=r.canvas===a.target||r.canvas.nextSibling.contains(a.target))&&p||"BUTTON"===a.target.tagName)&&(-1!==v&&(n.shouldChartUpdate=!0),v=-1,l.hide()),y&&a.target===r.canvas&&((y||!0===p&&!1===y)&&(g=v,t.newY>h&&t.newY<h+s&&(v=f-Math.round((u+d-t.newX)/m+1))<f&&v>=0?l.show(v):(v=-1,l.hide())),g!==v)){if(n.shouldChartUpdate=!0,-1!==v){var c=l.element.getBoundingClientRect(),x=(v*m+d)/i;x-c.width-o<0?w=!1:x+c.width+o>e.width/i&&(w=!0),l.element.style.left="".concat(w?x-c.width-o:x+o,"px")}g=v}},50);return n.mouse.addListener("move",function(t,e){x&&b(t,e)}),n.mouse.addListener("down",function(t,e){x=!0,b(t,e)}),n.mouse.addListener("up",function(t,e){x=!1}),function(t,e,n,i,o){if(u=i,s=o,d=e,h=n,f=t.length,m=c*i,v>-1&&v<f){var l=e+a.X(v)*i;r.save(),r.strokeStyle=A.THEME.gridLines,r.lineWidth=1,r.globalAlpha=.2,r.beginPath(),r.moveTo(l,n),r.lineTo(l,n+o),r.stroke(),r.restore()}}}(t),s=ut(t,{textAlign:"left"});return function(t,i,d,h){for(var f=t-d*e.range[0]/e.scale,m=d/e.scale,v=h-g-l,y=i+o+b,w=new Array(r.length).fill(0),x=0;x<n.items.length;x++)for(var A=0;A<n.items[x].items.length;A++)w[A]+=n.items[x].items[A]*n.items[x].opacity.value;for(var C=0;C<r.length;C++)w[C]/=100;for(var T=new Array(r.length).fill(0),E=0;E<n.items.length;E++)c(n.items[E],T,w,f,y,m,v-p);u(r,f,y,m,v-p),a(r,f,i+v-p,m,p),s(n.items[0],t,y,d,v-p,!0)}}var Mt,Ht,St,kt,Ft=[];function Yt(t){var e={drawChartFabric:null,drawControlFabric:null},n=Object.keys(t.types).map(function(e){return t.types[e]}).filter(function(t){return"x"!==t});if(!n.length)throw new Error("DataSet error. No columns for chart");if(n.length>50)throw new Error("DataSet error. Supported up to 50 columns on one graph.");var r=n[0];if(t.y_scaled){if("line"!==r||2!==n.length)throw new Error("DataSet error. 'y_scaled' is only used with exactly 2 'line' columns.");e.drawChartFabric=function(t){return function(t){t.ctx,t.config;var e=t.control,n=t.yAxis,r=t.xAxis,a=ut(t,{textAlign:"left"}),i=ut(t,{textAlign:"right"}),c=dt(t),u=V(t),s=lt(t);return function(t,d,h,f){var m=t-h*e.range[0]/e.scale,v=h/e.scale,y=f-g-l,w=d+o+b;c(r,m,d+y-p,v,p);var x=!0;n.items[0].enabled&&(a(n.items[0],t,w,h,y-p,x),x=!1),n.items[1].enabled&&(i(n.items[1],t+h,w,-h,y-p,x),x=!1);for(var A=0;A<n.items.length;A++)u.calculate(n.items[A],m,w,v,y-p),u.draw(n.items[A],m,w,v,y-p);for(var C=0;C<n.items.length;C++)s(n.items[C],m,w,v,y-p)}}(t)},e.drawControlFabric=function(t){return ot(t)}}else"bar"==r?(e.drawChartFabric=function(t){return At(t)},e.drawControlFabric=function(t){return n=(e=t).ctx,r=e.config,e.canvasBounds,a=e.control,i=e.yAxis,o=e.xAxis,l=i.items.map(function(t){return xt(e)}),c=it(r,a),u=c.updateControlBounds,s=c.renderControl,d=new Array(o.length),function(t,e,r,a){u(t,r),r-=tt,t+=$,d.fill(0);for(var o=l[0].shouldBulkRecalculate(i),c=0;c<i.items.length;c++)o&&l[c].calculate(i.items[c],d,t,e+3,r,a-6),l[c].draw(i.items[c],t,e+3,r,a-6);s(n,t,e,r,a)};var e,n,r,a,i,o,l,c,u,s,d}):"area"==r?(e.drawChartFabric=function(t){return Et(t)},e.drawControlFabric=function(t){return n=(e=t).ctx,r=e.config,e.canvasBounds,a=e.control,i=e.yAxis,o=e.xAxis,l=Tt(e),c=it(r,a),u=c.updateControlBounds,s=c.renderControl,function(t,e,r,a){u(t,r),r-=tt,t+=$;for(var c=new Array(o.length).fill(0),d=0;d<i.items.length;d++)for(var h=0;h<i.items[d].items.length;h++)c[h]+=i.items[d].items[h]*i.items[d].opacity.value;for(var f=0;f<o.length;f++)c[f]/=100;for(var m=new Array(o.length).fill(0),g=0;g<i.items.length;g++)l(i.items[g],m,c,t,e+3,r,a-6);s(n,t,e,r,a)};var e,n,r,a,i,o,l,c,u,s},t.percentage&&(e.drawZoomedChartFabric=function(t){return Ct(t)})):(e.drawChartFabric=function(t){return function(t){t.ctx,t.config;var e=t.control,n=t.yAxis,r=t.xAxis,a=V(t),i=lt(t),c=dt(t),u=ut(t,{textAlign:"left"});return function(t,s,d,h){var f=t-d*e.range[0]/e.scale,m=d/e.scale,v=h-g-l,y=s+o+b;c(r,f,s+v-p,m,p),u(n.items[0],t,y,d,v-p,!0);for(var w=0;w<n.items.length;w++)a.calculate(n.items[w],f,y,m,v-p),a.draw(n.items[w],f,y,m,v-p);for(var x=0;x<n.items.length;x++)i(n.items[x],f,y,m,v-p)}}(t)},e.drawControlFabric=function(t){return ot(t)});return e}Mt=function(t){Ft.forEach(function(t){return t.update()})},Ht=document.querySelector("html"),St=!0,document.addEventListener("darkmode",function(){var t=Ht.className.toLowerCase().split(" ").indexOf("dark")>-1;St=!t,A.THEME=St?yt:wt,Mt&&Mt(St)}),document.dispatchEvent(new Event("darkmode")),window.Graph=(kt=0,{render:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={container:t||document.body,index:kt++,title:n.title||void 0},a=Yt(e),i=pt(r,e,a);return E.add(function(){i.render()}),Ft.push(i),i}})}]);