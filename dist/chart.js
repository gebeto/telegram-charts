!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=1)}([function(t,n,e){},function(t,n,e){"use strict";e.r(n);e(0);var r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=window.devicePixelRatio,a=4*i,c=2*a,l=343*i,u=16*i,s=2*u,d=2*Math.PI,h=(Math.PI,"".concat(11*i,"px sans-serif")),f=40*i,m=7*i,g=43*i,v=29*i,p=v/2,y=5*i,x=1*i,w=2*i,b=300,A={THEME:{}};var S,k,T=(S=[],k={time:0,add:function(t){S.push(t)},remove:function(t){var n=S.indexOf(t);n>-1&&S.splice(n,1)}},requestAnimationFrame(function t(n){k.time=n;for(var e=0;e<S.length;e++)S[e](n);requestAnimationFrame(t)}),k);function E(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var H=function(){function t(n,e,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.onAnimation=r,this.fromValue=n,this.toValue=n,this.value=n,this.startTime=0,this.duration=e,this.delay=0,this.inProgress=!1}var n,e,r;return n=t,(e=[{key:"playFrom",value:function(t,n){this.value=t,this.play(n)}},{key:"play",value:function(t){this.inProgress=!0,this.startTime=T.time,this.toValue=t,this.fromValue=this.value}},{key:"update",value:function(){var t=this._update();return t&&this.onAnimation&&this.onAnimation(),t}},{key:"_update",value:function(){if(this.value===this.toValue)return this.inProgress=!1,!1;this.inProgress=!0;var t=(T.time-this.startTime-this.delay)/this.duration;t<0&&(t=0),t>1&&(t=1);var n=-t*(t-2);return this.value=this.fromValue+(this.toValue-this.fromValue)*n,!0}}])&&E(n.prototype,e),r&&E(n,r),t}();function C(t,n,e){var r=t.createAnimation(n,b),o=t.createAnimation(e-n,b);function i(t){return(t-r.value)/o.value}return i.updateDelta=function(t,n){n,r.play(t),o.play(n-t)},i}var M=function(t,n){var e;return function(){var r=arguments;e||(t.apply(this,r),e=!0,setTimeout(function(){return e=!1},n))}},_=function(t,n){var e;return function(r){var o=this;r?t.apply(o,null):e||(e=!0,setTimeout(function(){t.apply(o,null),e=!1},n))}};var F=function(t){return t===1/0||t===-1/0?0:t},P=function(t){return Math.min.apply(null,t)},Y=function(t){return Math.max.apply(null,t)},B=function(t,n,e){return Math.min.apply(null,t.slice(n,1+e))},O=function(t,n,e){return Math.max.apply(null,t.slice(n,1+e))},R=function(t){return Math.min.apply(null,t.map(P))},L=function(t){return Math.max.apply(null,t.map(Y))},D=function(t,n,e){return Math.min.apply(null,t.map(function(t){return B(t,n,e)}))},X=function(t,n,e){return Math.max.apply(null,t.map(function(t){return O(t,n,e)}))},j=function(t){var n,e,r=new Array(t[0].length).fill(0);for(n=0;n<t.length;n++)for(e=0;e<t[n].length;e++)r[e]+=t[n][e];return r},U=1,z=3;function I(t,n,e,r){var o=r.paddingLeftSelector,a=r.paddingRightSelector,c=r.rounding,l=r.plus,u=(t.mouse.mouse,t.popup),s=t.scaleX,d={x:0,y:0,width:0,height:0,indexOld:-1,index:-1},h={count:0,chunkScale:t.scaleX,chunkSize:s*d.width,chunkSizeDiv2:s*d.width/2,onCanvasOld:!1,onCanvas:!1,popupSide:1,current:d},f=!1,m=M(function(r,s){if(h.onCanvasOld=h.onCanvas,h.onCanvas=e.canvas===s.target||e.canvas.nextSibling.contains(s.target),(!h.onCanvas&&h.onCanvasOld||"BUTTON"===s.target.tagName)&&(-1!==d.index&&(t.chart.shouldUpdate=!0),d.index=-1,u.hide()),h.onCanvas&&s.target===e.canvas&&((h.onCanvas||!0===h.onCanvasOld&&!1===h.onCanvas)&&(d.indexOld=d.index,r.newY>d.y&&r.newY<d.y+d.height?(d.index=h.count-c((d.width+d.x-r.newX)/h.chunkSize+l),d.index<h.count&&d.index>=0?u.show(d.index):(d.index=-1,u.hide())):(d.index=-1,u.hide())),d.indexOld!==d.index)){if(t.chart.shouldUpdate=!0,-1!==d.index){var f=u.element.getBoundingClientRect(),m=(d.index*h.chunkSize+d.x)/i,g=a(h)/i,v=o(h)/i,p=m+f.width+v,y=m-f.width-v;p>n.width/i?h.popupSide=U:y<0&&(h.popupSide=z),h.popupSide===U?u.element.style.left="".concat(m-f.width-g,"px"):h.popupSide===z&&(u.element.style.left="".concat(m+v,"px"))}d.indexOld=d.index}},50);return t.mouse.addListener("move",function(t,n){f&&m(t,n)}),t.mouse.addListener("down",function(t,n){f=!0,m(t,n)}),t.mouse.addListener("up",function(t,n){f=!1}),h}function N(t){var n=t.config,e=(t.control,t.canvasBounds,t.ctx),r=(t.norm,t.colors),o=t.normYKey,i=(t.xAxis,t.yAxis,arguments.length>1&&void 0!==arguments[1]&&arguments[1],n.scaleX),a={items:[],width:0,opacity:1,offsetIndex:0},c=0;return{shouldBulkRecalculate:function(t){var n=!1;if(c!==e.canvas.width)return c=e.canvas.width,!0;for(var r=0;r<t.items.length&&!(n=t.items[r].opacity.inProgress||!t.items[r].calculated);r++);return n},shouldRecalculate:function(t){return!0},calculate:function(t,r,c,l,u,s){t.key;var d=t.items,h=t.opacity,f=t.scaling[o];if(a.opacity=h.value,a.opacity){a.opacity<1&&(n.control.shouldUpdate=!0),a.items=[],a.offsetIndex=0,a.width=i*u;var m=u-a.width;a.width=i*m;for(var g=d.length,v=i*m,p=v/2,y=-v,x=e.canvas.width+g,w=0;w<g;w++){r[w]+=d[w]*a.opacity;var b=c+v*w+p,A=l+s-f(r[w])*s,S=f(d[w])*s*a.opacity;if(b<y)a.offsetIndex++;else{if(b>x)break;a.items.push([b,A,A+S])}}t.calculated=!0}},draw:function(t,n,o,i,c,l,u){var s=t.key,d=a.items;if(a.opacity){var h=d.length;e.save(),e.beginPath(),e.lineWidth=a.width,e.strokeStyle=r[s];for(var f=0;f<h;f++){var m=u===f+a.offsetIndex;m&&(e.globalAlpha=.5,e.stroke(),e.globalAlpha=1,e.beginPath()),e.moveTo(d[f][0],d[f][1]),e.lineTo(d[f][0],d[f][2]),m&&(e.stroke(),e.globalAlpha=.5,e.beginPath())}e.stroke(),e.restore()}}}}function K(t,n){var e=Math.abs(t);if(e>1e9&&n)return(t/1e9).toFixed(2)+"B";if(e>1e6&&n)return(t/1e6).toFixed(2)+"M";if(e>1e3&&n)return(t/1e3).toFixed(1)+"K";if(e>1){for(var r=e.toFixed(0),o=t<0?"-":"",i=0;i<r.length;i++)o+=r.charAt(i),(r.length-1-i)%3==0&&(o+=" ");return o}return t.toString()}function W(t){t.control;var n=t.ctx,e=(t.normX,t.normY,t.colors,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),r=e.textAlign||"left";return function(t,e,o,a,c,l,u){var s=Math.round(t.scaling.minHeightAnim.value),d=Math.round(t.scaling.maxHeightAnim.value),f=t.opacity.value,m=(c+c/6/2)/6,g=Math.ceil((d-s)/6);n.save(),n.beginPath(),n.fillStyle=t.scaling.color||A.THEME.gridLines,n.globalAlpha=u?f/2:t.scaling.color?.8:.5,n.font=h,n.textBaseline="bottom",n.textAlign=r;for(var v=0;v<6;v++){l&&(n.moveTo(e,o+c-v*m),n.lineTo(e+a,o+c-v*m));var p=K(s+g*v,!0);n.fillText(p,e+3,o+c-v*m-y)}n.lineWidth=1*i,l&&(n.globalAlpha=.1,n.strokeStyle=A.THEME.gridLines,n.stroke()),n.restore()}}var V=[0,1,2,4,4,8,8,8,8,16,16,16,16,16,16,16,16,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64];function J(t){var n=t.config,e=(t.control,t.ctx),r=(t.norm,t.colors,t.forBars),o=n.scaleX,i=0;return function(t,n,a,c,l){var u=t.length;i=r?o*(c-o*c):o*c,r&&(c-=i),e.save(),e.fillStyle=A.THEME.gridLines,e.font=h,e.textAlign="center",e.textBaseline="middle",e.globalAlpha=.5;for(var s=c*o,d=(Math.floor(s),Math.ceil(f/s)),m=d+1,g=V[d],v=V[m],y=(s/(f/d)-1)*d,x=0;x<u;x+=g){var w=x%v;e.globalAlpha=0===w?.5:y>.5?.5:y;var b=n+(r?i/2:0)+i*x,S=a+p;b<-f||b>e.canvas.width+f||e.fillText(t[x].dayString,b,S)}e.restore()}}function q(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function G(t){t.ctx;var n=t.config,e=t.yAxis,r=t.xAxis,o=N(t),i=function(t){var n=t.canvasBounds,e=t.config,r=t.ctx,o=(t.norm,t.colors,t.normYKey,I(e,n,r,{paddingLeftSelector:function(t){return t.chunkSize+(t.chunkSizeDiv2>10?10:t.chunkSizeDiv2)},paddingRightSelector:function(t){return t.chunkSizeDiv2>10?10:t.chunkSizeDiv2},rounding:Math.ceil,plus:0}));return function(t,n,e,r,i,a){o.current.width=i,o.current.height=a,o.current.x=e,o.current.y=r;var c=i-o.chunkSize;return o.count=t.length,o.chunkSize=o.chunkScale*c,o.chunkSizeDiv2=o.chunkSize/2,o.current.index}}(t),a=J(function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){q(t,n,e[n])})}return t}({},t,{forBars:!0})),l=W(t,{textAlign:"left"});return function(t,u,s,d){for(var h=t-s*n.control.range[0]/n.control.scale,f=s/n.control.scale,g=d-m-c,p=u+w,y=i(r,x,h,p,f,g-v),x=new Array(r.length).fill(0),b=0;b<e.items.length;b++)o.calculate(e.items[b],x,h,p,f,g-v),o.draw(e.items[b],x,h,p,f,g-v,y);a(r,h,u+g-v,f,v),l(e.items[0],t,p,s,g-v,!0)}}var Q=0,Z=1,$=2,tt=3,nt=10*i,et=nt/2,rt=10*i,ot=2*rt,it=rt/2,at=rt-rt/3,ct=2*i,lt=(rt-ct)/2;function ut(t){var n={controlsBounds:{start:{x:0,y:0,width:0,height:0},end:{x:0,y:0,width:0,height:0}}},e=n.controlsBounds,r=Q,o=[0,0],a=14*i,c=0,l=0,u=l-c,s=0,d=0;return t.mouse.addListener("move",function(n){if(r!==Q){t.chart.shouldUpdate=!0,t.control.shouldUpdate=!0;var e=t.normalizeForControl(n.newX)-t.normalizeForControl(n.x),i=o[0]+e,a=o[1]+e;if(r===Z)i>0?t.control.updateRange(i,o[1]):t.control.updateRange(0,o[1]);else if(r===$)a<1?t.control.updateRange(o[0],a):t.control.updateRange(o[0],1);else if(i>=0&&a<=1)t.control.updateRange(i,a);else if(a>1){var c=1-o[1];t.control.updateRange(o[0]+c,o[1]+c)}else if(i<0){var l=0-o[0];t.control.updateRange(o[0]+l,o[1]+l)}}}),t.mouse.addListener("down",function(n){var i=a,c=a,l=e.start,u=e.end;n.y>l.y&&n.y<l.y+l.height&&(t.chart.shouldUpdate=!0,t.control.shouldUpdate=!0,o=[t.control.range[0],t.control.range[1]],n.newX>l.x-i&&n.newX<l.x+l.width&&n.newY>l.y-i&&n.newY<l.y+l.height+i?r=Z:n.newX>u.x&&n.newX<u.x+u.width+c&&n.newY>u.y-c&&n.newY<u.y+u.height+c?r=$:n.newX>l.x+l.width&&n.newX<u.x&&n.newY>u.y-a&&n.newY<u.y+u.height+a&&(r=tt))}),t.mouse.addListener("up",function(t){r=Q}),n.updateControlBounds=function(t,n){s=n,d=t},n.renderControl=function(n,r,o,i,a){c=r+i*t.control.range[0],l=r+i*t.control.range[1],u=l-c,e.start.x=c-rt,e.start.y=o,e.start.width=rt,e.start.height=a,e.end.x=l,e.end.y=o,e.end.width=rt,e.end.height=a,n.save(),n.globalAlpha=.6,n.fillStyle=A.THEME.scrollBackground,n.beginPath(),n.moveTo(c-1,o),n.lineTo(c-1,o+a),n.arcTo(d,o+a,d,o+a-rt,it),n.arcTo(d,o,c-1,o,it),n.closePath(),n.fill(),n.beginPath(),n.moveTo(l+1,o),n.lineTo(l+1,o+a),n.arcTo(d+s,o+a,d+s,o+a-rt,it),n.arcTo(d+s,o,l,o,it),n.closePath(),n.fill(),n.restore(),n.save(),n.fillStyle=A.THEME.scrollSelector,n.beginPath(),n.rect(c,o,u,x),n.rect(c,o+a-x,u,x),n.fill(),n.beginPath();var h=c;n.moveTo(h,o),n.lineTo(h,o+a),n.arcTo(h-rt,o+a,h-rt,o+a-rt,at),n.arcTo(h-rt,o,h,o,at),n.closePath(),n.fill(),n.beginPath(),n.moveTo(l,o),n.lineTo(l,o+a),n.arcTo(l+rt,o+a,l+rt,o+a-rt,at),n.arcTo(l+rt,o,l,o,at),n.closePath(),n.fill(),n.restore(),n.save(),n.beginPath(),n.fillStyle="#FFFFFF",n.rect(c-lt,o+a/2-et,-ct,nt),n.rect(l+lt,o+a/2-et,ct,nt),n.fill(),n.restore()},n}function st(t){var n=t.config,e=(t.control,t.ctx),r=(t.norm,t.colors),o=t.normYKey,a=(t.yAxis,((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).lineWidth||2)*i),c=n.scaleX,l={items:[],opacity:1,offsetIndex:0},u=0;return{draws:l,shouldBulkRecalculate:function(t){return!0},shouldRecalculate:function(t){var n=t.opacity.inProgress||!t.calculated||e.canvas.width!==u;return u=e.canvas.width,n},calculate:function(t,r,i,a,u){t.key;var s=t.items,d=t.opacity,h=t.scaling[o],f=d.value;if(l.opacity=d.value,f){f<1&&(n.control.shouldUpdate=!0),l.items=[],l.offsetIndex=0;var m=s.length,g=c*a,v=i+u,p=-g,y=e.canvas.width+g;l.items.push([r+0,v-h(s[0])*u]);for(var x=1;x<m;x++){var w=r+g*x,b=v-h(s[x])*u;if(b>v&&(n.control.shouldUpdate=!0),w<p)l.offsetIndex++;else{if(w>y)break;l.items.push([w,b])}}t.calculated=!0}},draw:function(t,n,o,i,c){var u=l.items,s=l.opacity,d=t.key;if(s){var h=u.length;e.save(),e.beginPath(),e.moveTo(u[0][0],u[0][1]);for(var f=1;f<h;f++)e.lineTo(u[f][0],u[f][1]);e.lineWidth=a,e.strokeStyle=r[d],e.globalAlpha=s,e.lineJoin="round",e.stroke(),e.restore()}}}}function dt(t){var n=t.canvasBounds,e=t.config,r=t.ctx,o=(t.norm,t.colors,t.normYKey,I(e,n,r,{paddingLeftSelector:function(t){return a},paddingRightSelector:function(t){return a},rounding:Math.round,plus:1}));return function(t,n,e,r,i){return o.current.width=r,o.current.height=i,o.current.x=n,o.current.y=e,o.count=t.length,o.chunkSize=o.chunkScale*r,o.current.index}}function ht(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ft(t,n,e,r,o){for(var i=t.ctx,c=t.colors,l=t.yAxis,u=0;u<l.items.length;u++){var s=l.items[u].key,h=o[u].draws,f=r-h.offsetIndex;if(h.items[f]){var m=ht(h.items[f],2),g=m[0],v=m[1];i.save(),i.strokeStyle=A.THEME.gridLines,i.lineWidth=1,i.globalAlpha=.1,i.beginPath(),i.moveTo(g,n),i.lineTo(g,n+e),i.stroke(),i.restore(),i.save(),i.beginPath(),i.arc(g,v,a,0,d),i.fillStyle=A.THEME.background,i.lineWidth=w,i.globalAlpha=h.opacity,i.strokeStyle=c[s],i.fill(),i.stroke(),i.restore()}}}function mt(t){var n=t.ctx,e=t.config,r=(t.canvasBounds,t.control,t.yAxis),o=(t.xAxis,r.items.map(function(n){return st(t,{lineWidth:1})})),i=ut(e),a=i.updateControlBounds,c=i.renderControl;return function(t,e,i,l){a(t,i),i-=ot,t+=rt;for(var u=0;u<r.items.length;u++)o[u].shouldRecalculate(r.items[u])&&o[u].calculate(r.items[u],t,e+3,i,l-6),o[u].draw(r.items[u],t,e+3,i,l-6);c(n,t,e,i,l)}}function gt(t){var n=t.config,e=(t.control,t.ctx),r=(t.norm,t.colors),o=t.normYKey,i=(t.yAxis,arguments.length>1&&void 0!==arguments[1]&&arguments[1],n.scaleX);return function(t,a,c,l,u,s,d){var h=t.key,f=t.items,m=t.opacity,g=(0,t.scaling[o])(1),v=m.value;if(v){v<1&&(n.control.shouldUpdate=!0);var p=f.length;e.save(),e.beginPath();var y=i*s,x=new Array(p).fill(0),w=c[0],b=u+d-g*Math.round(a[0]/w)*d;e.moveTo(l,b),x[0]=l+0*y;for(var A=1;A<p;A++){var S=Math.round(a[A]/c[A]);x[A]=l+y*A;var k=u+d-g*S*d;e.lineTo(x[A],k)}for(var T=p-1;T>=0;T--){a[T]+=f[T]*v;var E=u+d-g*Math.round(a[T]/c[T])*d;e.lineTo(x[T],E)}e.closePath(),e.fillStyle=r[h],e.fill(),e.restore()}}}function vt(t){t.ctx;var n=t.config,e=t.yAxis,r=t.xAxis,o=J(t),i=gt(t),l=function(t){var n=t.canvasBounds,e=t.config,r=t.ctx,o=(t.norm,t.colors,t.normYKey,I(e,n,r,{paddingLeftSelector:function(t){return a},paddingRightSelector:function(t){return a},rounding:Math.round,plus:1}));return function(t,n,e,i,a){if(o.current.width=i,o.current.height=a,o.current.x=n,o.current.y=e,o.count=t.length,o.chunkSize=o.chunkScale*i,o.current.index>-1&&o.current.index<o.count){var c=n+o.chunkSize*o.current.index;r.save(),r.strokeStyle=A.THEME.gridLines,r.lineWidth=1,r.globalAlpha=.2,r.beginPath(),r.moveTo(c,e),r.lineTo(c,e+a),r.stroke(),r.restore()}}}(t),u=W(t,{textAlign:"left"});return function(t,s,d,h){for(var f=t-d*n.control.range[0]/n.control.scale,g=d/n.control.scale,p=h-m-c,y=s+a+w,x=new Array(r.length).fill(0),b=0;b<e.items.length;b++)for(var A=0;A<e.items[b].items.length;A++)x[A]+=e.items[b].items[A]*e.items[b].opacity.value;for(var S=0;S<r.length;S++)x[S]/=100;for(var k=new Array(r.length).fill(0),T=0;T<e.items.length;T++)i(e.items[T],k,x,f,y,g,p-v);l(r,f,y,g,p-v),o(r,f,s+p-v,g,v),u(e.items[0],t,y,d,p-v,!0)}}var pt={bar:{drawChartFabric:function(t){return G(t)},drawControlFabric:function(t){return e=(n=t).ctx,r=n.config,n.canvasBounds,n.control,o=n.yAxis,i=n.xAxis,a=o.items.map(function(t){return N(n)}),c=ut(r),l=c.updateControlBounds,u=c.renderControl,s=new Array(i.length),function(t,n,r,i){l(t,r),r-=ot,t+=rt,s.fill(0);for(var c=a[0].shouldBulkRecalculate(o),d=0;d<o.items.length;d++)c&&a[d].calculate(o.items[d],s,t,n+3,r,i-6),a[d].draw(o.items[d],t,n+3,r,i-6);u(e,t,n,r,i)};var n,e,r,o,i,a,c,l,u,s}},area:{drawChartFabric:function(t){return vt(t)},drawControlFabric:function(t){return e=(n=t).ctx,r=n.config,n.canvasBounds,n.control,o=n.yAxis,i=n.xAxis,a=gt(n),c=ut(r),l=c.updateControlBounds,u=c.renderControl,function(t,n,r,c){l(t,r),r-=ot,t+=rt;for(var s=new Array(i.length).fill(0),d=0;d<o.items.length;d++)for(var h=0;h<o.items[d].items.length;h++)s[h]+=o.items[d].items[h]*o.items[d].opacity.value;for(var f=0;f<i.length;f++)s[f]/=100;for(var m=new Array(i.length).fill(0),g=0;g<o.items.length;g++)a(o.items[g],m,s,t,n+3,r,c-6);u(e,t,n,r,c)};var n,e,r,o,i,a,c,l,u}},line:{drawChartFabric:function(t){return function(t){t.ctx;var n=t.config,e=(t.colors,t.yAxis),r=t.xAxis,o=e.items.map(function(n){return st(t)}),i=dt(t),l=J(t),u=W(t,{textAlign:"left"});return function(s,d,h,f){var g=s-h*n.control.range[0]/n.control.scale,p=h/n.control.scale,y=f-m-c,x=d+a+w;l(r,g,d+y-v,p,v),u(e.items[0],s,x,h,y-v,!0);for(var b=0;b<e.items.length;b++)o[b].calculate(e.items[b],g,x,p,y-v),o[b].draw(e.items[b],g,x,p,y-v);var A=i(r,g,x,p,y-v);ft(t,d,f,A,o)}}(t)},drawControlFabric:function(t){return mt(t)}},dual_line:{drawChartFabric:function(t){return function(t){t.ctx;var n=t.config,e=(t.colors,t.yAxis),r=t.xAxis,o=W(t,{textAlign:"left"}),i=W(t,{textAlign:"right"}),l=J(t),u=e.items.map(function(n){return st(t)}),s=dt(t);return function(d,h,f,g){var p=d-f*n.control.range[0]/n.control.scale,y=f/n.control.scale,x=g-m-c,b=h+a+w;l(r,p,h+x-v,y,v);var A=!0;e.items[0].enabled&&(o(e.items[0],d,b,f,x-v,A),A=!1),e.items[1].enabled&&(i(e.items[1],d+f,b,-f,x-v,A),A=!1);for(var S=0;S<e.items.length;S++)u[S].calculate(e.items[S],p,b,y,x-v),u[S].draw(e.items[S],p,b,y,x-v,k);var k=s(r,p,b,y,x-v);ft(t,h,g,k,u)}}(t)},drawControlFabric:function(t){return mt(t)}}};function yt(t){var n=Object.keys(t.types).map(function(n){return t.types[n]}).filter(function(t){return"x"!==t});if(!n.length)throw new Error("DataSet error. No columns for chart");if(n.length>50)throw new Error("DataSet error. Supported up to 50 columns on one graph.");var e=n[0];if(pt[e]){if(t.y_scaled){if("line"!==e||2!==n.length)throw new Error("DataSet error. 'y_scaled' is only used with exactly 2 'line' columns.");return pt.dual_line}return pt[e]}return fabric}function xt(t){t.canvas;var n=t.canvasBounds,e=function(t){var n={},e={},r={x:0,y:0,xRaw:0,yRaw:0,newX:0,newY:0,newXRaw:0,newYRaw:0,isHolding:!1};return t.forEach(function(t){n[t]=[],e[t]=function(e,r){for(var o=0;o<n[t].length;o++)n[t][o](e,r)}}),{mouse:r,addListener:function(t,e){n[t].push(e)},dispatch:function(t,n){if(!e[t])throw Error("Unknown event");e[t](r,n)}}}(["move","enter","leave","down","up"]),r=e.mouse;function o(t){r.xRaw=t.clientX-n.left,r.yRaw=t.clientY-n.top,r.x=r.xRaw*i,r.y=r.yRaw*i,r.newXRaw=r.xRaw,r.newYRaw=r.yRaw,r.newX=r.x,r.newY=r.y,e.dispatch("down",t)}function a(t){r.newXRaw=t.clientX-n.left,r.newYRaw=t.clientY-n.top,r.newX=r.newXRaw*i,r.newY=r.newYRaw*i,e.dispatch("move",t)}function c(t){r.isHolding=!1,e.dispatch("up",t)}return document.addEventListener("mousedown",o),document.addEventListener("mousemove",a),document.addEventListener("mouseup",c),document.addEventListener("touchstart",function(t){o(t.touches[0])}),document.addEventListener("touchmove",function(t){a(t.touches[0])},{passive:!1}),document.addEventListener("touchend",c),document.addEventListener("touchcancel",c),document.addEventListener("selectstart",function(t){return!1}),{mouse:r,addListener:e.addListener}}function wt(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function bt(t,n){var e=t.title,i=t.columns,a=t.types,c=t.colors,l=t.names,u=(t.percentage,t.stacked,t.y_scaled,wt(i)),s=wt(u[0]),d=(s[0],s.slice(1)),h=u.slice(1);return{title:e,columns:i,types:a,colors:c,names:l,xAxis:d.map(function(t){return n=t,e=new Date(n),{dayString:"".concat(r[e.getMonth()]," ").concat(e.getDate()),dateString:"".concat(o[e.getDay()],", ").concat(e.getDate()," ").concat(r[e.getMonth()]," ").concat(e.getFullYear()),dateStringTitle:"".concat(e.getDate()," ").concat(r[e.getMonth()]," ").concat(e.getFullYear()),date:e,timestamp:n};var n,e}),yAxis:function(t,n,e){var r=t.map(function(t){var r=wt(t),o=r[0],i=r.slice(1),a={opacity:e.animator.createAnimation(1,b),key:o,scaling:{},enabled:!0,items:i};return n.y_scaled&&(a.scaling.color=n.colors[a.key],a.scaling.minHeight=F(P(a.items)),a.scaling.maxHeight=F(Y(a.items)),a.scaling.minHeightAnim=e.animator.createAnimation(0,b),a.scaling.maxHeightAnim=e.animator.createAnimation(0,b),a.scaling.normY=C(e.animator,a.scaling.minHeight,a.scaling.maxHeight),a.scaling.normControlY=C(e.animator,a.scaling.minHeight,a.scaling.maxHeight),a.scaling.updateMinMax=function(t,n){a.scaling.minHeight=F(B(a.items,t,n)),a.scaling.maxHeight=F(O(a.items,t,n)),a.scaling.minHeightAnim.play(a.scaling.minHeight),a.scaling.maxHeightAnim.play(a.scaling.maxHeight),a.scaling.normY.updateDelta(a.scaling.minHeight,a.scaling.maxHeight)}),a});if(!n.y_scaled){var o={};n.percentage?function(t,n,e){var r=t.animator.createAnimation(0,b),o=t.animator.createAnimation(100,b);n.minHeight=0,n.maxHeight=100,n.minHeightAnim=r,n.maxHeightAnim=o,n.normY=C(t.animator,0,100),n.normControlY=C(t.animator,0,100),n.updateMinMax=function(t,n){}}(e,o):n.stacked?function(t,n,e){var r=e.map(function(t){return t.items}),o=F(Y(j(r))),i=O(j(r),0,o),a=t.animator.createAnimation(0,b),c=t.animator.createAnimation(0,b);n.minHeight=0,n.maxHeight=i,n.minHeightAnim=a,n.maxHeightAnim=c,n.normY=C(t.animator,0,i),n.normControlY=C(t.animator,0,o),n.updateMinMax=function(t,r){var o=e.filter(function(t){return t.enabled}).map(function(t){return t.items});n.minHeight=0;try{n.maxHeight=F(O(j(o),t,r))}catch(t){return}n.minHeightAnim.play(n.minHeight),n.maxHeightAnim.play(n.maxHeight),n.normY.updateDelta(n.minHeight,n.maxHeight);var i=F(Y(j(o)));n.normControlY.updateDelta(0,i)}}(e,o,r):function(t,n,e){var r=e.map(function(t){return t.items}),o=F(R(r)),i=F(L(r)),a=R(r,o,i),c=L(r,o,i),l=t.animator.createAnimation(0,b),u=t.animator.createAnimation(0,b);n.minHeight=a,n.maxHeight=c,n.minHeightAnim=l,n.maxHeightAnim=u,n.normY=C(t.animator,a,c),n.normControlY=C(t.animator,o,i),n.updateMinMax=function(t,r){var o=e.filter(function(t){return t.enabled}).map(function(t){return t.items});n.minHeight=F(D(o,t,r)),n.maxHeight=F(X(o,t,r)),n.minHeightAnim.play(n.minHeight),n.maxHeightAnim.play(n.maxHeight),n.normY.updateDelta(n.minHeight,n.maxHeight);var i=F(R(o)),a=F(L(o));n.normControlY.updateDelta(i,a)}}(e,o,r),r.forEach(function(t){t.scaling=o})}return{items:r}}(h,t,n)}}function At(t,n,e){var r=document.createElement(n);return r.className=e,t&&t.appendChild(r),r}function St(t,n,e,r,o,i){var a=r.key,c={enabled:!0},l=At(t,"button","chart__buttons-button");function u(){!0===c.enabled?(l.className="chart__buttons-button",l.style.color="#FFF"):(l.className="chart__buttons-button unchecked",l.style.color=e.colors[a]),r.enabled=c.enabled,r.opacity.play(c.enabled?1:0),i&&i(c.enabled)}return l.textContent=e.names[a],l.style.backgroundColor=e.colors[a],l.style.borderColor=e.colors[a],function(t,n,e){var r=null,o=!1;function i(){r=setTimeout(function(){e&&e(),o=!0},200)}function a(){clearTimeout(r)}t.addEventListener("click",function(){clearTimeout(r),o?o=!1:n&&n()}),t.addEventListener("mousedown",i),t.addEventListener("mousemove",a),t.addEventListener("touchstart",i),t.addEventListener("touchmove",a)}(l,function(){if(1===o.activeButtonsCount&&c.enabled)return l.className="chart__buttons-button error",void setTimeout(function(){l.className="chart__buttons-button"},140);c.enabled=!c.enabled,u()},function(){c.show(),o.hideAllExcept(l)}),c.hide=function(t){c.enabled&&t!==l&&(c.enabled=!1,u())},c.show=function(){c.enabled||(c.enabled=!0,u())},c}function kt(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var Tt=function(t,n,e){var r,o,a,c=t.container,d=t.index,h=n.title||t.title||"Chart #".concat(d+1),f=At(c,"div","chart"),m=function(t,n,e){var r=At(t,"div","chart__header"),o=At(r,"h2","chart__header-title");o.textContent=n;var i=At(r,"h3","chart__header-sub-title");return i.textContent=e,{setTitle:function(t){o.textContent=t},setSubtitle:function(t){i.textContent=t}}}(f,h,""),v=At(f,"canvas","chart__canvas"),p=v.getContext("2d"),y=(o=[],{opts:a={active:!1},createAnimation:function(t,n,e){var r=new H(t,n,e);return o.push(r),r},removeAnimation:function(t){var n=o.indexOf(t);n>-1&&o.splice(n,1)},updateAnimations:function(){for(var t=o.length,n=!1,e=0;e<t;e++)n=o[e].update()||n;return a.active=n,n}}),x={left:0,top:0},w={index:d,animator:y,mouse:xt({config:w,canvas:v,canvasBounds:x}),popup:{},normalizeForControl:function(t){return r(t)}},b=bt(n,w),A=(b.columns,b.types,b.colors),S=(b.names,b.xAxis),k=b.yAxis;w.scaleX=function(t,n){var e=n-t;function r(n){return(n-t)/e}return r.de=function(n){return n*e+t},r}(0,S.length-1)(1),w.popup=function(t,n,e,r,o){var i=At(t,"div","chart__popup");function a(t){var n,a=o.items.filter(function(t){return t.enabled}).map(function(n){return r=e.colors[n.key],o=e.names[n.key],i=n.items[t],'\n\t\t<span class="chart__popup-item">\n\t\t\t<span class="chart__popup-item-title">'.concat(o,'</span>\n\t\t\t<span class="chart__popup-item-value" style="color: ').concat(r,'">').concat(i,"</span>\n\t\t</span>\n\t");var r,o,i});a.length&&(i.innerHTML="\n\t\t\t".concat((n=r[t].dateString,'\n\t\t<strong class="chart__popup-header">\n\t\t\t<span class="chart__popup-header-title">'.concat(n,'</span>\n\t\t\t<span class="chart__popup-header-icon"></span>\n\t\t</strong>\n\t')),"\n\t\t\t").concat(a.join(""),"\n\t\t"))}return{element:i,update:a,show:function(t){a(t),i.style.opacity=1,i.style.visibility="visible"},hide:function(){i.style.opacity=0,i.style.visibility="hidden"}}}(f,0,n,S,k),k.items.length>1&&function(t,n,e,r,o){var i={activeButtonsCount:r.items.length,hideAllExcept:function(t){l.forEach(function(n){n.hide(t)})},hideAll:function(){l.forEach(function(t){t.hide()})}},a=At(t,"div","chart__buttons"),c={},l=r.items.map(function(t){return c[t[0]]=St(a,0,e,t,i,function(t){i.activeButtonsCount+=t?1:-1,i.activeButtonsCount<1||o&&o()})})}(f,w.animator,n,k,function(){T(!0)});var T=_(function(){var t=w.control.range[0],n=w.control.range[1],e=t*S.length,r=e<0?0:Math.floor(e),o=n*S.length,i=o>S.length?S.length:Math.ceil(o);k.items.forEach(function(t){return t.scaling.updateMinMax(r,i)}),m.setSubtitle("".concat(S[r].dateStringTitle," - ").concat(S[i-1].dateStringTitle))},100);function E(){var t=v.getBoundingClientRect(),n=t.width*i,e=t.height*i;x.width=n,x.height=l,x.left=t.left,x.right=t.right,x.top=t.top,x.bottom=t.bottom,x.x=t.x,x.y=t.y,x.width===n&&x.height===e||(w.chart.shouldUpdate=!0,w.control.shouldUpdate=!0,r=function(t,n){var e=n-t,r={};function o(n){return r[n]||(r[n]=(n-t)/e),r[n]}return o.de=function(n){return n*e+t},o.data={delta:e,min:t,max:n},o}(s,x.width-s),v.width=x.width,v.height=l)}function C(){E(),w.animator.updateAnimations()&&(w.chart.shouldUpdate=!0),w.chart.shouldUpdate&&w.chart.render(),w.control.shouldUpdate&&w.control.render()}var M={config:w,ctx:p,colors:A,xAxis:S,yAxis:k,canvasBounds:x,normYKey:"normY"},F=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){kt(t,n,e[n])})}return t}({},M,{normYKey:"normControlY"});return w.chart=function(t,n){var e=t(n),r={shouldUpdate:!1,render:function(){r.shouldUpdate=!1,n.ctx.clearRect(0,0,n.canvasBounds.width,l-g),e(u,0,n.canvasBounds.width-s,l-g)}};return r}(e.drawChartFabric,M),w.control=function(t,n,e,r){var o=e.length,i=t(n),a={range:[.7,1],count:0,scale:0,shouldUpdate:!0,updateRange:function(t,n){var e=n-t,i=o*e;i>5&&(a.count=1+(i>>0),a.scale=e,a.range[0]=t,a.range[1]=n,r&&r())},render:function(){a.shouldUpdate=!1,n.ctx.clearRect(0,l-g,n.canvasBounds.width,g),i(u,l-g,n.canvasBounds.width-s,g)}};return a}(e.drawControlFabric,F,S,function(){return T()}),window.addEventListener("resize",E),w.control.updateRange(w.control.range[0],w.control.range[1]),E(),T(!0),C(),{render:C,control:w.control,chart:w.chart,update:function(){w.chart.shouldUpdate=!0,w.control.shouldUpdate=!0}}},Et={background:"#FFFFFF",scrollBackground:"#E2EEF9",scrollSelector:"#C0D1E1",gridLines:"#182D3B",tooltipArrow:"#D2D5D7",zoomText:"#108BE3"},Ht={background:"#1B232F",scrollBackground:"#304259",scrollSelector:"#56626D",gridLines:"#FFFFFF",tooltipArrow:"#D2D5D7",zoomText:"#48AAF0"};var Ct,Mt,_t,Ft,Pt=[];Ct=function(t){Pt.forEach(function(t){return t.update()})},Mt=document.querySelector("html"),_t=!0,document.addEventListener("darkmode",function(){var t=Mt.className.toLowerCase().split(" ").indexOf("dark")>-1;_t=!t,A.THEME=_t?Et:Ht,Ct&&Ct(_t)}),document.dispatchEvent(new Event("darkmode")),window.Graph=(Ft=0,{render:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={container:t||document.body,index:Ft++,title:e.title||void 0},o=yt(n),i=Tt(r,n,o);return T.add(function(){i.render()}),Pt.push(i),i}})}]);