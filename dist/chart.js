!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=1)}([function(t,n,e){},function(t,n,e){"use strict";e.r(n);e(0);var r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=window.devicePixelRatio,a=4*i,c=2*a,u=343*i,l=16*i,s=2*l,d=2*Math.PI,f=Math.PI/100,h="".concat(11*i,"px sans-serif"),m=40*i,g=7*i,p=43*i,v=29*i,y=v/2,x=5*i,b=1*i,w=2*i,S={THEME:{}};var A,k,T=(A=[],k={time:0,add:function(t){A.push(t)},remove:function(t){var n=A.indexOf(t);n>-1&&A.splice(n,1)}},requestAnimationFrame((function t(n){k.time=n;for(var e=0;e<A.length;e++)A[e](n);requestAnimationFrame(t)})),k);function M(t){var n=function(t){var n={},e={},r={x:0,y:0,xRaw:0,yRaw:0,newX:0,newY:0,newXRaw:0,newYRaw:0,isHolding:!1};return t.forEach((function(t){n[t]=[],e[t]=function(e,r){for(var o=0;o<n[t].length;o++)n[t][o](e,r)}})),{mouse:r,addListener:function(t,e){n[t].push(e)},removeListener:function(t,e){var r=n[t].indexOf(e);n[t].splice(r,1)},dispatch:function(t,n){if(!e[t])throw Error("Unknown event");e[t](r,n)}}}(["move","enter","leave","down","up"]),e=n.mouse;function r(r){e.xRaw=r.clientX-t.canvasBounds.left,e.yRaw=r.clientY-t.canvasBounds.top,e.x=e.xRaw*i,e.y=e.yRaw*i,e.newXRaw=e.xRaw,e.newYRaw=e.yRaw,e.newX=e.x,e.newY=e.y,n.dispatch("down",r)}function o(r){e.newXRaw=r.clientX-t.canvasBounds.left,e.newYRaw=r.clientY-t.canvasBounds.top,e.newX=e.newXRaw*i,e.newY=e.newYRaw*i,n.dispatch("move",r)}function a(t){e.isHolding=!1,n.dispatch("up",t)}return document.addEventListener("mousedown",r),document.addEventListener("mousemove",o),document.addEventListener("mouseup",a),document.addEventListener("touchstart",(function(t){r(t.touches[0])})),document.addEventListener("touchmove",(function(t){o(t.touches[0])}),{passive:!1}),document.addEventListener("touchend",a),document.addEventListener("touchcancel",a),document.addEventListener("selectstart",(function(t){return!1})),{mouse:e,addListener:n.addListener,removeListener:n.removeListener}}function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O(r.key),r)}}function O(t){var n=function(t,n){if("object"!=C(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,n||"default");if("object"!=C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==C(n)?n:n+""}var _=function(){return t=function t(n,e,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.onAnimation=r,this.fromValue=n,this.toValue=n,this.value=n,this.startTime=0,this.duration=e,this.delay=0,this.inProgress=!1},(n=[{key:"playFrom",value:function(t,n){this.value=t,this.play(n)}},{key:"play",value:function(t){this.inProgress=!0,this.startTime=T.time,this.toValue=t,this.fromValue=this.value}},{key:"update",value:function(){var t=this._update();return t&&this.onAnimation&&this.onAnimation(this.value),t}},{key:"_update",value:function(){if(this.value===this.toValue)return this.inProgress=!1,!1;this.inProgress=!0;var t=(T.time-this.startTime-this.delay)/this.duration;t<0&&(t=0),t>1&&(t=1);var n=-t*(t-2);return this.value=this.fromValue+(this.toValue-this.fromValue)*n,!0}}])&&E(t.prototype,n),e&&E(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,e}();function P(t,n,e,r,o,i){t.createAnimation(Math.round(100*r),200,(function(t){n[e]=t/100,i&&i(n[e])})).play(Math.round(100*o))}function H(t,n){var e=Math.abs(t);return e>1e9&&n?(t/1e9).toFixed(2)+"B":e>1e6&&n?(t/1e6).toFixed(2)+"M":e>1e3&&n?(t/1e3).toFixed(1)+"K":e>1?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):t.toString()}function F(t,n){var e=n-t;function r(n){return(n-t)/e}return r.de=function(n){return n*e+t},r}function L(t,n,e){var r=t.createAnimation(n,200),o=t.createAnimation(e-n,200);function i(t){return(t-r.value)/o.value}return i.updateDelta=function(t,n){n,r.play(t),o.play(n-t)},i}var B=function(t,n){return t+n},j=function(t){return t===1/0||t===-1/0?0:t},D=function(t){return Math.min.apply(null,t)},Y=function(t){return Math.max.apply(null,t)},R=function(t,n,e){return Math.min.apply(null,t.slice(n,1+e))},z=function(t,n,e){return Math.max.apply(null,t.slice(n,1+e))},U=function(t){return Math.min.apply(null,t.map(D))},X=function(t){return Math.max.apply(null,t.map(Y))},I=function(t){var n,e,r=new Array(t[0].length).fill(0);for(n=0;n<t.length;n++)for(e=0;e<t[n].length;e++)r[e]+=t[n][e];return r};function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return W(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?W(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function V(t,n,e){return(n=function(t){var n=function(t,n){if("object"!=N(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,n||"default");if("object"!=N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==N(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var J=V(V(V({},36e5,{dayString:function(t){return t.toISOString().split("T")[1].split(":").slice(0,2).join(":")},dateString:function(t){return"".concat(o[t.getDay()],", ").concat(t.toISOString().split("T")[1].split(":").slice(0,2).join(":"))},dateStringTitle:function(t){return"".concat(t.getDate()," ").concat(r[t.getMonth()]," ").concat(t.getFullYear())}}),864e5,{dayString:function(t){return"".concat(r[t.getMonth()]," ").concat(t.getDate())},dateString:function(t){return"".concat(o[t.getDay()],", ").concat(t.getDate()," ").concat(r[t.getMonth()]," ").concat(t.getFullYear())},dateStringTitle:function(t){return"".concat(t.getDate()," ").concat(r[t.getMonth()]," ").concat(t.getFullYear())}}),3,{dayString:function(t){return"".concat(r[t.getMonth()]," ").concat(t.getDate())},dateString:function(t){return"".concat(o[t.getDay()],", ").concat(t.getDate()," ").concat(r[t.getMonth()]," ").concat(t.getFullYear())},dateStringTitle:function(t){return"".concat(t.getDate()," ").concat(r[t.getMonth()]," ").concat(t.getFullYear())}});function q(t,n,e){var i=new Date(t),a={dayString:"".concat(r[i.getMonth()]," ").concat(i.getDate()),dateString:"".concat(o[i.getDay()],", ").concat(i.getDate()," ").concat(r[i.getMonth()]," ").concat(i.getFullYear()),dateStringTitle:"".concat(i.getDate()," ").concat(r[i.getMonth()]," ").concat(i.getFullYear()),date:i,timestamp:t};return n&&(a.dayString=n.dayString(i),a.dateString=n.dateString(i),a.dateStringTitle=n.dateStringTitle(i)),a}function $(t){return function(n){return new Promise((function(n,e){n(t)}))}}function G(t,n){var e=t.title,r=t.columns,o=t.types,i=t.colors,a=t.names,c=t.percentage,u=t.stacked,l=t.y_scaled,s=t.x_on_zoom,d=K(r),f=K(d[0]),h=(f[0],f.slice(1)),m=d.slice(1),g=h[1]-h[0],p=h.map((function(t){return q(t,J[g])})),v=function(t,n,e){var r=t.map((function(t){var r=K(t),o=r[0],i=r.slice(1),a={opacity:e.animator.createAnimation(1,200),key:o,scaling:{},enabled:!0,items:i};return n.y_scaled&&(a.scaling.color=n.colors[a.key],a.scaling.minHeight=j(D(a.items)),a.scaling.maxHeight=j(Y(a.items)),a.scaling.minHeightAnim=e.animator.createAnimation(0,200),a.scaling.maxHeightAnim=e.animator.createAnimation(0,200),a.scaling.normY=L(e.animator,a.scaling.minHeight,a.scaling.maxHeight),a.scaling.normControlY=L(e.animator,a.scaling.minHeight,a.scaling.maxHeight),a.scaling.updateMinMax=function(t,n){a.scaling.minHeight=j(R(a.items,t,n)),a.scaling.maxHeight=j(z(a.items,t,n)),a.scaling.minHeightAnim.play(a.scaling.minHeight),a.scaling.maxHeightAnim.play(a.scaling.maxHeight),a.scaling.normY.updateDelta(a.scaling.minHeight,a.scaling.maxHeight)}),a}));if(!n.y_scaled){var o={};n.percentage?function(t,n,e){var r=t.animator.createAnimation(0,200),o=t.animator.createAnimation(100,200);n.minHeight=0,n.maxHeight=100,n.minHeightAnim=r,n.maxHeightAnim=o,n.normY=L(t.animator,0,100),n.normControlY=L(t.animator,0,100),n.updateMinMax=function(t,n){}}(e,o):n.stacked?function(t,n,e){var r=e.map((function(t){return t.items})),o=j(Y(I(r))),i=z(I(r),0,o),a=t.animator.createAnimation(0,200),c=t.animator.createAnimation(0,200);n.minHeight=0,n.maxHeight=i,n.minHeightAnim=a,n.maxHeightAnim=c,n.normY=L(t.animator,0,i),n.normControlY=L(t.animator,0,o),n.updateMinMax=function(t,r){var o=e.filter((function(t){return t.enabled})).map((function(t){return t.items}));n.minHeight=0;try{n.maxHeight=j(z(I(o),t,r))}catch(t){return}n.minHeightAnim.play(n.minHeight),n.maxHeightAnim.play(n.maxHeight),n.normY.updateDelta(n.minHeight,n.maxHeight);var i=j(Y(I(o)));n.normControlY.updateDelta(0,i)}}(e,o,r):function(t,n,e){var r=e.map((function(t){return t.items})),o=j(U(r)),i=j(X(r)),a=U(r),c=X(r),u=t.animator.createAnimation(0,200),l=t.animator.createAnimation(0,200);n.minHeight=a,n.maxHeight=c,n.minHeightAnim=u,n.maxHeightAnim=l,n.normY=L(t.animator,a,c),n.normControlY=L(t.animator,o,i),n.updateMinMax=function(t,r){var o,i,a,c=e.filter((function(t){return t.enabled})).map((function(t){return t.items}));n.minHeight=j((o=c,i=t,a=r,Math.min.apply(null,o.map((function(t){return R(t,i,a)}))))),n.maxHeight=j(function(t,n,e){return Math.max.apply(null,t.map((function(t){return z(t,n,e)})))}(c,t,r)),n.minHeightAnim.play(n.minHeight),n.maxHeightAnim.play(n.maxHeight),n.normY.updateDelta(n.minHeight,n.maxHeight);var u=j(U(c)),l=j(X(c));n.normControlY.updateDelta(u,l)}}(e,o,r),r.forEach((function(t){t.scaling=o}))}return{items:r}}(m,t,n);return{title:e,columns:r,types:o,colors:i,names:a,x_on_zoom:c&&!s?$(t):s,percentage:c,stacked:u,y_scaled:l,xAxis:p,yAxis:v}}function Z(t,n,e){var r=document.createElement(n);return r.className=e,t&&t.appendChild(r),r}function Q(t,n){var e=Z(t,"div","chart__popup"),r=[],o=-1;function i(t){var r,o,i=n.data.yAxis.items.filter((function(t){return t.enabled})).map((function(e){return r=n.data.colors[e.key],o=n.data.names[e.key],i=e.items[t],'\n\t\t<span class="chart__popup-item">\n\t\t\t<span class="chart__popup-item-title">'.concat(o,'</span>\n\t\t\t<span class="chart__popup-item-value" style="color: ').concat(r,'">').concat(H(i),"</span>\n\t\t</span>\n\t");var r,o,i}));i.length&&(e.innerHTML="\n\t\t\t".concat((r=n.data.xAxis[t].dateString,o=n.data.x_on_zoom,'\n\t\t<strong class="chart__popup-header">\n\t\t\t<span class="chart__popup-header-title">'.concat(r,"</span>\n\t\t\t").concat(o?'<span class="chart__popup-header-icon"></span>':"<span></span>","\n\t\t</strong>\n\t")),"\n\t\t\t").concat(i.join(""),"\n\t\t"))}return e.addEventListener("click",(function(){if(n.data.xAxis[o])for(var t=0;t<r.length;t++)r[t](n.data.xAxis[o].timestamp)})),{element:e,update:i,show:function(t){o=t,i(t),e.style.opacity=1,e.style.visibility="visible"},hide:function(){o=-1,e.style.opacity=0,e.style.visibility="hidden"},onClick:function(t){r.push(t)}}}function tt(t,n,e,r,o){var i=e.key,a={key:i,enabled:!0},c=Z(t,"button","chart__buttons-button");c.textContent=n.data.names[i],c.style.backgroundColor=n.data.colors[i],c.style.borderColor=n.data.colors[i];var u=function(t,n,e){var r=null,o=!1;function i(){clearTimeout(r),o?o=!1:n&&n()}function a(){r=setTimeout((function(){e&&e(),o=!0}),200)}function c(){clearTimeout(r)}function u(){t.addEventListener("click",i),t.addEventListener("mousedown",a),t.addEventListener("mousemove",c),t.addEventListener("touchstart",a),t.addEventListener("touchmove",c)}return u(),{init:u,destroy:function(){t.removeEventListener("click",i),t.removeEventListener("mousedown",a),t.removeEventListener("mousemove",c),t.removeEventListener("touchstart",a),t.removeEventListener("touchmove",c)}}}(c,(function(){if(1===r.activeButtonsCount&&a.enabled)return c.className="chart__buttons-button error",void setTimeout((function(){c.className="chart__buttons-button"}),140);a.enabled=!a.enabled,l()}),(function(){a.show(),r.hideAllExcept(c)}));function l(t){!0===a.enabled?(c.className="chart__buttons-button",c.style.color="#FFF"):(c.className="chart__buttons-button unchecked",c.style.color=n.data.colors[i]);var r=e.enabled!==a.enabled;e.enabled=a.enabled,t&&(e.opacity.value=a.enabled?.99:.01),e.opacity.play(a.enabled?1:0),r&&o&&o(a.enabled)}return a.update=l,a.hide=function(t){a.enabled&&t!==c&&(a.enabled=!1,l())},a.show=function(){a.enabled||(a.enabled=!0,l())},a.destroy=function(){t&&t.removeChild(c),u.destroy()},a.init=function(){t&&t.appendChild(c),u.init()},a}function nt(t,n,e){var r={activeButtonsCount:n.data.yAxis.items.length,hideAllExcept:function(t){a.forEach((function(n){n.hide(t)}))},hideAll:function(){a.forEach((function(t){t.hide()}))}},o=Z(t,"div","chart__buttons"),i={},a=n.data.yAxis.items.map((function(t){var a=tt(n.data.yAxis.items.length>1?o:null,n,t,r,(function(t){r.activeButtonsCount+=t?1:-1,r.activeButtonsCount<1||e&&e()}));return i[t.key]=a}));return i.mergeState=function(t){a.map((function(e){n.control.shouldUpdate=!0,n.chart.shouldUpdate=!0,t[e.key]&&(e.enabled=!(a.length>1)||t[e.key].enabled),e.update(!0)}))},i.destroy=function(){a.map((function(t){return t.destroy()})),t.removeChild(o)},i.init=function(){a.map((function(t){return t.init()})),t.appendChild(o)},i}function et(t){var n=t.config,e=t.normYKey,r=n.ctx,o=(n.control,n.data),i=o.colors,a=(o.yAxis,o.xAxis,n.scaleX),c={items:[],width:0,opacity:1,offsetIndex:0},u=0;function l(t){var n=!1;if(u!==r.canvas.width)return u=r.canvas.width,!0;for(var e=0;e<t.items.length&&!(n=t.items[e].opacity.inProgress||!t.items[e].calculated);e++);return n}function s(t){return!0}function d(t,o,i,u,l,s){t.key;var d=t.items,f=t.opacity,h=t.scaling[e];if(c.opacity=f.value,c.opacity){c.opacity<1&&(n.control.shouldUpdate=!0),c.items=[],c.offsetIndex=0,c.width=a*l;var m=l-c.width;c.width=a*m;for(var g=d.length,p=a*m,v=p/2,y=-p,x=r.canvas.width+g,b=0;b<g;b++){o[b]+=d[b]*c.opacity;var w=i+p*b+v,S=u+s-h(o[b])*s,A=h(d[b])*s*c.opacity;if(w<y)c.offsetIndex++;else{if(w>x)break;c.items.push([w,S,S+A])}}t.calculated=!0}}function f(t,n,e,o,a,u,l){var s=t.key,d=c.items;if(c.opacity){var f=d.length;r.save(),r.beginPath(),r.lineWidth=c.width,r.strokeStyle=i[s];for(var h=0;h<f;h++){var m=l===h+c.offsetIndex;m&&(r.globalAlpha=.5,r.stroke(),r.globalAlpha=1,r.beginPath()),r.moveTo(d[h][0],d[h][1]),r.lineTo(d[h][0],d[h][2]),m&&(r.stroke(),r.globalAlpha=.5,r.beginPath())}r.stroke(),r.restore()}}return{shouldBulkRecalculate:l,shouldRecalculate:s,calculate:d,draw:f}}function rt(t,n){var e,r,o,a=n.paddingLeftSelector,c=n.paddingRightSelector,u=n.rounding,l=n.plus,s=t.ctx,d=(t.mouse.mouse,t.popup),f=t.scaleX,h={x:0,y:0,width:0,height:0,indexOld:-1,index:-1},m={count:0,chunkScale:t.scaleX,chunkSize:f*h.width,chunkSizeDiv2:f*h.width/2,onCanvasOld:!1,onCanvas:!1,popupSide:1,current:h},g=!1,p=(e=function(n,e){if(m.onCanvasOld=m.onCanvas,m.onCanvas=s.canvas===e.target||s.canvas.nextSibling.contains(e.target),(!m.onCanvas&&m.onCanvasOld||"BUTTON"===e.target.tagName)&&(-1!==h.index&&(t.chart.shouldUpdate=!0),h.index=-1,d.hide()),m.onCanvas&&e.target===s.canvas&&((m.onCanvas||!0===m.onCanvasOld&&!1===m.onCanvas)&&(h.indexOld=h.index,n.newY>h.y&&n.newY<h.y+h.height?(h.index=m.count-u((h.width+h.x-n.newX)/m.chunkSize+l),h.index<m.count&&h.index>=0?d.show(h.index):(h.index=-1,d.hide())):(h.index=-1,d.hide())),h.indexOld!==h.index)){if(t.chart.shouldUpdate=!0,-1!==h.index){var r=d.element.getBoundingClientRect(),o=(h.index*m.chunkSize+h.x)/i,f=c(m)/i,g=a(m)/i,p=o+r.width+g,v=o-r.width-g;p>t.canvasBounds.width/i?m.popupSide=1:v<0&&(m.popupSide=3),1===m.popupSide?d.element.style.left="".concat(o-r.width-f,"px"):3===m.popupSide&&(d.element.style.left="".concat(o+g,"px"))}h.indexOld=h.index}},r=50,function(){var t=arguments,n=this;o||(e.apply(n,t),o=!0,setTimeout((function(){return o=!1}),r))}),v=function(t,n){g&&p(t,n)},y=function(t,n){g=!0,p(t,n)},x=function(t,n){g=!1};return m.destroy=function(){t.mouse.removeListener("move",v),t.mouse.removeListener("down",y),t.mouse.removeListener("up",x),h.indexOld=-1,h.index=-1},m.init=function(){t.mouse.addListener("move",v),t.mouse.addListener("down",y),t.mouse.addListener("up",x)},m.init(),m}function ot(t){var n=t.config,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.ctx,o=(n.control,n.data),a=(o.colors,o.yAxis,o.xAxis,6),c=e.textAlign||"left";return function(t,n,e,o,u,l,s){var d=Math.round(t.scaling.minHeightAnim.value),f=Math.round(t.scaling.maxHeightAnim.value),m=t.opacity.value,g=(u+u/a/2)/a,p=Math.ceil((f-d)/a);r.save(),r.beginPath(),r.fillStyle=t.scaling.color||S.THEME.gridLines,r.globalAlpha=s?m/2:t.scaling.color?.8:.5,r.font=h,r.textBaseline="bottom",r.textAlign=c;for(var v=0;v<a;v++){l&&(r.moveTo(n,e+u-v*g),r.lineTo(n+o,e+u-v*g));var y=H(d+p*v,!0);r.fillText(y,n+3,e+u-v*g-x)}r.lineWidth=1*i,l&&(r.globalAlpha=.1,r.strokeStyle=S.THEME.gridLines,r.stroke()),r.restore()}}var it=[0,1,2,4,4,8,8,8,8,16,16,16,16,16,16,16,16,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64];function at(t){var n=t.config,e=t.forBars,r=n.ctx,o=(n.control,n.data),i=(o.colors,o.yAxis,o.xAxis,n.scaleX),a=0;return function(t,n,o,c,u){var l=t.length;a=e?i*(c-i*c):i*c,e&&(c-=a),r.save(),r.fillStyle=S.THEME.gridLines,r.font=h,r.textAlign="center",r.textBaseline="middle",r.globalAlpha=.5;for(var s=c*i,d=(Math.floor(s),Math.ceil(m/s)),f=it[d],g=it[d+1],p=(s/(m/d)-1)*d,v=0;v<l;v+=f){var x=v%g;r.globalAlpha=0===x||p>.5?.5:p;var b=n+(e?a/2:0)+a*v,w=o+y;b<-m||b>r.canvas.width+m||r.fillText(t[v].dayString,b,w)}r.restore()}}function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ut(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function lt(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?ut(Object(e),!0).forEach((function(n){st(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ut(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function st(t,n,e){return(n=function(t){var n=function(t,n){if("object"!=ct(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,n||"default");if("object"!=ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==ct(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function dt(t){var n=t.config,e=(n.ctx,n.data),r=(e.colors,e.yAxis),o=e.xAxis,i=et(t),a=function(t){var n=t.config,e=(t.normYKey,n.ctx,n.control,n.data),r=(e.colors,e.yAxis,e.xAxis,rt(n,{paddingLeftSelector:function(t){return t.chunkSize+(t.chunkSizeDiv2>10?10:t.chunkSizeDiv2)},paddingRightSelector:function(t){return t.chunkSizeDiv2>10?10:t.chunkSizeDiv2},rounding:Math.ceil,plus:0}));function o(t,n,e,o,i,a){r.current.width=i,r.current.height=a,r.current.x=e,r.current.y=o;var c=i-r.chunkSize;return r.count=t.length,r.chunkSize=r.chunkScale*c,r.chunkSizeDiv2=r.chunkSize/2,r.current.index}return o.destroy=function(){r.destroy()},o.init=function(){r.init()},o}(t),u=at(lt(lt({},t),{},{forBars:!0})),l=ot(t,{textAlign:"left"});function s(t,e,s,d){for(var f=t-s*n.control.range[0]/n.control.scale,h=s/n.control.scale,m=d-g-c,p=e+w,y=a(o,x,f,p,h,m-v),x=new Array(o.length).fill(0),b=0;b<r.items.length;b++)i.calculate(r.items[b],x,f,p,h,m-v),i.draw(r.items[b],x,f,p,h,m-v,y);u(o,f,e+m-v,h,v),l(r.items[0],t,p,s,m-v,!0)}return s.destroy=function(){a.destroy()},s.init=function(){a.init()},s}var ft=10*i,ht=ft/2,mt=10*i,gt=2*mt,pt=mt/2,vt=mt-mt/3,yt=2*i,xt=(mt-yt)/2;function bt(t){var n={controlsBounds:{start:{x:0,y:0,width:0,height:0},end:{x:0,y:0,width:0,height:0}}},e=n.controlsBounds,r=0,o=[0,0],a=14*i,c=0,u=0,l=u-c,s=0,d=0;function f(n){if(0!==r){t.chart.shouldUpdate=!0,t.control.shouldUpdate=!0;var e=t.normalizeForControl(n.newX)-t.normalizeForControl(n.x),i=o[0]+e,a=o[1]+e;if(1===r)i>0?t.control.updateRange(i,o[1]):t.control.updateRange(0,o[1]);else if(2===r)a<1?t.control.updateRange(o[0],a):t.control.updateRange(o[0],1);else if(i>=0&&a<=1)t.control.updateRange(i,a);else if(a>1){var c=1-o[1];t.control.updateRange(o[0]+c,o[1]+c)}else if(i<0){var u=0-o[0];t.control.updateRange(o[0]+u,o[1]+u)}}}function h(n){var i=a,c=a,u=e.start,l=e.end;n.y>u.y&&n.y<u.y+u.height&&(t.chart.shouldUpdate=!0,t.control.shouldUpdate=!0,o=[t.control.range[0],t.control.range[1]],n.newX>u.x-i&&n.newX<u.x+u.width&&n.newY>u.y-i&&n.newY<u.y+u.height+i?r=1:n.newX>l.x&&n.newX<l.x+l.width+c&&n.newY>l.y-c&&n.newY<l.y+l.height+c?r=2:n.newX>u.x+u.width&&n.newX<l.x&&n.newY>l.y-a&&n.newY<l.y+l.height+a&&(r=3))}function m(t){r=0}function g(){t.mouse.addListener("move",f),t.mouse.addListener("down",h),t.mouse.addListener("up",m)}return n.updateControlBounds=function(t,n){s=n,d=t},n.renderControl=function(n,r,o,i,a){c=r+i*t.control.range[0],u=r+i*t.control.range[1],l=u-c,e.start.x=c-mt,e.start.y=o,e.start.width=mt,e.start.height=a,e.end.x=u,e.end.y=o,e.end.width=mt,e.end.height=a,n.save(),n.globalAlpha=.6,n.fillStyle=S.THEME.scrollBackground,n.beginPath(),n.moveTo(c-1,o),n.lineTo(c-1,o+a),n.arcTo(d,o+a,d,o+a-mt,pt),n.arcTo(d,o,c-1,o,pt),n.closePath(),n.fill(),n.beginPath(),n.moveTo(u+1,o),n.lineTo(u+1,o+a),n.arcTo(d+s,o+a,d+s,o+a-mt,pt),n.arcTo(d+s,o,u,o,pt),n.closePath(),n.fill(),n.restore(),n.save(),n.fillStyle=S.THEME.scrollSelector,n.beginPath(),n.rect(c,o,l,b),n.rect(c,o+a-b,l,b),n.fill(),n.beginPath();var f=c;n.moveTo(f,o),n.lineTo(f,o+a),n.arcTo(f-mt,o+a,f-mt,o+a-mt,vt),n.arcTo(f-mt,o,f,o,vt),n.closePath(),n.fill(),n.beginPath(),n.moveTo(u,o),n.lineTo(u,o+a),n.arcTo(u+mt,o+a,u+mt,o+a-mt,vt),n.arcTo(u+mt,o,u,o,vt),n.closePath(),n.fill(),n.restore(),n.save(),n.beginPath(),n.fillStyle="#FFFFFF",n.rect(c-xt,o+a/2-ht,-yt,ft),n.rect(u+xt,o+a/2-ht,yt,ft),n.fill(),n.restore()},n.destroy=function(){t.mouse.removeListener("move",f),t.mouse.removeListener("down",h),t.mouse.removeListener("up",m)},n.init=g,g(),n}function wt(t){var n=t.config,e=t.normYKey,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.ctx,a=(n.control,n.data),c=a.colors,u=(a.yAxis,a.xAxis,(r.lineWidth||2)*i),l=n.scaleX,s={items:[],opacity:1,offsetIndex:0},d=0;function f(t){return!0}function h(t){var n=t.opacity.inProgress||!t.calculated||o.canvas.width!==d;return d=o.canvas.width,n}function m(t,r,i,a,c){t.key;var u=t.items,d=t.opacity,f=t.scaling[e],h=d.value;if(s.opacity=d.value,h){h<1&&(n.control.shouldUpdate=!0),s.items=[],s.offsetIndex=0;var m=u.length,g=l*a,p=i+c,v=-g,y=o.canvas.width+g;s.items.push([r+0,p-f(u[0])*c]);for(var x=1;x<m;x++){var b=r+g*x,w=p-f(u[x])*c;if(w>p&&(n.control.shouldUpdate=!0),b<v)s.offsetIndex++;else{if(b>y)break;s.items.push([b,w])}}t.calculated=!0}}function g(t,n,e,r,i){var a=s.items,l=s.opacity,d=t.key;if(l){var f=a.length;o.save(),o.beginPath(),o.moveTo(a[0][0],a[0][1]);for(var h=1;h<f;h++)o.lineTo(a[h][0],a[h][1]);o.lineWidth=u,o.strokeStyle=c[d],o.globalAlpha=l,o.lineJoin="round",o.stroke(),o.restore()}}return{draws:s,shouldBulkRecalculate:f,shouldRecalculate:h,calculate:m,draw:g}}function St(t){var n=t.config,e=(t.normYKey,n.ctx,n.control,n.data),r=(e.colors,e.yAxis,e.xAxis,rt(n,{paddingLeftSelector:function(t){return a},paddingRightSelector:function(t){return a},rounding:Math.round,plus:1}));function o(t,n,e,o,i){return r.current.width=o,r.current.height=i,r.current.x=n,r.current.y=e,r.count=t.length,r.chunkSize=r.chunkScale*o,r.current.index}return o.destroy=function(){r.destroy()},o.init=function(){r.init()},o}function At(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=i.call(e)).done)&&(c.push(r.value),c.length!==n);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,n)||function(t,n){if(t){if("string"==typeof t)return kt(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?kt(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function Tt(t,n,e,r,o){for(var i=t.config,c=i.ctx,u=i.data,l=u.colors,s=u.yAxis,f=(u.xAxis,0);f<s.items.length;f++){var h=s.items[f].key,m=o[f].draws,g=r-m.offsetIndex;if(m.items[g]){var p=At(m.items[g],2),v=p[0],y=p[1];c.save(),c.strokeStyle=S.THEME.gridLines,c.lineWidth=1,c.globalAlpha=.1,c.beginPath(),c.moveTo(v,n),c.lineTo(v,n+e),c.stroke(),c.restore(),c.save(),c.beginPath(),c.arc(v,y,a,0,d),c.fillStyle=S.THEME.background,c.lineWidth=w,c.globalAlpha=m.opacity,c.strokeStyle=l[h],c.fill(),c.stroke(),c.restore()}}}function Mt(t){var n=t.config,e=n.ctx,r=n.data,o=(r.colors,r.yAxis),i=(r.xAxis,o.items.map((function(n){return wt(t,{lineWidth:1})}))),a=bt(n),c=a.updateControlBounds,u=a.renderControl,l=a.destroy,s=a.init;function d(t,n,r,a){c(t,r),r-=gt,t+=mt;for(var l=0;l<o.items.length;l++)i[l].shouldRecalculate(o.items[l])&&i[l].calculate(o.items[l],t,n+3,r,a-6),i[l].draw(o.items[l],t,n+3,r,a-6);u(e,t,n,r,a)}return d.destroy=function(){l()},d.init=function(){s()},d}function Ct(t){var n=t.config,e=(n.ctx,n.data),r=(e.colors,e.yAxis),o=e.xAxis,i=r.items.map((function(n){return function(t){var n=t.config,e=(t.normYKey,n.ctx),r=(n.control,n.data),o=r.colors,i=(r.yAxis,r.xAxis,n.mouse.mouse,n.popup,n.scaleX,0),a=0,c=0;function u(t,n,e,r,o,i,a,c){}function l(t,r,u,l,s,d,m,g){var p=t.key,v=(t.items,t.opacity.value);if(m,g,s,d,v){v<1&&(n.control.shouldUpdate=!0),i=Math.min(m/2,g/2),a=s+m/2,c=d+g/2,e.save(),e.beginPath(),e.fillStyle="red",e.moveTo(a,c);var y=f*u*2,x=f*l*2;e.arc(a,c,i,y,x),e.moveTo(a,c),e.fillStyle=o[p],e.fill(),e.restore(),e.save(),e.fillStyle="#fff",e.textAlign="center",e.globalAlpha=v,e.textBaseline="middle",e.font=h;var b=y+(x-y)/2,w=a+Math.cos(b)*(i/2),S=c+Math.sin(b)*(i/2);e.fillText(r.toFixed(0)+"%",w,S),e.restore()}}return{calculate:u,draw:l}}(t)}));function u(t,e,u,l){n.control.range[0];for(var s=l-g-c,d=e+a+w,f=Math.floor(o.length*n.control.range[0]),h=Math.ceil(o.length*(n.control.range[1]-n.control.range[0])),m=f+h,p=r.items.reduce((function(t,n){return t+n.items.slice(f,m).reduce(B,0)*n.opacity.value}),0)/100,y=0,x=0;x<r.items.length;x++){var b=r.items[x].items.slice(f,m).reduce(B,0)/p*r.items[x].opacity.value;i[x].draw(r.items[x],b,y,y+=b,t,d,u,s-v)}}return u.destroy=function(){},u.init=function(){},u}function Et(t){var n=t.config,e=t.normYKey,r=n.ctx,o=(n.control,n.data),i=o.colors,a=(o.yAxis,o.xAxis,n.scaleX);function c(t,n,e,r,o,i,a){}function u(t,o,c,u,l,s,d){var f=t.key,h=t.items,m=t.opacity,g=(0,t.scaling[e])(1),p=m.value;if(p){p<1&&(n.control.shouldUpdate=!0);var v=h.length;r.save(),r.beginPath();var y=a*s,x=new Array(v).fill(0),b=c[0],w=l+d-g*Math.round(o[0]/b)*d;r.moveTo(u,w),x[0]=u+0*y;for(var S=1;S<v;S++){var A=Math.round(o[S]/c[S]);x[S]=u+y*S;var k=l+d-g*A*d;r.lineTo(x[S],k)}for(var T=v-1;T>=0;T--){o[T]+=h[T]*p;var M=l+d-g*Math.round(o[T]/c[T])*d;r.lineTo(x[T],M)}r.closePath(),r.fillStyle=i[f],r.fill(),r.restore()}}return{calculate:c,draw:u}}function Ot(t){var n=t.config,e=(n.ctx,n.data),r=(e.colors,e.yAxis),o=e.xAxis,i=at(t),u=r.items.map((function(n){return Et(t)})),l=function(t){var n=t.config,e=(t.normYKey,n.ctx),r=(n.control,n.data),o=(r.colors,r.yAxis,r.xAxis,rt(n,{paddingLeftSelector:function(t){return a},paddingRightSelector:function(t){return a},rounding:Math.round,plus:1}));function i(t,n,r,i,a){if(o.current.width=i,o.current.height=a,o.current.x=n,o.current.y=r,o.count=t.length,o.chunkSize=o.chunkScale*i,o.current.index>-1&&o.current.index<o.count){var c=n+o.chunkSize*o.current.index;e.save(),e.strokeStyle=S.THEME.gridLines,e.lineWidth=1,e.globalAlpha=.2,e.beginPath(),e.moveTo(c,r),e.lineTo(c,r+a),e.stroke(),e.restore()}}return i.destroy=function(){o.destroy()},i.init=function(){o.init()},i}(t),s=ot(t,{textAlign:"left"});function d(t,e,d,f){for(var h=t-d*n.control.range[0]/n.control.scale,m=d/n.control.scale,p=f-g-c,y=e+a+w,x=new Array(o.length).fill(0),b=0;b<r.items.length;b++)for(var S=0;S<r.items[b].items.length;S++)x[S]+=r.items[b].items[S]*r.items[b].opacity.value;for(var A=0;A<o.length;A++)x[A]/=100;for(var k=new Array(o.length).fill(0),T=0;T<r.items.length;T++)u[T].draw(r.items[T],k,x,h,y,m,p-v);l(o,h,y,m,p-v),i(o,h,e+p-v,m,v),s(r.items[0],t,y,d,p-v,!0)}return d.destroy=function(){l.destroy()},d.init=function(){l.init()},d}function _t(t){var n=t.config,e=n.ctx,r=n.data,o=(r.colors,r.yAxis),i=r.xAxis,a=o.items.map((function(n){return Et(t)})),c=bt(n),u=c.updateControlBounds,l=c.renderControl,s=c.destroy,d=c.init;function f(t,n,r,c){u(t,r),r-=gt,t+=mt;for(var s=new Array(i.length).fill(0),d=0;d<o.items.length;d++)for(var f=0;f<o.items[d].items.length;f++)s[f]+=o.items[d].items[f]*o.items[d].opacity.value;for(var h=0;h<i.length;h++)s[h]/=100;for(var m=new Array(i.length).fill(0),g=0;g<o.items.length;g++)a[g].draw(o.items[g],m,s,t,n+3,r,c-6);l(e,t,n,r,c)}return f.destroy=function(){s()},f.init=function(){d()},f}var Pt={drawChartFabric:function(t){return Ct(t)},drawControlFabric:function(t){return _t(t)}},Ht={bar:{drawChartFabric:function(t){return dt(t)},drawControlFabric:function(t){return function(t){var n=t.config,e=n.ctx,r=n.data,o=(r.colors,r.yAxis),i=r.xAxis,a=o.items.map((function(n){return et(t)})),c=bt(n),u=c.updateControlBounds,l=c.renderControl,s=c.destroy,d=c.init,f=new Array(i.length);function h(t,n,r,i){u(t,r),r-=gt,t+=mt,f.fill(0);for(var c=a[0].shouldBulkRecalculate(o),s=0;s<o.items.length;s++)c&&a[s].calculate(o.items[s],f,t,n+3,r,i-6),a[s].draw(o.items[s],t,n+3,r,i-6);l(e,t,n,r,i)}return h.destroy=function(){s()},h.init=function(){d()},h}(t)}},area:{drawChartFabric:function(t){return Ot(t)},drawControlFabric:function(t){return _t(t)}},line:{drawChartFabric:function(t){return function(t){var n=t.config,e=(n.ctx,n.data),r=(e.colors,e.yAxis),o=e.xAxis,i=r.items.map((function(n){return wt(t)})),u=St(t),l=at(t),s=ot(t,{textAlign:"left"});function d(e,d,f,h){var m=e-f*n.control.range[0]/n.control.scale,p=f/n.control.scale,y=h-g-c,x=d+a+w;l(o,m,d+y-v,p,v),s(r.items[0],e,x,f,y-v,!0);for(var b=0;b<r.items.length;b++)i[b].calculate(r.items[b],m,x,p,y-v),i[b].draw(r.items[b],m,x,p,y-v);var S=u(o,m,x,p,y-v);Tt(t,d,h,S,i)}return d.destroy=function(){u.destroy()},d.init=function(){u.init()},d}(t)},drawControlFabric:function(t){return Mt(t)}},dual_line:{drawChartFabric:function(t){return function(t){var n=t.config,e=(n.ctx,n.data),r=(e.colors,e.yAxis),o=e.xAxis,i=ot(t,{textAlign:"left"}),u=ot(t,{textAlign:"right"}),l=at(t),s=r.items.map((function(n){return wt(t)})),d=St(t);function f(e,f,h,m){var p=e-h*n.control.range[0]/n.control.scale,y=h/n.control.scale,x=m-g-c,b=f+a+w;l(o,p,f+x-v,y,v);var S=!0;r.items[0].enabled&&(i(r.items[0],e,b,h,x-v,S),S=!1),r.items[1].enabled&&(u(r.items[1],e+h,b,-h,x-v,S),S=!1);for(var A=0;A<r.items.length;A++)s[A].calculate(r.items[A],p,b,y,x-v),s[A].draw(r.items[A],p,b,y,x-v,k);var k=d(o,p,b,y,x-v);Tt(t,f,m,k,s)}return f.destroy=function(){d.destroy()},f.init=function(){d.init()},f}(t)},drawControlFabric:function(t){return Mt(t)}}};function Ft(t,n){var e=Object.keys(t.types).map((function(n){return t.types[n]})).filter((function(t){return"x"!==t}));e.length?e.length>50&&console.warn("DataSet warning. Supported up to 50 columns on one graph."):console.warn("DataSet error. No columns for chart");var r=e[0];if(Ht[r]){if(t.y_scaled){if("line"===r||2===e.length)return Ht.dual_line;console.warn("DataSet warning. 'y_scaled' is only used with exactly 2 'line' columns.")}return n&&"area"===r?Pt:Ht[r]}return fabric}function Lt(t){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bt(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function jt(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Bt(Object(e),!0).forEach((function(n){Dt(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Bt(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function Dt(t,n,e){return(n=function(t){var n=function(t,n){if("object"!=Lt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,n||"default");if("object"!=Lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==Lt(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function Yt(t,n,e,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=n(e),a={range:o.range||[.7,1],count:0,scale:0,shouldUpdate:!0,animateRange:function(n,e){P(t.animator,a.range,0,n[0],e[0],(function(t){return a.updateRange(a.range[0],a.range[1])})),P(t.animator,a.range,1,n[1],e[1],(function(t){return a.updateRange(a.range[0],a.range[1])}))},destroy:function(){i.destroy()},init:function(){i.init()},updateRange:function(n,e){var o=e-n,i=t.data.xAxis.length*o;i>5&&(a.count=1+(i>>0),a.scale=o,a.range[0]=n,a.range[1]=e,r&&r())},render:function(){a.shouldUpdate=!1,t.ctx.clearRect(0,u-p,t.canvasBounds.width,p),i(l,u-p,t.canvasBounds.width-s,p)}};return a}function Rt(t,n,e){var r=n(e),o={shouldUpdate:!1,destroy:function(){r.destroy()},init:function(){r.init()},render:function(){o.shouldUpdate=!1,t.ctx.clearRect(0,0,t.canvasBounds.width,u-p),r(l,0,t.canvasBounds.width-s,u-p)}};return o}var zt=function(t,n,e){var r,o,a,c=t.container,l=t.index,d=n.title||t.title||"Chart #".concat(l+1),f=Z(c,"div","chart"),h=function(t,n,e){var r=Z(t,"div","chart__header"),o=Z(r,"h2","chart__header-title");o.textContent=n;var i=Z(r,"h3","chart__header-sub-title");i.textContent=e;var a=!1;return{setTitle:function(t){o.textContent=t},setTitleButton:function(t,n){var e=Z(null,"span","chart__header-title-button");e.textContent=t,e.addEventListener("click",(function t(r){n&&n(r),e.removeEventListener("click",t)})),o.innerHTML="",o.appendChild(e)},setSubtitle:function(t){a||(i.textContent=t)},freezeSubtitle:function(t){a=!0},unfreezeSubtitle:function(){a=!1}}}(f,d,""),m=Z(f,"canvas","chart__canvas"),g=m.getContext("2d"),p=(o=[],{opts:a={active:!1},createAnimation:function(t,n,e){var r=new _(t,n,e);return o.push(r),r},removeAnimation:function(t){var n=o.indexOf(t);n>-1&&o.splice(n,1)},updateAnimations:function(){for(var t=o.length,n=!1,e=0;e<t;e++)n=o[e].update()||n;return a.active=n,n}}),v={canvas:m,ctx:g,zoomed:!1,index:l,animator:p,canvasBounds:{left:0,top:0},mouse:null,normalizeForControl:function(t){return r(t)},popup:{},buttons:null,chart:null,control:null,scaleX:0};v.mouse=M(v),v.data=G(n,v),v.scaleX=F(0,v.data.xAxis.length-1)(1),v.popup=Q(f,v);var y=Z(f,"div","chart__footer");v.buttons=nt(y,v,(function(){S(!0)}));var x,b,w,S=(x=function(){var t=v.control.range[0],n=v.control.range[1],e=t*v.data.xAxis.length,r=e<0?0:Math.floor(e),o=n*v.data.xAxis.length,i=o>v.data.xAxis.length?v.data.xAxis.length:Math.ceil(o);v.data.yAxis.items.forEach((function(t){return t.scaling.updateMinMax(r,i)})),h.setSubtitle("".concat(v.data.xAxis[r].dateStringTitle," - ").concat(v.data.xAxis[i-1].dateStringTitle))},b=100,function(t){var n=this;t?x.apply(n,null):w||(w=!0,setTimeout((function(){x.apply(n,null),w=!1}),b))});function A(){var t=m.getBoundingClientRect(),n=t.width*i,e=t.height*i;v.canvasBounds.width=n,v.canvasBounds.height=u,v.canvasBounds.left=t.left,v.canvasBounds.right=t.right,v.canvasBounds.top=t.top,v.canvasBounds.bottom=t.bottom,v.canvasBounds.x=t.x,v.canvasBounds.y=t.y,v.canvasBounds.width===n&&v.canvasBounds.height===e||(v.chart.shouldUpdate=!0,v.control.shouldUpdate=!0,r=function(t,n){var e=n-t,r={};function o(n){return r[n]||(r[n]=(n-t)/e),r[n]}return o.de=function(n){return n*e+t},o.data={delta:e,min:t,max:n},o}(s,v.canvasBounds.width-s),m.width=v.canvasBounds.width,m.height=u)}function k(){A(),v.animator.updateAnimations()&&(v.chart.shouldUpdate=!0),v.chart.shouldUpdate&&v.chart.render(),v.control.shouldUpdate&&v.control.render()}var T={};v.popup.onClick((function(t){if(v.data.x_on_zoom){var n=v.data.x_on_zoom(t);n&&n.then?n.then&&n.then((function(n){var e=Ft(n,!0);v.popup.hide(),v.buttons.destroy(),v.chart.destroy(),v.control.destroy(),T.buttons=v.buttons,T.chart=v.chart,T.control=v.control,T.popup=v.popup,T.data=v.data,v.data=G(n,v),v.scaleX=F(0,v.data.xAxis.length-1)(1),v.buttons=nt(y,v,(function(){return S(!0)})),v.buttons.mergeState(T.buttons),v.chart=Rt(v,e.drawChartFabric,jt(jt({},C),{},{config:v})),v.control=Yt(v,e.drawControlFabric,jt(jt({},E),{},{config:v}),(function(){return S()}),{range:[v.control.range[0],v.control.range[1]]}),v.control.animateRange(T.control.range,[.4,.6]),h.setSubtitle(q(t).dateString),h.freezeSubtitle(),O(),v.chart.shouldUpdate=!0,v.control.shouldUpdate=!0,v.zoomed=!0,h.setTitleButton("Zoom Out",(function(){!function(){if(v.zoomed){v.popup.hide(),T.buttons.mergeState(v.buttons),v.buttons.destroy(),v.chart.destroy(),v.control.destroy(),delete v.chart;var t=[v.control.range[0],v.control.range[1]];delete v.control,v.data=T.data,v.scaleX=F(0,v.data.xAxis.length-1)(1),v.buttons=T.buttons,v.chart=T.chart,v.control=T.control,v.control.animateRange(t,v.control.range),v.buttons.init(),v.chart.init(),v.control.init(),v.chart.shouldUpdate=!0,v.control.shouldUpdate=!0,v.zoomed=!1,h.unfreezeSubtitle(),h.setTitle(d),O()}}()}))})):console.warn("'x_on_zoom' should return promise with data")}}));var C={config:v,normYKey:"normY"},E={config:v,normYKey:"normControlY"};function O(){v.control.updateRange(v.control.range[0],v.control.range[1]),A(),S(!0)}return v.chart=Rt(v,e.drawChartFabric,C),v.control=Yt(v,e.drawControlFabric,E,(function(){return S()})),window.addEventListener("resize",A),O(),k(),{render:k,control:v.control,chart:v.chart,update:function(){v.chart.shouldUpdate=!0,v.control.shouldUpdate=!0}}},Ut={background:"#FFFFFF",scrollBackground:"#E2EEF9",scrollSelector:"#C0D1E1",gridLines:"#182D3B",tooltipArrow:"#D2D5D7",zoomText:"#108BE3"},Xt={background:"#1B232F",scrollBackground:"#304259",scrollSelector:"#56626D",gridLines:"#FFFFFF",tooltipArrow:"#D2D5D7",zoomText:"#48AAF0"};var It,Nt,Kt,Wt,Vt=[];It=function(t){Vt.forEach((function(t){return t.update()}))},Nt=document.querySelector("html"),Kt=!0,document.addEventListener("darkmode",(function(){var t=Nt.className.toLowerCase().split(" ").indexOf("dark")>-1;Kt=!t,S.THEME=Kt?Ut:Xt,It&&It(Kt)})),document.dispatchEvent(new Event("darkmode")),window.Graph=(Wt=0,{render:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={container:t||document.body,index:Wt++,title:e.title||void 0},o=Ft(n),i=zt(r,n,o);return T.add((function(){i.render()})),Vt.push(i),i}})}]);