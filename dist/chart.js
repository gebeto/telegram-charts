!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=1)}([function(t,n,e){},function(t,n,e){"use strict";e.r(n);e(0);var r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=window.devicePixelRatio,a=4*i,c=2*a,l=343*i,u=16*i,s=2*u,d=2*Math.PI,f=Math.PI/100,h="".concat(11*i,"px sans-serif"),m=40*i,v=7*i,g=43*i,p=29*i,y=p/2,x=5*i,w=1*i,b=2*i,A=200,S={THEME:{}};var k,T,C=(k=[],T={time:0,add:function(t){k.push(t)},remove:function(t){var n=k.indexOf(t);n>-1&&k.splice(n,1)}},requestAnimationFrame(function t(n){T.time=n;for(var e=0;e<k.length;e++)k[e](n);requestAnimationFrame(t)}),T);function M(t){t.canvas;var n=t.canvasBounds,e=function(t){var n={},e={},r={x:0,y:0,xRaw:0,yRaw:0,newX:0,newY:0,newXRaw:0,newYRaw:0,isHolding:!1};return t.forEach(function(t){n[t]=[],e[t]=function(e,r){for(var o=0;o<n[t].length;o++)n[t][o](e,r)}}),{mouse:r,addListener:function(t,e){n[t].push(e)},removeListener:function(t,e){var r=n[t].indexOf(e);n[t].splice(r,1)},dispatch:function(t,n){if(!e[t])throw Error("Unknown event");e[t](r,n)}}}(["move","enter","leave","down","up"]),r=e.mouse;function o(t){r.xRaw=t.clientX-n.left,r.yRaw=t.clientY-n.top,r.x=r.xRaw*i,r.y=r.yRaw*i,r.newXRaw=r.xRaw,r.newYRaw=r.yRaw,r.newX=r.x,r.newY=r.y,e.dispatch("down",t)}function a(t){r.newXRaw=t.clientX-n.left,r.newYRaw=t.clientY-n.top,r.newX=r.newXRaw*i,r.newY=r.newYRaw*i,e.dispatch("move",t)}function c(t){r.isHolding=!1,e.dispatch("up",t)}return document.addEventListener("mousedown",o),document.addEventListener("mousemove",a),document.addEventListener("mouseup",c),document.addEventListener("touchstart",function(t){o(t.touches[0])}),document.addEventListener("touchmove",function(t){a(t.touches[0])},{passive:!1}),document.addEventListener("touchend",c),document.addEventListener("touchcancel",c),document.addEventListener("selectstart",function(t){return!1}),{mouse:r,addListener:e.addListener,removeListener:e.removeListener}}function E(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var H=function(){function t(n,e,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.onAnimation=r,this.fromValue=n,this.toValue=n,this.value=n,this.startTime=0,this.duration=e,this.delay=0,this.inProgress=!1}var n,e,r;return n=t,(e=[{key:"playFrom",value:function(t,n){this.value=t,this.play(n)}},{key:"play",value:function(t){this.inProgress=!0,this.startTime=C.time,this.toValue=t,this.fromValue=this.value}},{key:"update",value:function(){var t=this._update();return t&&this.onAnimation&&this.onAnimation(),t}},{key:"_update",value:function(){if(this.value===this.toValue)return this.inProgress=!1,!1;this.inProgress=!0;var t=(C.time-this.startTime-this.delay)/this.duration;t<0&&(t=0),t>1&&(t=1);var n=-t*(t-2);return this.value=this.fromValue+(this.toValue-this.fromValue)*n,!0}}])&&E(n.prototype,e),r&&E(n,r),t}();function _(t,n,e){var r=t.createAnimation(n,A),o=t.createAnimation(e-n,A);function i(t){return(t-r.value)/o.value}return i.updateDelta=function(t,n){n,r.play(t),o.play(n-t)},i}var F=function(t,n){var e;return function(){var r=arguments;e||(t.apply(this,r),e=!0,setTimeout(function(){return e=!1},n))}},L=function(t,n){var e;return function(r){var o=this;r?t.apply(o,null):e||(e=!0,setTimeout(function(){t.apply(o,null),e=!1},n))}};var P=function(t,n){return t+n},Y=function(t){return t===1/0||t===-1/0?0:t},B=function(t){return Math.min.apply(null,t)},O=function(t){return Math.max.apply(null,t)},R=function(t,n,e){return Math.min.apply(null,t.slice(n,1+e))},D=function(t,n,e){return Math.max.apply(null,t.slice(n,1+e))},z=function(t){return Math.min.apply(null,t.map(B))},X=function(t){return Math.max.apply(null,t.map(O))},U=function(t,n,e){return Math.min.apply(null,t.map(function(t){return R(t,n,e)}))},j=function(t,n,e){return Math.max.apply(null,t.map(function(t){return D(t,n,e)}))},I=function(t){var n,e,r=new Array(t[0].length).fill(0);for(n=0;n<t.length;n++)for(e=0;e<t[n].length;e++)r[e]+=t[n][e];return r};function K(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function N(t){return function(n){return new Promise(function(n,e){n(t)})}}function W(t,n){var e=t.title,i=t.columns,a=t.types,c=t.colors,l=t.names,u=t.percentage,s=t.stacked,d=t.y_scaled,f=t.x_on_zoom,h=K(i),m=K(h[0]),v=(m[0],m.slice(1)),g=h.slice(1),p=v.map(function(t){return n=t,e=new Date(n),{dayString:"".concat(r[e.getMonth()]," ").concat(e.getDate()),dateString:"".concat(o[e.getDay()],", ").concat(e.getDate()," ").concat(r[e.getMonth()]," ").concat(e.getFullYear()),dateStringTitle:"".concat(e.getDate()," ").concat(r[e.getMonth()]," ").concat(e.getFullYear()),date:e,timestamp:n};var n,e}),y=function(t,n,e){var r=t.map(function(t){var r=K(t),o=r[0],i=r.slice(1),a={opacity:e.animator.createAnimation(1,A),key:o,scaling:{},enabled:!0,items:i};return n.y_scaled&&(a.scaling.color=n.colors[a.key],a.scaling.minHeight=Y(B(a.items)),a.scaling.maxHeight=Y(O(a.items)),a.scaling.minHeightAnim=e.animator.createAnimation(0,A),a.scaling.maxHeightAnim=e.animator.createAnimation(0,A),a.scaling.normY=_(e.animator,a.scaling.minHeight,a.scaling.maxHeight),a.scaling.normControlY=_(e.animator,a.scaling.minHeight,a.scaling.maxHeight),a.scaling.updateMinMax=function(t,n){a.scaling.minHeight=Y(R(a.items,t,n)),a.scaling.maxHeight=Y(D(a.items,t,n)),a.scaling.minHeightAnim.play(a.scaling.minHeight),a.scaling.maxHeightAnim.play(a.scaling.maxHeight),a.scaling.normY.updateDelta(a.scaling.minHeight,a.scaling.maxHeight)}),a});if(!n.y_scaled){var o={};n.percentage?function(t,n,e){var r=t.animator.createAnimation(0,A),o=t.animator.createAnimation(100,A);n.minHeight=0,n.maxHeight=100,n.minHeightAnim=r,n.maxHeightAnim=o,n.normY=_(t.animator,0,100),n.normControlY=_(t.animator,0,100),n.updateMinMax=function(t,n){}}(e,o):n.stacked?function(t,n,e){var r=e.map(function(t){return t.items}),o=Y(O(I(r))),i=D(I(r),0,o),a=t.animator.createAnimation(0,A),c=t.animator.createAnimation(0,A);n.minHeight=0,n.maxHeight=i,n.minHeightAnim=a,n.maxHeightAnim=c,n.normY=_(t.animator,0,i),n.normControlY=_(t.animator,0,o),n.updateMinMax=function(t,r){var o=e.filter(function(t){return t.enabled}).map(function(t){return t.items});n.minHeight=0;try{n.maxHeight=Y(D(I(o),t,r))}catch(t){return}n.minHeightAnim.play(n.minHeight),n.maxHeightAnim.play(n.maxHeight),n.normY.updateDelta(n.minHeight,n.maxHeight);var i=Y(O(I(o)));n.normControlY.updateDelta(0,i)}}(e,o,r):function(t,n,e){var r=e.map(function(t){return t.items}),o=Y(z(r)),i=Y(X(r)),a=z(r,o,i),c=X(r,o,i),l=t.animator.createAnimation(0,A),u=t.animator.createAnimation(0,A);n.minHeight=a,n.maxHeight=c,n.minHeightAnim=l,n.maxHeightAnim=u,n.normY=_(t.animator,a,c),n.normControlY=_(t.animator,o,i),n.updateMinMax=function(t,r){var o=e.filter(function(t){return t.enabled}).map(function(t){return t.items});n.minHeight=Y(U(o,t,r)),n.maxHeight=Y(j(o,t,r)),n.minHeightAnim.play(n.minHeight),n.maxHeightAnim.play(n.maxHeight),n.normY.updateDelta(n.minHeight,n.maxHeight);var i=Y(z(o)),a=Y(X(o));n.normControlY.updateDelta(i,a)}}(e,o,r),r.forEach(function(t){t.scaling=o})}return{items:r}}(g,t,n);return{title:e,columns:i,types:a,colors:c,names:l,x_on_zoom:u&&!f?N(t):f,percentage:u,stacked:s,y_scaled:d,xAxis:p,yAxis:y}}function V(t,n,e){var r=document.createElement(n);return r.className=e,t&&t.appendChild(r),r}function J(t,n,e,r,o,i){var a=r.key,c={enabled:!0},l=V(t,"button","chart__buttons-button");function u(){!0===c.enabled?(l.className="chart__buttons-button",l.style.color="#FFF"):(l.className="chart__buttons-button unchecked",l.style.color=e.colors[a]),r.enabled=c.enabled,r.opacity.play(c.enabled?1:0),i&&i(c.enabled)}return l.textContent=e.names[a],l.style.backgroundColor=e.colors[a],l.style.borderColor=e.colors[a],function(t,n,e){var r=null,o=!1;function i(){r=setTimeout(function(){e&&e(),o=!0},200)}function a(){clearTimeout(r)}t.addEventListener("click",function(){clearTimeout(r),o?o=!1:n&&n()}),t.addEventListener("mousedown",i),t.addEventListener("mousemove",a),t.addEventListener("touchstart",i),t.addEventListener("touchmove",a)}(l,function(){if(1===o.activeButtonsCount&&c.enabled)return l.className="chart__buttons-button error",void setTimeout(function(){l.className="chart__buttons-button"},140);c.enabled=!c.enabled,u()},function(){c.show(),o.hideAllExcept(l)}),c.hide=function(t){c.enabled&&t!==l&&(c.enabled=!1,u())},c.show=function(){c.enabled||(c.enabled=!0,u())},c}var q=1,G=3;function Q(t,n,e,r){var o=r.paddingLeftSelector,a=r.paddingRightSelector,c=r.rounding,l=r.plus,u=(t.mouse.mouse,t.popup),s=t.scaleX,d={x:0,y:0,width:0,height:0,indexOld:-1,index:-1},f={count:0,chunkScale:t.scaleX,chunkSize:s*d.width,chunkSizeDiv2:s*d.width/2,onCanvasOld:!1,onCanvas:!1,popupSide:1,current:d},h=!1,m=F(function(r,s){if(f.onCanvasOld=f.onCanvas,f.onCanvas=e.canvas===s.target||e.canvas.nextSibling.contains(s.target),(!f.onCanvas&&f.onCanvasOld||"BUTTON"===s.target.tagName)&&(-1!==d.index&&(t.chart.shouldUpdate=!0),d.index=-1,u.hide()),f.onCanvas&&s.target===e.canvas&&((f.onCanvas||!0===f.onCanvasOld&&!1===f.onCanvas)&&(d.indexOld=d.index,r.newY>d.y&&r.newY<d.y+d.height?(d.index=f.count-c((d.width+d.x-r.newX)/f.chunkSize+l),d.index<f.count&&d.index>=0?u.show(d.index):(d.index=-1,u.hide())):(d.index=-1,u.hide())),d.indexOld!==d.index)){if(t.chart.shouldUpdate=!0,-1!==d.index){var h=u.element.getBoundingClientRect(),m=(d.index*f.chunkSize+d.x)/i,v=a(f)/i,g=o(f)/i,p=m+h.width+g,y=m-h.width-g;p>n.width/i?f.popupSide=q:y<0&&(f.popupSide=G),f.popupSide===q?u.element.style.left="".concat(m-h.width-v,"px"):f.popupSide===G&&(u.element.style.left="".concat(m+g,"px"))}d.indexOld=d.index}},50),v=function(t,n){h&&m(t,n)},g=function(t,n){h=!0,m(t,n)},p=function(t,n){h=!1};return f.destroy=function(){t.mouse.removeListener("move",v),t.mouse.removeListener("down",g),t.mouse.removeListener("up",p)},f.init=function(){t.mouse.addListener("move",v),t.mouse.addListener("down",g),t.mouse.addListener("up",p)},f.init(),f}function Z(t){var n=t.config,e=(t.control,t.canvasBounds,t.ctx),r=(t.norm,t.colors),o=t.normYKey,i=(t.xAxis,t.yAxis,arguments.length>1&&void 0!==arguments[1]&&arguments[1],n.scaleX),a={items:[],width:0,opacity:1,offsetIndex:0},c=0;return{shouldBulkRecalculate:function(t){var n=!1;if(c!==e.canvas.width)return c=e.canvas.width,!0;for(var r=0;r<t.items.length&&!(n=t.items[r].opacity.inProgress||!t.items[r].calculated);r++);return n},shouldRecalculate:function(t){return!0},calculate:function(t,r,c,l,u,s){t.key;var d=t.items,f=t.opacity,h=t.scaling[o];if(a.opacity=f.value,a.opacity){a.opacity<1&&(n.control.shouldUpdate=!0),a.items=[],a.offsetIndex=0,a.width=i*u;var m=u-a.width;a.width=i*m;for(var v=d.length,g=i*m,p=g/2,y=-g,x=e.canvas.width+v,w=0;w<v;w++){r[w]+=d[w]*a.opacity;var b=c+g*w+p,A=l+s-h(r[w])*s,S=h(d[w])*s*a.opacity;if(b<y)a.offsetIndex++;else{if(b>x)break;a.items.push([b,A,A+S])}}t.calculated=!0}},draw:function(t,n,o,i,c,l,u){var s=t.key,d=a.items;if(a.opacity){var f=d.length;e.save(),e.beginPath(),e.lineWidth=a.width,e.strokeStyle=r[s];for(var h=0;h<f;h++){var m=u===h+a.offsetIndex;m&&(e.globalAlpha=.5,e.stroke(),e.globalAlpha=1,e.beginPath()),e.moveTo(d[h][0],d[h][1]),e.lineTo(d[h][0],d[h][2]),m&&(e.stroke(),e.globalAlpha=.5,e.beginPath())}e.stroke(),e.restore()}}}}function $(t,n){var e=Math.abs(t);if(e>1e9&&n)return(t/1e9).toFixed(2)+"B";if(e>1e6&&n)return(t/1e6).toFixed(2)+"M";if(e>1e3&&n)return(t/1e3).toFixed(1)+"K";if(e>1){for(var r=e.toFixed(0),o=t<0?"-":"",i=0;i<r.length;i++)o+=r.charAt(i),(r.length-1-i)%3==0&&(o+=" ");return o}return t.toString()}function tt(t){t.control;var n=t.ctx,e=(t.normX,t.normY,t.colors,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),r=e.textAlign||"left";return function(t,e,o,a,c,l,u){var s=Math.round(t.scaling.minHeightAnim.value),d=Math.round(t.scaling.maxHeightAnim.value),f=t.opacity.value,m=(c+c/6/2)/6,v=Math.ceil((d-s)/6);n.save(),n.beginPath(),n.fillStyle=t.scaling.color||S.THEME.gridLines,n.globalAlpha=u?f/2:t.scaling.color?.8:.5,n.font=h,n.textBaseline="bottom",n.textAlign=r;for(var g=0;g<6;g++){l&&(n.moveTo(e,o+c-g*m),n.lineTo(e+a,o+c-g*m));var p=$(s+v*g,!0);n.fillText(p,e+3,o+c-g*m-x)}n.lineWidth=1*i,l&&(n.globalAlpha=.1,n.strokeStyle=S.THEME.gridLines,n.stroke()),n.restore()}}var nt=[0,1,2,4,4,8,8,8,8,16,16,16,16,16,16,16,16,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64];function et(t){var n=t.config,e=(t.control,t.ctx),r=(t.norm,t.colors,t.forBars),o=n.scaleX,i=0;return function(t,n,a,c,l){var u=t.length;i=r?o*(c-o*c):o*c,r&&(c-=i),e.save(),e.fillStyle=S.THEME.gridLines,e.font=h,e.textAlign="center",e.textBaseline="middle",e.globalAlpha=.5;for(var s=c*o,d=(Math.floor(s),Math.ceil(m/s)),f=d+1,v=nt[d],g=nt[f],p=(s/(m/d)-1)*d,x=0;x<u;x+=v){var w=x%g;e.globalAlpha=0===w?.5:p>.5?.5:p;var b=n+(r?i/2:0)+i*x,A=a+y;b<-m||b>e.canvas.width+m||e.fillText(t[x].dayString,b,A)}e.restore()}}function rt(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function ot(t){t.ctx;var n=t.config,e=t.yAxis,r=t.xAxis,o=Z(t),i=function(t){var n=t.canvasBounds,e=t.config,r=t.ctx,o=(t.norm,t.colors,t.normYKey,Q(e,n,r,{paddingLeftSelector:function(t){return t.chunkSize+(t.chunkSizeDiv2>10?10:t.chunkSizeDiv2)},paddingRightSelector:function(t){return t.chunkSizeDiv2>10?10:t.chunkSizeDiv2},rounding:Math.ceil,plus:0}));function i(t,n,e,r,i,a){o.current.width=i,o.current.height=a,o.current.x=e,o.current.y=r;var c=i-o.chunkSize;return o.count=t.length,o.chunkSize=o.chunkScale*c,o.chunkSizeDiv2=o.chunkSize/2,o.current.index}return i.destroy=function(){o.destroy()},i.init=function(){o.init()},i}(t),a=et(function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){rt(t,n,e[n])})}return t}({},t,{forBars:!0})),l=tt(t,{textAlign:"left"});function u(t,u,s,d){for(var f=t-s*n.control.range[0]/n.control.scale,h=s/n.control.scale,m=d-v-c,g=u+b,y=i(r,x,f,g,h,m-p),x=new Array(r.length).fill(0),w=0;w<e.items.length;w++)o.calculate(e.items[w],x,f,g,h,m-p),o.draw(e.items[w],x,f,g,h,m-p,y);a(r,f,u+m-p,h,p),l(e.items[0],t,g,s,m-p,!0)}return u.destroy=function(){i.destroy()},u.init=function(){i.init()},u}var it=0,at=1,ct=2,lt=3,ut=10*i,st=ut/2,dt=10*i,ft=2*dt,ht=dt/2,mt=dt-dt/3,vt=2*i,gt=(dt-vt)/2;function pt(t){var n={controlsBounds:{start:{x:0,y:0,width:0,height:0},end:{x:0,y:0,width:0,height:0}}},e=n.controlsBounds,r=it,o=[0,0],a=14*i,c=0,l=0,u=l-c,s=0,d=0;function f(n){if(r!==it){t.chart.shouldUpdate=!0,t.control.shouldUpdate=!0;var e=t.normalizeForControl(n.newX)-t.normalizeForControl(n.x),i=o[0]+e,a=o[1]+e;if(r===at)i>0?t.control.updateRange(i,o[1]):t.control.updateRange(0,o[1]);else if(r===ct)a<1?t.control.updateRange(o[0],a):t.control.updateRange(o[0],1);else if(i>=0&&a<=1)t.control.updateRange(i,a);else if(a>1){var c=1-o[1];t.control.updateRange(o[0]+c,o[1]+c)}else if(i<0){var l=0-o[0];t.control.updateRange(o[0]+l,o[1]+l)}}}function h(n){var i=a,c=a,l=e.start,u=e.end;n.y>l.y&&n.y<l.y+l.height&&(t.chart.shouldUpdate=!0,t.control.shouldUpdate=!0,o=[t.control.range[0],t.control.range[1]],n.newX>l.x-i&&n.newX<l.x+l.width&&n.newY>l.y-i&&n.newY<l.y+l.height+i?r=at:n.newX>u.x&&n.newX<u.x+u.width+c&&n.newY>u.y-c&&n.newY<u.y+u.height+c?r=ct:n.newX>l.x+l.width&&n.newX<u.x&&n.newY>u.y-a&&n.newY<u.y+u.height+a&&(r=lt))}function m(t){r=it}function v(){t.mouse.addListener("move",f),t.mouse.addListener("down",h),t.mouse.addListener("up",m)}return n.updateControlBounds=function(t,n){s=n,d=t},n.renderControl=function(n,r,o,i,a){c=r+i*t.control.range[0],l=r+i*t.control.range[1],u=l-c,e.start.x=c-dt,e.start.y=o,e.start.width=dt,e.start.height=a,e.end.x=l,e.end.y=o,e.end.width=dt,e.end.height=a,n.save(),n.globalAlpha=.6,n.fillStyle=S.THEME.scrollBackground,n.beginPath(),n.moveTo(c-1,o),n.lineTo(c-1,o+a),n.arcTo(d,o+a,d,o+a-dt,ht),n.arcTo(d,o,c-1,o,ht),n.closePath(),n.fill(),n.beginPath(),n.moveTo(l+1,o),n.lineTo(l+1,o+a),n.arcTo(d+s,o+a,d+s,o+a-dt,ht),n.arcTo(d+s,o,l,o,ht),n.closePath(),n.fill(),n.restore(),n.save(),n.fillStyle=S.THEME.scrollSelector,n.beginPath(),n.rect(c,o,u,w),n.rect(c,o+a-w,u,w),n.fill(),n.beginPath();var f=c;n.moveTo(f,o),n.lineTo(f,o+a),n.arcTo(f-dt,o+a,f-dt,o+a-dt,mt),n.arcTo(f-dt,o,f,o,mt),n.closePath(),n.fill(),n.beginPath(),n.moveTo(l,o),n.lineTo(l,o+a),n.arcTo(l+dt,o+a,l+dt,o+a-dt,mt),n.arcTo(l+dt,o,l,o,mt),n.closePath(),n.fill(),n.restore(),n.save(),n.beginPath(),n.fillStyle="#FFFFFF",n.rect(c-gt,o+a/2-st,-vt,ut),n.rect(l+gt,o+a/2-st,vt,ut),n.fill(),n.restore()},n.destroy=function(){t.mouse.removeListener("move",f),t.mouse.removeListener("down",h),t.mouse.removeListener("up",m)},n.init=v,v(),n}function yt(t){var n=t.config,e=(t.control,t.ctx),r=(t.norm,t.colors),o=t.normYKey,a=(t.yAxis,((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).lineWidth||2)*i),c=n.scaleX,l={items:[],opacity:1,offsetIndex:0},u=0;return{draws:l,shouldBulkRecalculate:function(t){return!0},shouldRecalculate:function(t){var n=t.opacity.inProgress||!t.calculated||e.canvas.width!==u;return u=e.canvas.width,n},calculate:function(t,r,i,a,u){t.key;var s=t.items,d=t.opacity,f=t.scaling[o],h=d.value;if(l.opacity=d.value,h){h<1&&(n.control.shouldUpdate=!0),l.items=[],l.offsetIndex=0;var m=s.length,v=c*a,g=i+u,p=-v,y=e.canvas.width+v;l.items.push([r+0,g-f(s[0])*u]);for(var x=1;x<m;x++){var w=r+v*x,b=g-f(s[x])*u;if(b>g&&(n.control.shouldUpdate=!0),w<p)l.offsetIndex++;else{if(w>y)break;l.items.push([w,b])}}t.calculated=!0}},draw:function(t,n,o,i,c){var u=l.items,s=l.opacity,d=t.key;if(s){var f=u.length;e.save(),e.beginPath(),e.moveTo(u[0][0],u[0][1]);for(var h=1;h<f;h++)e.lineTo(u[h][0],u[h][1]);e.lineWidth=a,e.strokeStyle=r[d],e.globalAlpha=s,e.lineJoin="round",e.stroke(),e.restore()}}}}function xt(t){var n=t.canvasBounds,e=t.config,r=t.ctx,o=(t.norm,t.colors,t.normYKey,Q(e,n,r,{paddingLeftSelector:function(t){return a},paddingRightSelector:function(t){return a},rounding:Math.round,plus:1}));function i(t,n,e,r,i){return o.current.width=r,o.current.height=i,o.current.x=n,o.current.y=e,o.count=t.length,o.chunkSize=o.chunkScale*r,o.current.index}return i.destroy=function(){o.destroy()},i.init=function(){o.init()},i}function wt(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function bt(t,n,e,r,o){for(var i=t.ctx,c=t.colors,l=t.yAxis,u=0;u<l.items.length;u++){var s=l.items[u].key,f=o[u].draws,h=r-f.offsetIndex;if(f.items[h]){var m=wt(f.items[h],2),v=m[0],g=m[1];i.save(),i.strokeStyle=S.THEME.gridLines,i.lineWidth=1,i.globalAlpha=.1,i.beginPath(),i.moveTo(v,n),i.lineTo(v,n+e),i.stroke(),i.restore(),i.save(),i.beginPath(),i.arc(v,g,a,0,d),i.fillStyle=S.THEME.background,i.lineWidth=b,i.globalAlpha=f.opacity,i.strokeStyle=c[s],i.fill(),i.stroke(),i.restore()}}}function At(t){var n=t.ctx,e=t.config,r=(t.canvasBounds,t.control,t.yAxis),o=(t.xAxis,r.items.map(function(n){return yt(t,{lineWidth:1})})),i=pt(e),a=i.updateControlBounds,c=i.renderControl,l=i.destroy,u=i.init;function s(t,e,i,l){a(t,i),i-=ft,t+=dt;for(var u=0;u<r.items.length;u++)o[u].shouldRecalculate(r.items[u])&&o[u].calculate(r.items[u],t,e+3,i,l-6),o[u].draw(r.items[u],t,e+3,i,l-6);c(n,t,e,i,l)}return s.destroy=function(){l()},s.init=function(){u()},s}function St(t){t.ctx;var n=t.config,e=t.yAxis,r=t.xAxis,o=e.items.map(function(n){return function(t){var n=t.config,e=(t.control,t.ctx),r=(t.norm,t.colors),o=(t.normYKey,t.yAxis,arguments.length>1&&void 0!==arguments[1]&&arguments[1],n.mouse.mouse,n.popup,n.scaleX,0),i=0,a=0;return{calculate:function(t,n,e,r,o,i,a,c){},draw:function(t,c,l,u,s,d,m,v){var g=t.key,p=(t.items,t.opacity.value);if(p){p<1&&(n.control.shouldUpdate=!0),o=Math.min(m/2,v/2),i=s+m/2,a=d+v/2,e.save(),e.beginPath(),e.fillStyle="red",e.moveTo(i,a);var y=f*l*2,x=f*u*2;e.arc(i,a,o,y,x),e.moveTo(i,a),e.fillStyle=r[g],e.fill(),e.restore(),e.save(),e.fillStyle="#fff",e.textAlign="center",e.globalAlpha=p,e.textBaseline="middle",e.font=h;var w=y+(x-y)/2,b=i+Math.cos(w)*(o/2),A=a+Math.sin(w)*(o/2);e.fillText(c.toFixed(0)+"%",b,A),e.restore()}}}}(t)});function i(t,i,l,u){n.control.range[0];for(var s=u-v-c,d=i+a+b,f=Math.floor(r.length*n.control.range[0]),h=Math.ceil(r.length*(n.control.range[1]-n.control.range[0])),m=f+h,g=e.items.reduce(function(t,n){return t+n.items.slice(f,m).reduce(P,0)*n.opacity.value},0)/100,y=0,x=0;x<e.items.length;x++){var w=e.items[x].items.slice(f,m).reduce(P,0)/g*e.items[x].opacity.value;o[x].draw(e.items[x],w,y,y+=w,t,d,l,s-p)}}return i.destroy=function(){},i.init=function(){},i}function kt(t){var n=t.config,e=(t.control,t.ctx),r=(t.norm,t.colors),o=t.normYKey,i=(t.yAxis,arguments.length>1&&void 0!==arguments[1]&&arguments[1],n.scaleX);return{calculate:function(t,n,e,r,o,i,a){},draw:function(t,a,c,l,u,s,d){var f=t.key,h=t.items,m=t.opacity,v=(0,t.scaling[o])(1),g=m.value;if(g){g<1&&(n.control.shouldUpdate=!0);var p=h.length;e.save(),e.beginPath();var y=i*s,x=new Array(p).fill(0),w=c[0],b=u+d-v*Math.round(a[0]/w)*d;e.moveTo(l,b),x[0]=l+0*y;for(var A=1;A<p;A++){var S=Math.round(a[A]/c[A]);x[A]=l+y*A;var k=u+d-v*S*d;e.lineTo(x[A],k)}for(var T=p-1;T>=0;T--){a[T]+=h[T]*g;var C=u+d-v*Math.round(a[T]/c[T])*d;e.lineTo(x[T],C)}e.closePath(),e.fillStyle=r[f],e.fill(),e.restore()}}}}function Tt(t){t.ctx;var n=t.config,e=t.yAxis,r=t.xAxis,o=et(t),i=e.items.map(function(n){return kt(t)}),l=function(t){var n=t.canvasBounds,e=t.config,r=t.ctx,o=(t.norm,t.colors,t.normYKey,Q(e,n,r,{paddingLeftSelector:function(t){return a},paddingRightSelector:function(t){return a},rounding:Math.round,plus:1}));function i(t,n,e,i,a){if(o.current.width=i,o.current.height=a,o.current.x=n,o.current.y=e,o.count=t.length,o.chunkSize=o.chunkScale*i,o.current.index>-1&&o.current.index<o.count){var c=n+o.chunkSize*o.current.index;r.save(),r.strokeStyle=S.THEME.gridLines,r.lineWidth=1,r.globalAlpha=.2,r.beginPath(),r.moveTo(c,e),r.lineTo(c,e+a),r.stroke(),r.restore()}}return i.destroy=function(){o.destroy()},i.init=function(){o.init()},i}(t),u=tt(t,{textAlign:"left"});function s(t,s,d,f){for(var h=t-d*n.control.range[0]/n.control.scale,m=d/n.control.scale,g=f-v-c,y=s+a+b,x=new Array(r.length).fill(0),w=0;w<e.items.length;w++)for(var A=0;A<e.items[w].items.length;A++)x[A]+=e.items[w].items[A]*e.items[w].opacity.value;for(var S=0;S<r.length;S++)x[S]/=100;for(var k=new Array(r.length).fill(0),T=0;T<e.items.length;T++)i[T].draw(e.items[T],k,x,h,y,m,g-p);l(r,h,y,m,g-p),o(r,h,s+g-p,m,p),u(e.items[0],t,y,d,g-p,!0)}return s.destroy=function(){l.destroy()},s.init=function(){l.init()},s}function Ct(t){var n=t.ctx,e=t.config,r=(t.canvasBounds,t.control,t.yAxis),o=t.xAxis,i=r.items.map(function(n){return kt(t)}),a=pt(e),c=a.updateControlBounds,l=a.renderControl,u=a.destroy,s=a.init;function d(t,e,a,u){c(t,a),a-=ft,t+=dt;for(var s=new Array(o.length).fill(0),d=0;d<r.items.length;d++)for(var f=0;f<r.items[d].items.length;f++)s[f]+=r.items[d].items[f]*r.items[d].opacity.value;for(var h=0;h<o.length;h++)s[h]/=100;for(var m=new Array(o.length).fill(0),v=0;v<r.items.length;v++)i[v].draw(r.items[v],m,s,t,e+3,a,u-6);l(n,t,e,a,u)}return d.destroy=function(){u()},d.init=function(){s()},d}var Mt={drawChartFabric:function(t){return St(t)},drawControlFabric:function(t){return Ct(t)}},Et={bar:{drawChartFabric:function(t){return ot(t)},drawControlFabric:function(t){return function(t){var n=t.ctx,e=t.config,r=(t.canvasBounds,t.control,t.yAxis),o=t.xAxis,i=r.items.map(function(n){return Z(t)}),a=pt(e),c=a.updateControlBounds,l=a.renderControl,u=a.destroy,s=a.init,d=new Array(o.length);function f(t,e,o,a){c(t,o),o-=ft,t+=dt,d.fill(0);for(var u=i[0].shouldBulkRecalculate(r),s=0;s<r.items.length;s++)u&&i[s].calculate(r.items[s],d,t,e+3,o,a-6),i[s].draw(r.items[s],t,e+3,o,a-6);l(n,t,e,o,a)}return f.destroy=function(){u()},f.init=function(){s()},f}(t)}},area:{drawChartFabric:function(t){return Tt(t)},drawControlFabric:function(t){return Ct(t)}},line:{drawChartFabric:function(t){return function(t){t.ctx;var n=t.config,e=(t.colors,t.yAxis),r=t.xAxis,o=e.items.map(function(n){return yt(t)}),i=xt(t),l=et(t),u=tt(t,{textAlign:"left"});function s(s,d,f,h){var m=s-f*n.control.range[0]/n.control.scale,g=f/n.control.scale,y=h-v-c,x=d+a+b;l(r,m,d+y-p,g,p),u(e.items[0],s,x,f,y-p,!0);for(var w=0;w<e.items.length;w++)o[w].calculate(e.items[w],m,x,g,y-p),o[w].draw(e.items[w],m,x,g,y-p);var A=i(r,m,x,g,y-p);bt(t,d,h,A,o)}return s.destroy=function(){i.destroy()},s}(t)},drawControlFabric:function(t){return At(t)}},dual_line:{drawChartFabric:function(t){return function(t){t.ctx;var n=t.config,e=(t.colors,t.yAxis),r=t.xAxis,o=tt(t,{textAlign:"left"}),i=tt(t,{textAlign:"right"}),l=et(t),u=e.items.map(function(n){return yt(t)}),s=xt(t);function d(d,f,h,m){var g=d-h*n.control.range[0]/n.control.scale,y=h/n.control.scale,x=m-v-c,w=f+a+b;l(r,g,f+x-p,y,p);var A=!0;e.items[0].enabled&&(o(e.items[0],d,w,h,x-p,A),A=!1),e.items[1].enabled&&(i(e.items[1],d+h,w,-h,x-p,A),A=!1);for(var S=0;S<e.items.length;S++)u[S].calculate(e.items[S],g,w,y,x-p),u[S].draw(e.items[S],g,w,y,x-p,k);var k=s(r,g,w,y,x-p);bt(t,f,m,k,u)}return d.destroy=function(){s.destroy()},d}(t)},drawControlFabric:function(t){return At(t)}}};function Ht(t,n){var e=Object.keys(t.types).map(function(n){return t.types[n]}).filter(function(t){return"x"!==t});e.length?e.length>50&&console.warn("DataSet warning. Supported up to 50 columns on one graph."):console.warn("DataSet error. No columns for chart");var r=e[0];if(Et[r]){if(t.y_scaled){if("line"===r||2===e.length)return Et.dual_line;console.warn("DataSet warning. 'y_scaled' is only used with exactly 2 'line' columns.")}return n&&"area"===r?Mt:Et[r]}return fabric}function _t(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var Ft=function(t,n,e){var r,o,a,c=t.container,d=t.index,f=n.title||t.title||"Chart #".concat(d+1),h=V(c,"div","chart"),m=function(t,n,e){var r=V(t,"div","chart__header"),o=V(r,"h2","chart__header-title");o.textContent=n;var i=V(r,"h3","chart__header-sub-title");return i.textContent=e,{setTitle:function(t){o.textContent=t},setTitleButton:function(t,n){var e=V(null,"button","chart__header-title-button");e.textContent=t,e.addEventListener("click",function t(r){n&&n(r),e.removeEventListener("click",t)}),o.innerHTML="",o.appendChild(e)},setSubtitle:function(t){i.textContent=t}}}(h,f,""),v=V(h,"canvas","chart__canvas"),p=v.getContext("2d"),y=(o=[],{opts:a={active:!1},createAnimation:function(t,n,e){var r=new H(t,n,e);return o.push(r),r},removeAnimation:function(t){var n=o.indexOf(t);n>-1&&o.splice(n,1)},updateAnimations:function(){for(var t=o.length,n=!1,e=0;e<t;e++)n=o[e].update()||n;return a.active=n,n}}),x={left:0,top:0},w={zoomed:!1,index:d,animator:y,mouse:M({config:w,canvas:v,canvasBounds:x}),popup:{},normalizeForControl:function(t){return r(t)},chart:null,control:null},b=W(n,w),A=(b.columns,b.types,b.colors),S=(b.names,b.x_on_zoom,b.xAxis),k=b.yAxis;w.scaleX=function(t,n){var e=n-t;function r(n){return(n-t)/e}return r.de=function(n){return n*e+t},r}(0,S.length-1)(1),w.popup=function(t,n,e,r,o){var i=V(t,"div","chart__popup"),a=[],c=-1;function l(t){var n,a=o.items.filter(function(t){return t.enabled}).map(function(n){return r=e.colors[n.key],o=e.names[n.key],i=n.items[t],'\n\t\t<span class="chart__popup-item">\n\t\t\t<span class="chart__popup-item-title">'.concat(o,'</span>\n\t\t\t<span class="chart__popup-item-value" style="color: ').concat(r,'">').concat(i,"</span>\n\t\t</span>\n\t");var r,o,i});a.length&&(i.innerHTML="\n\t\t\t".concat((n=r[t].dateString,'\n\t\t<strong class="chart__popup-header">\n\t\t\t<span class="chart__popup-header-title">'.concat(n,'</span>\n\t\t\t<span class="chart__popup-header-icon"></span>\n\t\t</strong>\n\t')),"\n\t\t\t").concat(a.join(""),"\n\t\t"))}return i.addEventListener("click",function(){if(r[c])for(var t=0;t<a.length;t++)a[t](r[c].timestamp)}),{element:i,update:l,show:function(t){c=t,l(t),i.style.opacity=1,i.style.visibility="visible"},hide:function(){c=-1,i.style.opacity=0,i.style.visibility="hidden"},onClick:function(t){a.push(t)}}}(h,0,n,S,k),k.items.length>1&&function(t,n,e,r,o){var i={activeButtonsCount:r.items.length,hideAllExcept:function(t){l.forEach(function(n){n.hide(t)})},hideAll:function(){l.forEach(function(t){t.hide()})}},a=V(t,"div","chart__buttons"),c={},l=r.items.map(function(t){return c[t[0]]=J(a,0,e,t,i,function(t){i.activeButtonsCount+=t?1:-1,i.activeButtonsCount<1||o&&o()})})}(h,w.animator,n,k,function(){T(!0)});var T=L(function(){var t=w.control.range[0],n=w.control.range[1],e=t*S.length,r=e<0?0:Math.floor(e),o=n*S.length,i=o>S.length?S.length:Math.ceil(o);k.items.forEach(function(t){return t.scaling.updateMinMax(r,i)}),m.setSubtitle("".concat(S[r].dateStringTitle," - ").concat(S[i-1].dateStringTitle))},100);function C(){var t=v.getBoundingClientRect(),n=t.width*i,e=t.height*i;x.width=n,x.height=l,x.left=t.left,x.right=t.right,x.top=t.top,x.bottom=t.bottom,x.x=t.x,x.y=t.y,x.width===n&&x.height===e||(w.chart.shouldUpdate=!0,w.control.shouldUpdate=!0,r=function(t,n){var e=n-t,r={};function o(n){return r[n]||(r[n]=(n-t)/e),r[n]}return o.de=function(n){return n*e+t},o.data={delta:e,min:t,max:n},o}(s,x.width-s),v.width=x.width,v.height=l)}function E(){C(),w.animator.updateAnimations()&&(w.chart.shouldUpdate=!0),w.chart.shouldUpdate&&w.chart.render(),w.control.shouldUpdate&&w.control.render()}var _={config:w,ctx:p,colors:A,xAxis:S,yAxis:k,canvasBounds:x,normYKey:"normY"},F=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){_t(t,n,e[n])})}return t}({},_,{normYKey:"normControlY"});return w.chart=function(t,n){var e=t(n),r={shouldUpdate:!1,destroy:function(){e.destroy()},init:function(){e.init()},render:function(){r.shouldUpdate=!1,n.ctx.clearRect(0,0,n.canvasBounds.width,l-g),e(u,0,n.canvasBounds.width-s,l-g)}};return r}(e.drawChartFabric,_),w.control=function(t,n,e,r){var o=e.length,i=t(n),a={range:[.7,1],count:0,scale:0,shouldUpdate:!0,destroy:function(){i.destroy()},init:function(){i.init()},updateRange:function(t,n){var e=n-t,i=o*e;i>5&&(a.count=1+(i>>0),a.scale=e,a.range[0]=t,a.range[1]=n,r&&r())},render:function(){a.shouldUpdate=!1,n.ctx.clearRect(0,l-g,n.canvasBounds.width,g),i(u,l-g,n.canvasBounds.width-s,g)}};return a}(e.drawControlFabric,F,S,function(){return T()}),window.addEventListener("resize",C),w.control.updateRange(w.control.range[0],w.control.range[1]),C(),T(!0),E(),{render:E,control:w.control,chart:w.chart,update:function(){w.chart.shouldUpdate=!0,w.control.shouldUpdate=!0}}},Lt={background:"#FFFFFF",scrollBackground:"#E2EEF9",scrollSelector:"#C0D1E1",gridLines:"#182D3B",tooltipArrow:"#D2D5D7",zoomText:"#108BE3"},Pt={background:"#1B232F",scrollBackground:"#304259",scrollSelector:"#56626D",gridLines:"#FFFFFF",tooltipArrow:"#D2D5D7",zoomText:"#48AAF0"};var Yt,Bt,Ot,Rt,Dt=[];Yt=function(t){Dt.forEach(function(t){return t.update()})},Bt=document.querySelector("html"),Ot=!0,document.addEventListener("darkmode",function(){var t=Bt.className.toLowerCase().split(" ").indexOf("dark")>-1;Ot=!t,S.THEME=Ot?Lt:Pt,Yt&&Yt(Ot)}),document.dispatchEvent(new Event("darkmode")),window.Graph=(Rt=0,{render:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={container:t||document.body,index:Rt++,title:e.title||void 0},o=Ht(n),i=Ft(r,n,o);return C.add(function(){i.render()}),Dt.push(i),i}})}]);