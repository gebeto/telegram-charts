!function(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="dist/",n(n.s=2)}([function(t,e,n){t.exports=n.p+"arrow.svg"},function(t,e,n){t.exports=n.p+"check.svg"},function(t,e,n){"use strict";n.r(e);var a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=window.devicePixelRatio,i=4*r,l=2*i,c=343*r,s=16*r,u=2*s,h=2*Math.PI,d=Math.PI/100,f="".concat(11*r,"px Arial"),m=40*r,g=7*r,v=43*r,p=29*r,y=p/2,x=5*r,w=1*r,b=2*r,T={background:"#FFFFFF",scrollBackground:"#E2EEF9",scrollSelector:"#C0D1E1",gridLines:"#182D3B",tooltipArrow:"#D2D5D7",zoomText:"#108BE3"},A={background:"#1B232F",scrollBackground:"#304259",scrollSelector:"#56626D",gridLines:"#FFFFFF",tooltipArrow:"#D2D5D7",zoomText:"#48AAF0"},C={THEME:T};var H,E,M=(H=[],E={time:0,add:function(t){H.push(t)},remove:function(t){var e=H.indexOf(t);e>-1&&H.splice(e,1)}},requestAnimationFrame(function t(e){E.time=e;for(var n=0;n<H.length;n++)H[n](e);requestAnimationFrame(t)}),E);function F(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var S=function(){function t(e,n,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onAnimation=a,this.fromValue=e,this.toValue=e,this.value=e,this.startTime=0,this.duration=n,this.delay=0}var e,n,a;return e=t,(n=[{key:"playFrom",value:function(t,e){this.value=t,this.play(e)}},{key:"play",value:function(t){this.startTime=M.time,this.toValue=t,this.fromValue=this.value}},{key:"update",value:function(){var t=this._update();return t&&this.onAnimation&&this.onAnimation(),t}},{key:"_update",value:function(){if(this.value===this.toValue)return!1;var t=(M.time-this.startTime-this.delay)/this.duration;t<0&&(t=0),t>1&&(t=1);var e=-t*(t-2);return this.value=this.fromValue+(this.toValue-this.fromValue)*e,!0}}])&&F(e.prototype,n),a&&F(e,a),t}();function _(t,e){var n=e-t,a={};function o(e){return a[e]||(a[e]=(e-t)/n),a[e]}return o.de=function(e){return e*n+t},o.data={delta:n,min:t,max:e},o}function P(t,e,n){var a=t.createAnimation(e,300),o=t.createAnimation(n-e,300);function r(t){return(t-a.value)/o.value}return r.updateDelta=function(t,e){e,a.play(t),o.play(e-t)},r}var Y=function(t,e){var n;return function(){var a=arguments;n||(t.apply(this,a),n=!0,setTimeout(function(){return n=!1},e))}};var k=function(t,e){return t+e};function L(t){t.canvas;var e=t.canvasBounds,n=function(t){var e={},n={},a={x:0,y:0,xRaw:0,yRaw:0,newX:0,newY:0,newXRaw:0,newYRaw:0,isHolding:!1};return t.forEach(function(t){e[t]=[],n[t]=function(n,a){for(var o=0;o<e[t].length;o++)e[t][o](n,a)}}),{mouse:a,addListener:function(t,n){e[t].push(n)},dispatch:function(t,e){if(!n[t])throw Error("Unknown event");n[t](a,e)}}}(["move","enter","leave","down","up"]),a=n.mouse;function o(t){a.xRaw=t.clientX-e.left,a.yRaw=t.clientY-e.top,a.x=a.xRaw*r,a.y=a.yRaw*r,a.newXRaw=a.xRaw,a.newYRaw=a.yRaw,a.newX=a.x,a.newY=a.y,n.dispatch("down",t)}function i(t){a.newXRaw=t.clientX-e.left,a.newYRaw=t.clientY-e.top,a.newX=a.newXRaw*r,a.newY=a.newYRaw*r,n.dispatch("move",t)}function l(t){a.isHolding=!1,n.dispatch("up",t)}return document.addEventListener("mousedown",o),document.addEventListener("mousemove",i),document.addEventListener("mouseup",l),document.addEventListener("touchstart",function(t){o(t.touches[0])}),document.addEventListener("touchmove",function(t){i(t.touches[0])},{passive:!1}),document.addEventListener("touchend",l),document.addEventListener("touchcancel",l),document.addEventListener("selectstart",function(t){return!1}),{mouse:a,addListener:n.addListener}}function B(t){var e=t.config,n=(t.control,t.ctx),a=t.norm,o=t.colors,i=t.normYKey,l=((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).lineWidth||2)*r;return function(t,r,c,s,u){var h=t.key,d=t.items,f=t.opacity,m=t.scaling[i],g=f.value;if(g){g<1&&(e.shouldControlUpdate=!0);var v=d.length;n.save(),n.beginPath();var p=c+u;n.moveTo(r+0,p-m(d[0])*u);for(var y=1;y<v;y++){var x=r+a.X(y)*s,w=p-m(d[y])*u;w>p&&(e.shouldControlUpdate=!0),n.lineTo(x,w)}n.lineWidth=l,n.strokeStyle=o[h],n.globalAlpha=g,n.lineJoin="round",n.stroke(),n.restore()}}}var R=0,j=1,X=2,U=3;function O(t,e){var n={controlsBounds:{start:{x:0,y:0,width:0,height:0},end:{x:0,y:0,width:0,height:0}}},a=R,o=14*r,i=[e.range[0],e.range[1]];return t.mouse.addListener("move",function(n){if(a!==R){t.shouldChartUpdate=!0,t.shouldControlUpdate=!0;var o=e.normalizeForControl(n.newX)-e.normalizeForControl(n.x),r=i[0]+o,l=i[1]+o;if(a===j)r>0?e.updateRange(r,i[1]):e.updateRange(0,i[1]);else if(a===X)l<1?e.updateRange(i[0],l):e.updateRange(i[0],1);else if(r>=0&&l<=1)e.updateRange(r,l);else if(l>1){var c=1-i[1];e.updateRange(i[0]+c,i[1]+c)}else if(r<0){var s=0-i[0];e.updateRange(i[0]+s,i[1]+s)}}}),t.mouse.addListener("down",function(r){var l=o,c=o,s=n.controlsBounds.start,u=n.controlsBounds.end;r.y>s.y&&r.y<s.y+s.height&&(t.shouldChartUpdate=!0,t.shouldControlUpdate=!0,i=[e.range[0],e.range[1]],r.newX>s.x-l&&r.newX<s.x+s.width&&r.newY>s.y-l&&r.newY<s.y+s.height+l?a=j:r.newX>u.x&&r.newX<u.x+u.width+c&&r.newY>u.y-c&&r.newY<u.y+u.height+c?a=X:r.newX>s.x+s.width&&r.newX<u.x&&r.newY>u.y-o&&r.newY<u.y+u.height+o&&(a=U))}),t.mouse.addListener("up",function(t){a=R}),n}function D(t){var e=t.ctx,n=t.config,a=(t.canvasBounds,t.control),o=(t.ys,t.yAxis),i=(t.xAxis,B(t,{lineWidth:1})),l=0,c=0,s=c-l,u=10*r,h=u/2,d=10*r,f=2*d,m=d/2,g=d-d/3,v=2*r,p=(d-v)/2,y=O(n,a).controlsBounds;return function(t,n,r,x){var b=r,T=t;r-=f,t+=d;for(var A=0;A<o.items.length;A++)i(o.items[A],t,n+3,r,x-6);l=t+r*a.range[0],c=t+r*a.range[1],s=c-l,y.start.x=l-d,y.start.y=n,y.start.width=d,y.start.height=x,y.end.x=c,y.end.y=n,y.end.width=d,y.end.height=x,e.save(),e.globalAlpha=.6,e.fillStyle=C.THEME.scrollBackground,e.beginPath(),e.moveTo(l-1,n),e.lineTo(l-1,n+x),e.arcTo(T,n+x,T,n+x-d,m),e.arcTo(T,n,l-1,n,m),e.closePath(),e.fill(),e.beginPath(),e.moveTo(c+1,n),e.lineTo(c+1,n+x),e.arcTo(T+b,n+x,T+b,n+x-d,m),e.arcTo(T+b,n,c,n,m),e.closePath(),e.fill(),e.restore(),e.save(),e.fillStyle=C.THEME.scrollSelector,e.beginPath(),e.rect(l,n,s,w),e.rect(l,n+x-w,s,w),e.fill(),e.beginPath();var H=l;e.moveTo(H,n),e.lineTo(H,n+x),e.arcTo(H-d,n+x,H-d,n+x-d,g),e.arcTo(H-d,n,H,n,g),e.closePath(),e.fill(),e.beginPath(),e.moveTo(c,n),e.lineTo(c,n+x),e.arcTo(c+d,n+x,c+d,n+x-d,g),e.arcTo(c+d,n,c,n,g),e.closePath(),e.fill(),e.restore(),e.save(),e.beginPath(),e.fillStyle="#FFFFFF",e.rect(l-p,n+x/2-h,-v,u),e.rect(c+p,n+x/2-h,v,u),e.fill(),e.restore()}}function N(t){var e=t.canvasBounds,n=t.config,a=t.ctx,o=t.norm,l=t.colors,c=(t.ys,t.normYKey),s=2*r,u=(n.mouse.mouse,n.popup),d=o.X(1),f=0,m=0,g=0,v=0,p=0,y=d*f,x=-1,w=-1,b=!1,T=!1,A=!0,H=!1,E=Y(function(t,o){if(b=T,(!(T=a.canvas===o.target||a.canvas.nextSibling.contains(o.target))&&b||"BUTTON"===o.target.tagName)&&(-1!==w&&(n.shouldChartUpdate=!0),w=-1,u.hide()),T&&o.target===a.canvas&&((T||!0===b&&!1===T)&&(x=w,t.newY>v&&t.newY<v+m&&(w=p-Math.round((f+g-t.newX)/y+1))<p&&w>=0?u.show(w):(w=-1,u.hide())),x!==w)){if(n.shouldChartUpdate=!0,-1!==w){var l=u.element.getBoundingClientRect(),c=(w*y+g)/r;c-l.width-i<0?A=!1:c+l.width+i>e.width/r&&(A=!0),u.element.style.left="".concat(A?c-l.width-i:c+i,"px")}x=w}},50);return n.mouse.addListener("move",function(t,e){H&&E(t,e)}),n.mouse.addListener("down",function(t,e){H=!0,E(t,e)}),n.mouse.addListener("up",function(t,e){H=!1}),function(t,e,n,r,u){f=r,m=u,g=e,v=n;var x=t.key,b=t.items,T=t.opacity,A=t.scaling[c],H=T.value;if(H&&(p=b.length,y=d*r,w>-1&&w<p)){var E=e+o.X(w)*r;a.save(),a.strokeStyle=C.THEME.gridLines,a.lineWidth=1,a.globalAlpha=.1,a.beginPath(),a.moveTo(E,n),a.lineTo(E,n+u),a.stroke(),a.restore(),a.save(),a.beginPath(),a.globalAlpha=H,a.arc(E,n+u-A(b[w])*u,i,0,h),a.lineWidth=s,a.strokeStyle=l[x],a.fillStyle=C.THEME.background,a.fill(),a.stroke(),a.restore()}}}function I(t){t.control;var e=t.ctx,n=(t.normX,t.normY,t.colors,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),a=n.textAlign||"left";return function(t,n,o,i,l,c,s){var u=Math.round(t.scaling.minHeightAnim.value),h=Math.round(t.scaling.maxHeightAnim.value),d=t.opacity.value,m=(l+l/6/2)/6,g=Math.ceil((h-u)/6);e.save(),e.beginPath(),e.fillStyle=C.THEME.gridLines,e.globalAlpha=s?d/2:.5,e.font=f,e.textBaseline="bottom",e.textAlign=a;for(var v=0;v<6;v++)c&&(e.moveTo(n,o+l-v*m),e.lineTo(n+i,o+l-v*m)),e.fillText(u+g*v,n+3,o+l-v*m-x);e.lineWidth=1*r,c&&(e.globalAlpha=.1,e.strokeStyle=C.THEME.gridLines,e.stroke()),e.restore()}}var K=[0,1,2,4,4,8,8,8,8,16,16,16,16,16,16,16,16,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64];function V(t){t.config,t.control;var e=t.ctx,n=t.norm,a=(t.colors,n.X(1));return function(t,o,r,i,l){var c=t.length;e.save(),e.fillStyle=C.THEME.gridLines,e.font=f,e.textAlign="center",e.textBaseline="middle",e.globalAlpha=.5;for(var s=i*a,u=(Math.floor(s),Math.ceil(m/s)),h=u+1,d=K[u],g=K[h],v=(s/(m/u)-1)*u,p=0;p<c;p+=d){var x=p%g;e.globalAlpha=0===x?.5:v>.5?.5:v;var w=o+n.X(p)*i,b=r+y;e.fillText(t[p].dayString,w,b)}e.restore()}}function W(t){t.ctx,t.config;var e=t.control,n=t.ys,a=t.yAxis,o=t.xAxis,r=I(t,{textAlign:"left"}),c=V(t),s=B(t),u=N(t);return function(t,h,d,f){var m=t-d*e.range[0]/e.scale,v=d/e.scale,y=f-g-l,x=h+i+b;c(o,m,h+y-p,v,p),r(a.items[0],t,x,d,y-p,!0);for(var w=0;w<a.items.length;w++)s(a.items[w],m,x,v,y-p);for(var T=0;T<n.length;T++)u(a.items[T],m,x,v,y-p)}}function z(t,e,n){var a=document.createElement(e);return a.className=n,t&&t.appendChild(a),a}var J=n(0),q=n.n(J);function G(t){return'\n\t\t<strong class="chart__popup-header">\n\t\t\t<span class="chart__popup-header-title">'.concat(t,'</span>\n\t\t\t<span class="chart__popup-header-icon"><img src="').concat(q.a,'" /></span>\n\t\t</strong>\n\t')}function Q(t,e,n){return'\n\t\t<span class="chart__popup-item">\n\t\t\t<span class="chart__popup-item-title">'.concat(e,'</span>\n\t\t\t<span class="chart__popup-item-value" style="color: ').concat(t,'">').concat(n,"</span>\n\t\t</span>\n\t")}n(1);function Z(t,e,n,a,o,r){var i=a.key,l={enabled:!0},c=z(t,"button","chart__buttons-button");function s(){!0===l.enabled?(c.className="chart__buttons-button",c.style.color="#FFF"):(c.className="chart__buttons-button unchecked",c.style.color=n.colors[i]),a.enabled=l.enabled,a.opacity.play(l.enabled?1:0),r&&r(l.enabled)}return c.textContent=n.names[i],c.style.backgroundColor=n.colors[i],c.style.borderColor=n.colors[i],function(t,e,n){var a=null,o=!1;function r(){a=setTimeout(function(){n&&n(),o=!0},200)}function i(){clearTimeout(a)}t.addEventListener("click",function(){clearTimeout(a),o?o=!1:e&&e()}),t.addEventListener("mousedown",r),t.addEventListener("mousemove",i),t.addEventListener("touchstart",r),t.addEventListener("touchmove",i)}(c,function(){if(1===o.activeButtonsCount&&l.enabled)return c.className="chart__buttons-button error",void setTimeout(function(){c.className="chart__buttons-button"},140);l.enabled=!l.enabled,s()},function(){l.show(),o.hideAllExcept(c)}),l.hide=function(t){l.enabled&&t!==c&&(l.enabled=!1,s())},l.show=function(){l.enabled||(l.enabled=!0,s())},l}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){tt(t,e,n[e])})}return t}function tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function et(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var nt=function(t){return t===1/0||t===-1/0?0:t},at=function(t){return Math.min.apply(null,t)},ot=function(t){return Math.max.apply(null,t)},rt=function(t,e,n){return Math.min.apply(null,t.slice(e,1+n))},it=function(t,e,n){return Math.max.apply(null,t.slice(e,1+n))},lt=function(t){return Math.min.apply(null,t.map(at))},ct=function(t){return Math.max.apply(null,t.map(ot))},st=function(t,e,n){return Math.min.apply(null,t.map(function(t){return rt(t,e,n)}))},ut=function(t,e,n){return Math.max.apply(null,t.map(function(t){return it(t,e,n)}))},ht=function(t){var e,n,a=new Array(t[0].length).fill(0);for(e=0;e<t.length;e++)for(n=0;n<t[e].length;n++)a[n]+=t[e][n];return a};var dt=function(t,e,n){var i,l,h,d,f,m={left:0,top:0},g=z(window.CONTAINER,"div","chart"),p=function(t,e,n){var a=z(t,"div","chart__header"),o=z(a,"h2","chart__header-title");o.textContent=e;var r=z(a,"h3","chart__header-sub-title");return r.textContent=n,{setTitle:function(t){o.textContent=t},setSubtitle:function(t){r.textContent=t}}}(g,"Chart #".concat(n+1),"Hello world!"),y=z(g,"canvas","chart__canvas"),x=y.getContext("2d"),w=(d=[],{opts:f={active:!1},createAnimation:function(t,e,n){var a=new S(t,e,n);return d.push(a),a},removeAnimation:function(t){var e=d.indexOf(t);e>-1&&d.splice(e,1)},updateAnimations:function(){for(var t=d.length,e=!1,n=0;n<t;n++)e=d[n].update()||e;return f.active=e,e}}),b={index:n,shouldChartUpdate:!0,shouldControlUpdate:!0,animator:w,mouse:L({config:b,canvas:y,canvasBounds:m}),maxHeight:0,minHeight:0,minHeightAnim:w.createAnimation(0,300),maxHeightAnim:w.createAnimation(0,300),startIndex:0,endIndex:0},T=e.colors;e.names,e.types,e.columns[0]=e.columns[0].map(function(t){return t.length?t:(e=t,n=new Date(e),{dayString:"".concat(a[n.getMonth()]," ").concat(n.getDate()),dateString:"".concat(o[n.getDay()],", ").concat(n.getDate()," ").concat(a[n.getMonth()]," ").concat(n.getFullYear()),dateStringTitle:"".concat(n.getDate()," ").concat(a[n.getMonth()]," ").concat(n.getFullYear()),date:n,timestamp:e});var e,n});var A=et(e.columns),C=et(A[0]),H=(C[0],C.slice(1)),E=A.slice(1),M=function(t,e,n){var a=t.map(function(t){var a=n.animator.createAnimation(1,300),o={key:t[0],items:t.slice(1),enabled:!0,opacity:a,scaling:{}};return e.y_scaled&&(o.scaling.minHeight=nt(at(o.items)),o.scaling.maxHeight=nt(ot(o.items)),o.scaling.minHeightAnim=n.animator.createAnimation(0,300),o.scaling.maxHeightAnim=n.animator.createAnimation(0,300),o.scaling.normY=P(n.animator,o.scaling.minHeight,o.scaling.maxHeight),o.scaling.normControlY=P(n.animator,o.scaling.minHeight,o.scaling.maxHeight),o.scaling.updateMinMax=function(t,e){o.scaling.minHeight=nt(rt(o.items,t,e)),o.scaling.maxHeight=nt(it(o.items,t,e)),o.scaling.minHeightAnim.play(o.scaling.minHeight),o.scaling.maxHeightAnim.play(o.scaling.maxHeight),o.scaling.normY.updateDelta(o.scaling.minHeight,o.scaling.maxHeight)}),o});if(!e.y_scaled){var o=a.filter(function(t){return t.enabled}).map(function(t){return t.items}),r={};if(e.stacked)if(e.percentage){var i=n.animator.createAnimation(0,300),l=n.animator.createAnimation(100,300);r.minHeight=0,r.maxHeight=100,r.minHeightAnim=i,r.maxHeightAnim=l,r.normY=P(n.animator,0,100),r.normControlY=P(n.animator,0,100),r.updateMinMax=function(t,e){}}else{var c=nt(ot(ht(o))),s=it(ht(o),0,c),u=n.animator.createAnimation(0,300),h=n.animator.createAnimation(0,300);r.minHeight=0,r.maxHeight=s,r.minHeightAnim=u,r.maxHeightAnim=h,r.normY=P(n.animator,0,s),r.normControlY=P(n.animator,0,c),r.updateMinMax=function(t,e){var n=a.filter(function(t){return t.enabled}).map(function(t){return t.items});r.minHeight=0;try{r.maxHeight=nt(it(ht(n),t,e))}catch(t){return}r.minHeightAnim.play(r.minHeight),r.maxHeightAnim.play(r.maxHeight),r.normY.updateDelta(r.minHeight,r.maxHeight);var o=nt(ot(ht(n)));r.normControlY.updateDelta(0,o)}}else{var d=nt(lt(o)),f=nt(ct(o)),m=lt(o,d,f),g=ct(o,d,f),v=n.animator.createAnimation(0,300),p=n.animator.createAnimation(0,300);r.minHeight=m,r.maxHeight=g,r.minHeightAnim=v,r.maxHeightAnim=p,r.normY=P(n.animator,m,g),r.normControlY=P(n.animator,d,f),r.updateMinMax=function(t,e){var n=a.filter(function(t){return t.enabled}).map(function(t){return t.items});r.minHeight=nt(st(n,t,e)),r.maxHeight=nt(ut(n,t,e)),r.minHeightAnim.play(r.minHeight),r.maxHeightAnim.play(r.maxHeight),r.normY.updateDelta(r.minHeight,r.maxHeight);var o=nt(lt(n)),i=nt(ct(n));r.normControlY.updateDelta(o,i)}}a.forEach(function(t){t.scaling=r})}return{items:a}}(E,e,b);b.endIndex=H.length,p.setSubtitle("".concat(H[0].dateStringTitle," - ").concat(H[H.length-1].dateStringTitle)),b.popup=function(t,e,n,a){var o=z(t,"div","chart__popup");return{element:o,update:function(t){var e=a.items.filter(function(t){return t.enabled}).map(function(e){return Q(n.colors[e.key],n.names[e.key],e.items[t])});e.length&&(o.innerHTML="\n\t\t\t\t".concat(G(n.columns[0][t+1].dateString),"\n\t\t\t\t").concat(e.join(""),"\n\t\t\t"))},show:function(t){var e=a.items.filter(function(t){return t.enabled}).map(function(e){return Q(n.colors[e.key],n.names[e.key],e.items[t])});e.length&&(o.innerHTML="\n\t\t\t\t".concat(G(n.columns[0][t+1].dateString),"\n\t\t\t\t").concat(e.join(""),"\n\t\t\t"),o.style.opacity=1,o.style.visibility="visible")},hide:function(){o.style.opacity=0,o.style.visibility="hidden"}}}(g,0,e,M);var F=function(t,e,n,a,o){var r={activeButtonsCount:a.items.length,hideAllExcept:function(t){c.forEach(function(e){e.hide(t)})},hideAll:function(){c.forEach(function(t){t.hide()})}},i=z(t,"div","chart__buttons"),l={},c=a.items.map(function(t){return l[t[0]]=Z(i,0,n,t,r,function(t){r.activeButtonsCount+=t?1:-1,r.activeButtonsCount<1||o&&o()})});return l}(g,b.animator,e,M,function(){k()});b.buttons=F;var Y={X:_(0,H.length-1)};function k(){var t=B.range[0],e=B.range[1],n=t*H.length,a=n<0?0:Math.floor(n),o=e*H.length,r=o>H.length?H.length:Math.ceil(o);M.items.forEach(function(t){return t.scaling.updateMinMax(a,r)}),p.setSubtitle("".concat(H[a].dateStringTitle," - ").concat(H[r-1].dateStringTitle))}var B={range:[.7,1],count:0,scale:0,updateRange:function(t,e){var n=e-t,a=H.length*n;a>5&&(B.count=Math.ceil(a),B.scale=n,B.range[0]=t,B.range[1]=e,k())},normalizeForControl:function(t){return h(t)}};function R(){var t=y.getBoundingClientRect(),e=t.width*r,n=t.height*r;m.width=e,m.height=c,m.left=t.left,m.right=t.right,m.top=t.top,m.bottom=t.bottom,m.x=t.x,m.y=t.y,i===e&&l===n||(b.shouldChartUpdate=!0,b.shouldControlUpdate=!0,h=_(u,m.width-u),i=y.width=m.width,l=y.height=c)}function j(t){R(),b.animator.updateAnimations()&&(b.shouldChartUpdate=!0),b.shouldChartUpdate&&(console.log("update chart",n),b.shouldChartUpdate=!1,x.clearRect(0,0,i,c-v),U(s,0,i-u,c-v)),b.shouldControlUpdate&&(console.log("update control",n),b.shouldControlUpdate=!1,x.clearRect(0,c-v,i,v),O(s,c-v,i-u,v))}window.addEventListener("resize",R),B.updateRange(B.range[0],B.range[1]),R(),k();var X={config:b,control:B,ctx:x,norm:Y,colors:T,ys:E,buttons:F,xAxis:H,yAxis:M,canvasBounds:m,normYKey:"normY"},U=t.drawChartFabric?t.drawChartFabric(X):W(X),O=t.drawControlFabric?t.drawControlFabric($({},X,{normYKey:"normControlY"})):D($({},X,{normYKey:"normControlY"}));return j(),{render:j,control:B,update:function(){b.shouldChartUpdate=!0,b.shouldControlUpdate=!0}}};function ft(t){var e=t.config,n=(t.control,t.ctx),a=t.norm,o=t.colors,r=t.normYKey,i=(t.yAxis,arguments.length>1&&void 0!==arguments[1]&&arguments[1],a.X(1));return function(t,a,l,c,s,u){var h=t.key,d=t.items,f=t.opacity,m=t.scaling[r],g=f.value;if(g){g<1&&(e.shouldControlUpdate=!0);var v=s-i*s,p=d.length;n.save(),n.beginPath();for(var y=0;y<p;y++){a[y]+=d[y]*g;var x=i*v,w=l+x*y,b=c+u-m(a[y])*u,T=m(d[y])*u*g;n.rect(w,b,x-i,T>0?T:0)}n.fillStyle=o[h],n.strokeStyle=o[h],n.fill(),n.restore()}}}function mt(t){t.ctx,t.config;var e=t.control,n=(t.ys,t.yAxis),a=t.xAxis,o=V(t),c=ft(t),s=function(t){var e=t.canvasBounds,n=t.config,a=t.ctx,o=t.norm,i=(t.colors,t.ys,t.normYKey),l=(n.mouse.mouse,n.popup),c=o.X(1),s=0,u=0,h=0,d=0,f=0,m=c*s,g=m/2,v=-1,p=-1,y=!1,x=!1,w=!0,b=!1,T=Y(function(t,o){if(y=x,(!(x=a.canvas===o.target||a.canvas.nextSibling.contains(o.target))&&y||"BUTTON"===o.target.tagName)&&(-1!==p&&(n.shouldChartUpdate=!0),p=-1,l.hide()),x&&o.target===a.canvas&&((x||!0===y&&!1===x)&&(v=p,t.newY>d&&t.newY<d+u&&(p=f-Math.ceil((s+h-t.newX)/m))<f&&p>=0?l.show(p):(p=-1,l.hide())),v!==p)){if(n.shouldChartUpdate=!0,-1!==p){var i=l.element.getBoundingClientRect(),c=(p*m+h)/r;c-i.width-m-g<0?w=!1:c+i.width+m+g>e.width/r&&(w=!0),l.element.style.left="".concat(w?c-i.width-g:c+m+g,"px")}v=p}},50);return n.mouse.addListener("move",function(t,e){b&&T(t,e)}),n.mouse.addListener("down",function(t,e){b=!0,T(t,e)}),n.mouse.addListener("up",function(t,e){b=!1}),function(t,e,n,r,l,v){s=l,u=v,h=n,d=r,t.key;var y=t.items,x=(t.opacity,t.scaling[i]),w=l-m;if(f=y.length,g=(m=c*w)/2,p>-1&&p<f){var b=n+o.X(p)*w;a.save(),a.strokeStyle=C.THEME.gridLines,a.lineWidth=1,a.globalAlpha=.2,a.beginPath(),a.rect(b,r+v,m,-x(e[p])*v),a.fillStyle=C.THEME.gridLines,a.fill(),a.stroke(),a.restore()}}}(t),u=I(t,{textAlign:"left"});return function(t,r,h,d){for(var f=t-h*e.range[0]/e.scale,m=h/e.scale,v=d-g-l,y=r+i+b,x=new Array(a.length).fill(0),w=0;w<n.items.length;w++)c(n.items[w],x,f,y,m,v-p);s(n.items[0],x,f,y,m,v-p),o(a,f,r+v-p,m,p),u(n.items[0],t,y,h,v-p,!0)}}function gt(t){var e=t.ctx,n=t.config,a=(t.canvasBounds,t.control),o=(t.ys,t.yAxis),i=t.xAxis,l=ft(t),c=0,s=0,u=s-c,h=10*r,d=h/2,f=10*r,m=2*f,g=f/2,v=f-f/3,p=2*r,y=(f-p)/2,x=O(n,a).controlsBounds;return function(t,n,r,b){var T=r,A=t;r-=m,t+=f;for(var H=new Array(i.length).fill(0),E=0;E<o.items.length;E++)l(o.items[E],H,t,n+3,r,b-6);c=t+r*a.range[0],s=t+r*a.range[1],u=s-c,x.start.x=c-f,x.start.y=n,x.start.width=f,x.start.height=b,x.end.x=s,x.end.y=n,x.end.width=f,x.end.height=b,e.save(),e.globalAlpha=.6,e.fillStyle=C.THEME.scrollBackground,e.beginPath(),e.moveTo(c-1,n),e.lineTo(c-1,n+b),e.arcTo(A,n+b,A,n+b-f,g),e.arcTo(A,n,c-1,n,g),e.closePath(),e.fill(),e.beginPath(),e.moveTo(s+1,n),e.lineTo(s+1,n+b),e.arcTo(A+T,n+b,A+T,n+b-f,g),e.arcTo(A+T,n,s,n,g),e.closePath(),e.fill(),e.restore(),e.save(),e.fillStyle=C.THEME.scrollSelector,e.beginPath(),e.rect(c,n,u,w),e.rect(c,n+b-w,u,w),e.fill(),e.beginPath();var M=c;e.moveTo(M,n),e.lineTo(M,n+b),e.arcTo(M-f,n+b,M-f,n+b-f,v),e.arcTo(M-f,n,M,n,v),e.closePath(),e.fill(),e.beginPath(),e.moveTo(s,n),e.lineTo(s,n+b),e.arcTo(s+f,n+b,s+f,n+b-f,v),e.arcTo(s+f,n,s,n,v),e.closePath(),e.fill(),e.restore(),e.save(),e.beginPath(),e.fillStyle="#FFFFFF",e.rect(c-y,n+b/2-d,-p,h),e.rect(s+y,n+b/2-d,p,h),e.fill(),e.restore()}}function vt(t){var e=t.config,n=(t.control,t.ctx),a=t.norm,o=t.colors,r=t.normYKey,i=(t.yAxis,arguments.length>1&&void 0!==arguments[1]&&arguments[1],a.X(1));return function(t,a,l,c,s,u,h){var d=t.key,f=t.items,m=t.opacity,g=(0,t.scaling[r])(1),v=m.value;if(v){v<1&&(e.shouldControlUpdate=!0);var p=f.length;n.save(),n.beginPath();var y=i*u,x=new Array(p).fill(0),w=l[0],b=s+h-g*Math.round(a[0]/w)*h;n.moveTo(c,b),x[0]=c+0*y;for(var T=1;T<p;T++){var A=Math.round(a[T]/l[T]);x[T]=c+y*T;var C=s+h-g*A*h;n.lineTo(x[T],C)}for(var H=p-1;H>=0;H--){a[H]+=f[H]*v;var E=s+h-g*Math.round(a[H]/l[H])*h;n.lineTo(x[H],E)}n.closePath(),n.fillStyle=o[d],n.fill(),n.restore()}}}function pt(t){t.ctx,t.config;var e=t.control,n=(t.ys,t.yAxis),a=(t.xAxis,function(t){var e=t.config,n=(t.control,t.ctx),a=t.norm,o=t.colors,r=(t.normYKey,t.yAxis,arguments.length>1&&void 0!==arguments[1]&&arguments[1],e.mouse.mouse,e.popup,a.X(1),0),i=0,l=0;return function(t,a,c,s,u,h,m,g){var v=t.key,p=(t.items,t.opacity.value);if(p){p<1&&(e.shouldControlUpdate=!0),r=Math.min(m/2,g/2),i=u+m/2,l=h+g/2,n.save(),n.beginPath(),n.fillStyle="red",n.moveTo(i,l);var y=d*c*2,x=d*s*2;n.arc(i,l,r,y,x),n.moveTo(i,l),n.fillStyle=o[v],n.fill(),n.restore(),n.save(),n.fillStyle="#fff",n.textAlign="center",n.globalAlpha=p,n.textBaseline="middle",n.font=f;var w=y+(x-y)/2,b=i+Math.cos(w)*(r/2),T=l+Math.sin(w)*(r/2);n.fillText(a.toFixed(0)+"%",b,T),n.restore()}}}(t));return function(t,o,r,c){e.range[0];for(var s=c-g-l,u=o+i+b,h=n.items.reduce(function(t,e){return t+e.items.reduce(k,0)*e.opacity.value},0)/100,d=0,f=0;f<n.items.length;f++){var m=n.items[f].items.reduce(k,0)/h*n.items[f].opacity.value;a(n.items[f],m,d,d+=m,t,u,r,s-p)}}}function yt(t){var e=t.ctx,n=t.config,a=(t.canvasBounds,t.control),o=(t.ys,t.yAxis),i=t.xAxis,l=vt(t),c=0,s=0,u=s-c,h=10*r,d=h/2,f=10*r,m=2*f,g=f/2,v=f-f/3,p=2*r,y=(f-p)/2,x=O(n,a).controlsBounds;return function(t,n,r,b){var T=r,A=t;r-=m,t+=f;for(var H=new Array(i.length).fill(0),E=0;E<o.items.length;E++)for(var M=0;M<o.items[E].items.length;M++)H[M]+=o.items[E].items[M]*o.items[E].opacity.value;for(var F=0;F<i.length;F++)H[F]/=100;for(var S=new Array(i.length).fill(0),_=0;_<o.items.length;_++)l(o.items[_],S,H,t,n+3,r,b-6);c=t+r*a.range[0],s=t+r*a.range[1],u=s-c,x.start.x=c-f,x.start.y=n,x.start.width=f,x.start.height=b,x.end.x=s,x.end.y=n,x.end.width=f,x.end.height=b,e.save(),e.globalAlpha=.6,e.fillStyle=C.THEME.scrollBackground,e.beginPath(),e.moveTo(c-1,n),e.lineTo(c-1,n+b),e.arcTo(A,n+b,A,n+b-f,g),e.arcTo(A,n,c-1,n,g),e.closePath(),e.fill(),e.beginPath(),e.moveTo(s+1,n),e.lineTo(s+1,n+b),e.arcTo(A+T,n+b,A+T,n+b-f,g),e.arcTo(A+T,n,s,n,g),e.closePath(),e.fill(),e.restore(),e.save(),e.fillStyle=C.THEME.scrollSelector,e.beginPath(),e.rect(c,n,u,w),e.rect(c,n+b-w,u,w),e.fill(),e.beginPath();var P=c;e.moveTo(P,n),e.lineTo(P,n+b),e.arcTo(P-f,n+b,P-f,n+b-f,v),e.arcTo(P-f,n,P,n,v),e.closePath(),e.fill(),e.beginPath(),e.moveTo(s,n),e.lineTo(s,n+b),e.arcTo(s+f,n+b,s+f,n+b-f,v),e.arcTo(s+f,n,s,n,v),e.closePath(),e.fill(),e.restore(),e.save(),e.beginPath(),e.fillStyle="#FFFFFF",e.rect(c-y,n+b/2-d,-p,h),e.rect(s+y,n+b/2-d,p,h),e.fill(),e.restore()}}console.log("pi1",d),window.CONTAINER=document.querySelector("#container");var xt=[];!function(t,e){var n=!0,a=z(t,"button","change-theme");function o(){a.textContent="Switch to ".concat(n?"Night":"Day"," Mode"),e&&e(n)}a.addEventListener("click",function(){n=!n,o()}),o()}(window.CONTAINER,function(t){console.log(t),C.THEME=t?T:A,document.body.className=t?"day":"night",xt.forEach(function(t){return t.update()})});var wt=[{drawChartFabric:function(t){return W(t)},drawControlFabric:function(t){return D(t)}},{drawChartFabric:function(t){return function(t){t.ctx,t.config;var e=t.control,n=t.ys,a=t.yAxis,o=t.xAxis,r=I(t,{textAlign:"left"}),c=I(t,{textAlign:"right"}),s=V(t),u=B(t),h=N(t);return function(t,d,f,m){var v=t-f*e.range[0]/e.scale,y=f/e.scale,x=m-g-l,w=d+i+b;s(o,v,d+x-p,y,p);var T=!0;a.items[0].enabled&&(r(a.items[0],t,w,f,x-p,T),T=!1),a.items[1].enabled&&(c(a.items[1],t+f,w,-f,x-p,T),T=!1);for(var A=0;A<a.items.length;A++)u(a.items[A],v,w,y,x-p);for(var C=0;C<n.length;C++)h(a.items[C],v,w,y,x-p)}}(t)},drawControlFabric:function(t){return D(t)}},{drawChartFabric:function(t){return mt(t)},drawControlFabric:function(t){return gt(t)}},{drawChartFabric:function(t){return mt(t)},drawControlFabric:function(t){return gt(t)}},{drawChartFabric:function(t){return function(t){t.ctx,t.config;var e=t.control,n=(t.ys,t.yAxis),a=t.xAxis,o=V(t),r=vt(t),c=N(t),s=I(t,{textAlign:"left"});return function(t,u,h,d){for(var f=t-h*e.range[0]/e.scale,m=h/e.scale,v=d-g-l,y=u+i+b,x=new Array(a.length).fill(0),w=0;w<n.items.length;w++)for(var T=0;T<n.items[w].items.length;T++)x[T]+=n.items[w].items[T]*n.items[w].opacity.value;for(var A=0;A<a.length;A++)x[A]/=100;for(var C=new Array(a.length).fill(0),H=0;H<n.items.length;H++)r(n.items[H],C,x,f,y,m,v-p),c(n.items[H],f,y,m,v-p);o(a,f,u+v-p,m,p),s(n.items[0],t,y,h,v-p,!0)}}(t)},drawControlFabric:function(t){return yt(t)}},{drawChartFabric:function(t){return pt(t)},drawControlFabric:function(t){return yt(t)}}];Promise.all([fetch("assets/stage_2_data/1/overview.json").then(function(t){return t.json()}),fetch("assets/stage_2_data/2/overview.json").then(function(t){return t.json()}),fetch("assets/stage_2_data/3/overview.json").then(function(t){return t.json()}),fetch("assets/stage_2_data/4/overview.json").then(function(t){return t.json()}),fetch("assets/stage_2_data/5/overview.json").then(function(t){return t.json()}),fetch("assets/stage_2_data/5/overview.json").then(function(t){return t.json()})]).then(function(t){(xt=t.map(function(t,e){return dt(wt[e],t,e)})).forEach(function(t){M.add(function(){t.render()})})})}]);