!function(t){var n={};function e(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(a,r,function(n){return t[n]}.bind(null,r));return a},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="dist/",e(e.s=2)}([function(t,n,e){t.exports=e.p+"arrow.svg"},function(t,n,e){t.exports=e.p+"check.svg"},function(t,n,e){"use strict";e.r(n);var a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=window.devicePixelRatio,i=4*o,c=2*i,l=343*o,u=16*o,s=2*u,d=2*Math.PI,h="".concat(11*o,"px Arial"),m=40*o,f=7*o,g=43*o,p=29*o,v=p/2,y=5*o,w=1*o,b=2*o,x={background:"#FFFFFF",scrollBackground:"#E2EEF9",scrollSelector:"#C0D1E1",gridLines:"#182D3B",tooltipArrow:"#D2D5D7",zoomText:"#108BE3"},A={background:"#1B232F",scrollBackground:"#304259",scrollSelector:"#56626D",gridLines:"#FFFFFF",tooltipArrow:"#D2D5D7",zoomText:"#48AAF0"},T={THEME:x};var C,H,E=(C=[],H={time:0,add:function(t){C.push(t)},remove:function(t){var n=C.indexOf(t);n>-1&&C.splice(n,1)}},requestAnimationFrame(function t(n){H.time=n;for(var e=0;e<C.length;e++)C[e](n);requestAnimationFrame(t)}),H);function M(t,n){for(var e=0;e<n.length;e++){var a=n[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var F=function(){function t(n,e,a){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.onAnimation=a,this.fromValue=n,this.toValue=n,this.value=n,this.startTime=0,this.duration=e,this.delay=0}var n,e,a;return n=t,(e=[{key:"playFrom",value:function(t,n){this.value=t,this.play(n)}},{key:"play",value:function(t){this.startTime=E.time,this.toValue=t,this.fromValue=this.value}},{key:"update",value:function(){var t=this._update();return t&&this.onAnimation&&this.onAnimation(),t}},{key:"_update",value:function(){if(this.value===this.toValue)return!1;var t=(E.time-this.startTime-this.delay)/this.duration;t<0&&(t=0),t>1&&(t=1);var n=-t*(t-2);return this.value=this.fromValue+(this.toValue-this.fromValue)*n,!0}}])&&M(n.prototype,e),a&&M(n,a),t}();function S(t,n){var e=n-t,a={};function r(n){return a[n]||(a[n]=(n-t)/e),a[n]}return r.de=function(n){return n*e+t},r.data={delta:e,min:t,max:n},r}function _(t,n,e){var a=t.createAnimation(n,300),r=t.createAnimation(e-n,300);function o(t){return(t-a.value)/r.value}return o.updateDelta=function(t,n){n,a.play(t),r.play(n-t)},o}var Y=function(t,n){var e;return function(){var a=arguments;e||(t.apply(this,a),e=!0,setTimeout(function(){return e=!1},n))}};function k(t){t.canvas;var n=t.canvasBounds,e=function(t){var n={},e={},a={x:0,y:0,xRaw:0,yRaw:0,newX:0,newY:0,newXRaw:0,newYRaw:0,isHolding:!1};return t.forEach(function(t){n[t]=[],e[t]=function(e,a){for(var r=0;r<n[t].length;r++)n[t][r](e,a)}}),{mouse:a,addListener:function(t,e){n[t].push(e)},dispatch:function(t,n){if(!e[t])throw Error("Unknown event");e[t](a,n)}}}(["move","enter","leave","down","up"]),a=e.mouse;function r(t){a.xRaw=t.clientX-n.left,a.yRaw=t.clientY-n.top,a.x=a.xRaw*o,a.y=a.yRaw*o,a.newXRaw=a.xRaw,a.newYRaw=a.yRaw,a.newX=a.x,a.newY=a.y,e.dispatch("down",t)}function i(t){a.newXRaw=t.clientX-n.left,a.newYRaw=t.clientY-n.top,a.newX=a.newXRaw*o,a.newY=a.newYRaw*o,e.dispatch("move",t)}function c(t){a.isHolding=!1,e.dispatch("up",t)}return document.addEventListener("mousedown",r),document.addEventListener("mousemove",i),document.addEventListener("mouseup",c),document.addEventListener("touchstart",function(t){r(t.touches[0])}),document.addEventListener("touchmove",function(t){i(t.touches[0])},{passive:!1}),document.addEventListener("touchend",c),document.addEventListener("touchcancel",c),document.addEventListener("selectstart",function(t){return!1}),{mouse:a,addListener:e.addListener}}function R(t){var n=t.config,e=(t.control,t.ctx),a=t.norm,r=t.colors,i=t.normYKey,c=((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).lineWidth||2)*o;return function(t,o,l,u,s){var d=t.key,h=t.items,m=t.opacity,f=t.scaling[i],g=m.value;if(g){g<1&&(n.shouldControlUpdate=!0);var p=h.length;e.save(),e.beginPath(),e.moveTo(o+0,l+s-f(h[0])*s);for(var v=1;v<p;v++){var y=o+a.X(v)*u,w=l+s-f(h[v])*s;e.lineTo(y,w)}e.lineWidth=c,e.strokeStyle=r[d],e.globalAlpha=g,e.lineJoin="round",e.stroke(),e.restore()}}}var L=0,P=1,O=2,X=3;function U(t){var n=t.ctx,e=t.config,a=(t.canvasBounds,t.control),r=(t.ys,t.yAxis),i=R(t,{lineWidth:1}),c=0,l=0,u=l-c,s=10*o,d=s/2,h=10*o,m=2*h,f=h/2,g=h-h/3,p=2*o,v=(h-p)/2,y=L,b=14*o,x=[a.range[0],a.range[1]],A={start:{x:0,y:0,width:0,height:0},end:{x:0,y:0,width:0,height:0}};return e.mouse.addListener("move",function(t){if(y!==L){e.shouldChartUpdate=!0,e.shouldControlUpdate=!0;var n=a.normalizeForControl(t.newX)-a.normalizeForControl(t.x),r=x[0]+n,o=x[1]+n;if(y===P)r>0?a.updateRange(r,x[1]):a.updateRange(0,x[1]);else if(y===O)o<1?a.updateRange(x[0],o):a.updateRange(x[0],1);else if(r>=0&&o<=1)a.updateRange(r,o);else if(o>1){var i=1-x[1];a.updateRange(x[0]+i,x[1]+i)}else if(r<0){var c=0-x[0];a.updateRange(x[0]+c,x[1]+c)}}}),e.mouse.addListener("down",function(t){var n=b,r=b,o=A.start,i=A.end;t.y>o.y&&t.y<o.y+o.height&&(e.shouldChartUpdate=!0,e.shouldControlUpdate=!0,x=[a.range[0],a.range[1]],t.newX>o.x-n&&t.newX<o.x+o.width&&t.newY>o.y-n&&t.newY<o.y+o.height+n?y=P:t.newX>i.x&&t.newX<i.x+i.width+r&&t.newY>i.y-r&&t.newY<i.y+i.height+r?y=O:t.newX>o.x+o.width&&t.newX<i.x&&t.newY>i.y-b&&t.newY<i.y+i.height+b&&(y=X))}),e.mouse.addListener("up",function(t){y=L}),function(t,e,o,y){var b=o,x=t;o-=m,t+=h;for(var C=0;C<r.items.length;C++)i(r.items[C],t,e+3,o,y-6);c=t+o*a.range[0],l=t+o*a.range[1],u=l-c,A.start.x=c-h,A.start.y=e,A.start.width=h,A.start.height=y,A.end.x=l,A.end.y=e,A.end.width=h,A.end.height=y,n.save(),n.globalAlpha=.6,n.fillStyle=T.THEME.scrollBackground,n.beginPath(),n.moveTo(c-1,e),n.lineTo(c-1,e+y),n.arcTo(x,e+y,x,e+y-h,f),n.arcTo(x,e,c-1,e,f),n.closePath(),n.fill(),n.beginPath(),n.moveTo(l+1,e),n.lineTo(l+1,e+y),n.arcTo(x+b,e+y,x+b,e+y-h,f),n.arcTo(x+b,e,l,e,f),n.closePath(),n.fill(),n.restore(),n.save(),n.fillStyle=T.THEME.scrollSelector,n.beginPath(),n.rect(c,e,u,w),n.rect(c,e+y-w,u,w),n.fill(),n.beginPath();var H=c;n.moveTo(H,e),n.lineTo(H,e+y),n.arcTo(H-h,e+y,H-h,e+y-h,g),n.arcTo(H-h,e,H,e,g),n.closePath(),n.fill(),n.beginPath(),n.moveTo(l,e),n.lineTo(l,e+y),n.arcTo(l+h,e+y,l+h,e+y-h,g),n.arcTo(l+h,e,l,e,g),n.closePath(),n.fill(),n.restore(),n.save(),n.beginPath(),n.fillStyle="#FFFFFF",n.rect(c-v,e+y/2-d,-p,s),n.rect(l+v,e+y/2-d,p,s),n.fill(),n.restore()}}function D(t){var n=t.canvasBounds,e=t.config,a=t.ctx,r=t.norm,c=t.colors,l=(t.ys,t.normYKey),u=2*o,s=(e.mouse.mouse,e.popup),h=r.X(1),m=0,f=0,g=0,p=0,v=0,y=h*m,w=-1,b=-1,x=!1,A=!1,C=!0,H=!1,E=Y(function(t,r){if(x=A,(!(A=a.canvas===r.target||a.canvas.nextSibling.contains(r.target))&&x||"BUTTON"===r.target.tagName)&&(-1!==b&&(e.shouldChartUpdate=!0),b=-1,s.hide()),A&&r.target===a.canvas&&((A||!0===x&&!1===A)&&(w=b,t.newY>p&&t.newY<p+f&&(b=v-Math.round((m+g-t.newX)/y+1))<v&&b>=0?s.show(b-1):(b=-1,s.hide())),w!==b)){if(e.shouldChartUpdate=!0,-1!==b){var c=s.element.getBoundingClientRect(),l=(b*y+g)/o;l-c.width-i<0?C=!1:l+c.width+i>n.width/o&&(C=!0),s.element.style.left="".concat(C?l-c.width-i:l+i,"px")}w=b}},50);return e.mouse.addListener("move",function(t,n){H&&E(t,n)}),e.mouse.addListener("down",function(t,n){H=!0,E(t,n)}),e.mouse.addListener("up",function(t,n){H=!1}),function(t,n,e,o,s){m=o,f=s,g=n,p=e;var w=t.key,x=t.items,A=t.opacity,C=t.scaling[l],H=A.value;if(H&&(v=x.length,y=h*o,b>-1&&b<v)){var E=n+r.X(b)*o;a.save(),a.strokeStyle=T.THEME.gridLines,a.lineWidth=1,a.globalAlpha=.1,a.beginPath(),a.moveTo(E,e),a.lineTo(E,e+s),a.stroke(),a.restore(),a.save(),a.beginPath(),a.globalAlpha=H,a.arc(E,e+s-C(x[b])*s,i,0,d),a.lineWidth=u,a.strokeStyle=c[w],a.fillStyle=T.THEME.background,a.fill(),a.stroke(),a.restore()}}}function j(t){t.control;var n=t.ctx,e=(t.normX,t.normY,t.colors,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),a=e.textAlign||"left";return function(t,e,r,i,c,l,u){var s=Math.round(t.scaling.minHeightAnim.value),d=Math.round(t.scaling.maxHeightAnim.value),m=t.opacity.value,f=(c+c/6/2)/6,g=Math.ceil((d-s)/6);n.save(),n.beginPath(),n.fillStyle=T.THEME.gridLines,n.globalAlpha=u?m/2:.5,n.font=h,n.textBaseline="bottom",n.textAlign=a;for(var p=0;p<6;p++)l&&(n.moveTo(e,r+c-p*f),n.lineTo(e+i,r+c-p*f)),n.fillText(s+g*p,e+3,r+c-p*f-y);n.lineWidth=1*o,l&&(n.globalAlpha=.1,n.strokeStyle=T.THEME.gridLines,n.stroke()),n.restore()}}var B=[0,1,2,4,4,8,8,8,8,16,16,16,16,16,16,16,16,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64];function N(t){t.config,t.control;var n=t.ctx,e=t.norm,a=(t.colors,e.X(1));return function(t,r,o,i,c){var l=t.length;n.save(),n.fillStyle=T.THEME.gridLines,n.font=h,n.textAlign="center",n.textBaseline="middle",n.globalAlpha=.5;for(var u=i*a,s=(Math.floor(u),Math.ceil(m/u)),d=s+1,f=B[s],g=B[d],p=(u/(m/s)-1)*s,y=0;y<l;y+=f){var w=y%g;n.globalAlpha=0===w?.5:p>.5?.5:p;var b=r+e.X(y)*i,x=o+v;n.fillText(t[y].dayString,b,x)}n.restore()}}function I(t){t.ctx,t.config;var n=t.control,e=t.ys,a=t.yAxis,r=t.xAxis,o=j(t,{textAlign:"left"}),l=N(t),u=R(t),s=D(t);return function(t,d,h,m){var g=t-h*n.range[0]/n.scale,v=h/n.scale,y=m-f-c,w=d+i+b;l(r,g,d+y-p,v,p),o(a.items[0],t,w,h,y-p,!0);for(var x=0;x<a.items.length;x++)u(a.items[x],g,w,v,y-p);for(var A=0;A<e.length;A++)s(a.items[A],g,w,v,y-p)}}function V(t,n,e){var a=document.createElement(n);return a.className=e,t&&t.appendChild(a),a}var W=e(0),z=e.n(W);function K(t){return'\n\t\t<strong class="chart__popup-header">\n\t\t\t<span class="chart__popup-header-title">'.concat(t,'</span>\n\t\t\t<span class="chart__popup-header-icon"><img src="').concat(z.a,'" /></span>\n\t\t</strong>\n\t')}function J(t,n,e){return'\n\t\t<span class="chart__popup-item">\n\t\t\t<span class="chart__popup-item-title">'.concat(n,'</span>\n\t\t\t<span class="chart__popup-item-value" style="color: ').concat(t,'">').concat(e,"</span>\n\t\t</span>\n\t")}e(1);function q(t,n,e,a,r){var o=V(t,"div","chart__buttons"),i={};return a.items.map(function(t){i[t[0]]=function(t,n,e,a,r){var o=a.key,i={enabled:!0},c=V(t,"button","chart__buttons-button");return c.textContent=e.names[o],c.style.backgroundColor=e.colors[o],c.style.borderColor=e.colors[o],c.addEventListener("click",function(){i.enabled=!i.enabled,!0===i.enabled?(c.className="chart__buttons-button",c.style.color="#FFF"):(c.className="chart__buttons-button unchecked",c.style.color=e.colors[o]),a.enabled=i.enabled,a.opacity.play(i.enabled?1:0),r&&r(i.enabled)}),i}(o,0,e,t,function(t){r&&r()})}),i}function G(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},a=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.forEach(function(n){Q(t,n,e[n])})}return t}function Q(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function Z(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var $=function(t){return t===1/0||t===-1/0?0:t},tt=function(t){return Math.min.apply(null,t)},nt=function(t){return Math.max.apply(null,t)},et=function(t,n,e){return Math.min.apply(null,t.slice(n,1+e))},at=function(t,n,e){return Math.max.apply(null,t.slice(n,1+e))},rt=function(t){return Math.min.apply(null,t.map(tt))},ot=function(t){return Math.max.apply(null,t.map(nt))},it=function(t,n,e){return Math.min.apply(null,t.map(function(t){return et(t,n,e)}))},ct=function(t,n,e){return Math.max.apply(null,t.map(function(t){return at(t,n,e)}))};var lt=function(t,n,e){var i,c,d,h,m,f={left:0,top:0},p=V(window.CONTAINER,"div","chart"),v=function(t,n,e){var a=V(t,"div","chart__header"),r=V(a,"h2","chart__header-title");r.textContent=n;var o=V(a,"h3","chart__header-sub-title");return o.textContent=e,{setTitle:function(t){r.textContent=t},setSubtitle:function(t){o.textContent=t}}}(p,"Chart #".concat(e+1),"Hello world!"),y=V(p,"canvas","chart__canvas"),w=y.getContext("2d"),b=(h=[],{opts:m={active:!1},createAnimation:function(t,n,e){var a=new F(t,n,e);return h.push(a),a},removeAnimation:function(t){var n=h.indexOf(t);n>-1&&h.splice(n,1)},updateAnimations:function(){for(var t=h.length,n=!1,e=0;e<t;e++)n=h[e].update()||n;return m.active=n,n}}),x={index:e,shouldChartUpdate:!0,shouldControlUpdate:!0,animator:b,mouse:k({config:x,canvas:y,canvasBounds:f}),maxHeight:0,minHeight:0,minHeightAnim:b.createAnimation(0,300),maxHeightAnim:b.createAnimation(0,300),startIndex:0,endIndex:0},A=n.colors;n.names,n.types,n.columns[0]=n.columns[0].map(function(t){return t.length?t:(n=t,e=new Date(n),{dayString:"".concat(a[e.getMonth()]," ").concat(e.getDate()),dateString:"".concat(r[e.getDay()],", ").concat(e.getDate()," ").concat(a[e.getMonth()]," ").concat(e.getFullYear()),dateStringTitle:"".concat(e.getDate()," ").concat(a[e.getMonth()]," ").concat(e.getFullYear()),date:e,timestamp:n});var n,e});var T=Z(n.columns),C=Z(T[0]),H=(C[0],C.slice(1)),E=T.slice(1),M=function(t,n,e){var a=t.map(function(t){var a=e.animator.createAnimation(1,300),r={key:t[0],items:t.slice(1),enabled:!0,opacity:a,scaling:{}};return n.y_scaled&&(r.scaling.minHeight=$(tt(r.items)),r.scaling.maxHeight=$(nt(r.items)),r.scaling.minHeightAnim=e.animator.createAnimation(0,300),r.scaling.maxHeightAnim=e.animator.createAnimation(0,300),r.scaling.normY=_(e.animator,r.scaling.minHeight,r.scaling.maxHeight),r.scaling.normControlY=_(e.animator,r.scaling.minHeight,r.scaling.maxHeight),r.scaling.updateMinMax=function(t,n){r.scaling.minHeight=$(et(r.items,t,n)),r.scaling.maxHeight=$(at(r.items,t,n)),r.scaling.minHeightAnim.play(r.scaling.minHeight),r.scaling.maxHeightAnim.play(r.scaling.maxHeight),r.scaling.normY.updateDelta(r.scaling.minHeight,r.scaling.maxHeight)}),r});if(!n.y_scaled){var r=a.filter(function(t){return t.enabled}).map(function(t){return t.items}),o=$(rt(r)),i=$(ot(r)),c=rt(r,o,i),l=ot(r,o,i),u={minHeight:c,maxHeight:l,minHeightAnim:e.animator.createAnimation(0,300),maxHeightAnim:e.animator.createAnimation(0,300)};u.normY=_(e.animator,c,l),u.normControlY=_(e.animator,o,i),u.updateMinMax=function(t,n){var e=a.filter(function(t){return t.enabled}).map(function(t){return t.items});u.minHeight=$(it(e,t,n)),u.maxHeight=$(ct(e,t,n)),u.minHeightAnim.play(u.minHeight),u.maxHeightAnim.play(u.maxHeight),u.normY.updateDelta(u.minHeight,u.maxHeight);var r=$(rt(e)),o=$(ot(e));u.normControlY.updateDelta(r,o)},a.forEach(function(t){t.scaling=u})}return{items:a}}(E,n,x);x.endIndex=H.length,v.setSubtitle("".concat(H[0].dateStringTitle," - ").concat(H[H.length-1].dateStringTitle)),x.popup=function(t,n,e,a){var r=V(t,"div","chart__popup");return{element:r,update:function(t){var n=a.items.filter(function(t){return t.enabled}).map(function(n){return J(e.colors[n.key],e.names[n.key],n.items[t+1])});n.length&&(r.innerHTML="\n\t\t\t\t".concat(K(e.columns[0][t+1].dateString),"\n\t\t\t\t").concat(n.join(""),"\n\t\t\t"))},show:function(t){var n=a.items.filter(function(t){return t.enabled}).map(function(n){return J(e.colors[n.key],e.names[n.key],n.items[t+1])});n.length&&(r.innerHTML="\n\t\t\t\t".concat(K(e.columns[0][t+1].dateString),"\n\t\t\t\t").concat(n.join(""),"\n\t\t\t"),r.style.opacity=1,r.style.visibility="visible")},hide:function(){r.style.opacity=0,r.style.visibility="hidden"}}}(p,0,n,M);var Y=q(p,x.animator,n,M,function(){L()});x.buttons=Y;var R={X:S(0,H.length-1)};function L(){var t=P.range[0],n=P.range[1],e=t*H.length,a=e<0?0:Math.floor(e),r=n*H.length,o=r>H.length?H.length:Math.ceil(r);M.items.forEach(function(t){return t.scaling.updateMinMax(a,o)}),v.setSubtitle("".concat(H[a].dateStringTitle," - ").concat(H[o-1].dateStringTitle))}var P={range:[.1,.9],count:0,scale:0,updateRange:function(t,n){var e=n-t,a=H.length*e;a>5&&(P.count=Math.ceil(a),P.scale=e,P.range[0]=t,P.range[1]=n,L())},normalizeForControl:function(t){return d(t)}};function O(){var t=y.getBoundingClientRect(),n=t.width*o,e=t.height*o;f.width=n,f.height=l,f.left=t.left,f.right=t.right,f.top=t.top,f.bottom=t.bottom,f.x=t.x,f.y=t.y,i===n&&c===e||(x.shouldChartUpdate=!0,x.shouldControlUpdate=!0,d=S(s,f.width-s),i=y.width=f.width,c=y.height=l)}function X(t){O(),x.animator.updateAnimations()&&(x.shouldChartUpdate=!0),x.shouldChartUpdate&&(x.shouldChartUpdate=!1,w.clearRect(0,0,i,l-g),j(u,0,i-s,l-g)),x.shouldControlUpdate&&(x.shouldControlUpdate=!1,w.clearRect(0,l-g,i,g),B(u,l-g,i-s,g))}window.addEventListener("resize",O),P.updateRange(P.range[0],P.range[1]),O(),L();var D={config:x,control:P,ctx:w,norm:R,colors:A,ys:E,buttons:Y,xAxis:H,yAxis:M,canvasBounds:f,normYKey:"normY"},j=t.drawChartFabric?t.drawChartFabric(D):I(D),B=t.drawControlFabric?t.drawControlFabric(G({},D,{normYKey:"normControlY"})):U(G({},D,{normYKey:"normControlY"}));return X(),{render:X,control:P,update:function(){x.shouldChartUpdate=!0,x.shouldControlUpdate=!0}}};function ut(t){t.ctx,t.config;var n=t.control,e=(t.ys,t.yAxis),a=t.xAxis,r=N(t),l=function(t){var n=t.canvasBounds,e=t.config,a=t.ctx,r=t.norm,c=t.colors,l=(t.ys,t.normYKey),u=(e.mouse.mouse,e.popup),s=r.X(1),d=0,h=0,m=0,f=0,g=0,p=s*d,v=-1,y=-1,w=!1,b=!1,x=!0,A=!1,T=Y(function(t,r){if(w=b,(!(b=a.canvas===r.target||a.canvas.nextSibling.contains(r.target))&&w||"BUTTON"===r.target.tagName)&&(-1!==y&&(e.shouldChartUpdate=!0),y=-1,u.hide()),b&&r.target===a.canvas&&((b||!0===w&&!1===b)&&(v=y,t.newY>f&&t.newY<f+h&&(y=g-Math.round((d+m-t.newX)/p+1))<g&&y>=0?u.show(y-1):(y=-1,u.hide())),v!==y)){if(e.shouldChartUpdate=!0,-1!==y){var c=u.element.getBoundingClientRect(),l=(y*p+m)/o;l-c.width-i<0?x=!1:l+c.width+i>n.width/o&&(x=!0),u.element.style.left="".concat(x?l-c.width-i:l+i,"px")}v=y}},50);return e.mouse.addListener("move",function(t,n){A&&T(t,n)}),e.mouse.addListener("down",function(t,n){A=!0,T(t,n)}),e.mouse.addListener("up",function(t,n){A=!1}),function(t,n,e,r,o){d=r,h=o,m=n,f=e;var i=t.key,u=t.items,v=(t.opacity,t.scaling[l]);g=u.length,p=s*r,a.save(),a.beginPath();for(var y=0;y<u.length;y++)a.rect(n+p*y,e+o,p,-v(u[y])*o);a.fillStyle=c[i],a.fill(),a.restore()}}(t),u=j(t,{textAlign:"left"});return function(t,o,s,d){var h=t-s*n.range[0]/n.scale,m=s/n.scale,g=d-f-c,v=o+i+b;r(a,h,o+g-p,m,p),u(e.items[0],t,v,s,g-p,!0);for(var y=0;y<e.items.length;y++)l(e.items[y],h,v,m,g-p)}}window.CONTAINER=document.querySelector("#container");var st=[];!function(t,n){var e=!0,a=V(t,"button","change-theme");function r(){a.textContent="Switch to ".concat(e?"Night":"Day"," Mode"),n&&n(e)}a.addEventListener("click",function(){e=!e,r()}),r()}(window.CONTAINER,function(t){console.log(t),T.THEME=t?x:A,document.body.className=t?"day":"night",st.forEach(function(t){return t.update()})});var dt=[{drawChartFabric:function(t){return I(t)},drawControlFabric:function(t){return U(t)}},{drawChartFabric:function(t){return function(t){t.ctx,t.config;var n=t.control,e=t.ys,a=t.yAxis,r=t.xAxis,o=j(t,{textAlign:"left"}),l=j(t,{textAlign:"right"}),u=N(t),s=R(t),d=D(t);return function(t,h,m,g){var v=t-m*n.range[0]/n.scale,y=m/n.scale,w=g-f-c,x=h+i+b;u(r,v,h+w-p,y,p);var A=!0;a.items[0].enabled&&(o(a.items[0],t,x,m,w-p,A),A=!1),a.items[1].enabled&&(l(a.items[1],t+m,x,-m,w-p,A),A=!1);for(var T=0;T<a.items.length;T++)s(a.items[T],v,x,y,w-p);for(var C=0;C<e.length;C++)d(a.items[C],v,x,y,w-p)}}(t)},drawControlFabric:function(t){return U(t)}},{drawChartFabric:function(t){return ut(t)},drawControlFabric:function(t){return U(t)}}];fetch("assets/stage_2_data/2/overview.json").then(function(t){return t.json()}).then(function(t){(st=[t].map(function(t,n){return lt(dt[1],t,n)})).forEach(function(t){E.add(function(){t.render()})})})}]);