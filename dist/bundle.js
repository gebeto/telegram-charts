!function(t){var n={};function e(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,e),a.l=!0,a.exports}e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)e.d(o,a,function(n){return t[n]}.bind(null,a));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="dist/",e(e.s=2)}([function(t,n,e){t.exports=e.p+"arrow.svg"},function(t,n,e){t.exports=e.p+"check.svg"},function(t,n,e){"use strict";e.r(n);var o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=window.devicePixelRatio,i=4*r,c=2*i,l=343*r,u=16*r,s=2*u,d=2*Math.PI,h="".concat(11*r,"px Arial"),f=40*r,p=7*r,m=43*r,g=29*r,v=g/2,y=5*r,b=1*r,w=2*r,x={background:"#FFFFFF",scrollBackground:"#E2EEF9",scrollSelector:"#C0D1E1",gridLines:"#182D3B",tooltipArrow:"#D2D5D7",zoomText:"#108BE3"},T={background:"#1B232F",scrollBackground:"#304259",scrollSelector:"#56626D",gridLines:"#FFFFFF",tooltipArrow:"#D2D5D7",zoomText:"#48AAF0"},A={THEME:x};var E,S,M=(E=[],S={time:0,add:function(t){E.push(t)},remove:function(t){var n=E.indexOf(t);n>-1&&E.splice(n,1)}},requestAnimationFrame(function t(n){S.time=n;for(var e=0;e<E.length;e++)E[e](n);requestAnimationFrame(t)}),S);function _(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var C=function(){function t(n,e,o){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.onAnimation=o,this.fromValue=n,this.toValue=n,this.value=n,this.startTime=0,this.duration=e,this.delay=0}var n,e,o;return n=t,(e=[{key:"playFrom",value:function(t,n){this.value=t,this.play(n)}},{key:"play",value:function(t){this.startTime=M.time,this.toValue=t,this.fromValue=this.value}},{key:"update",value:function(){var t=this._update();return t&&this.onAnimation&&this.onAnimation(),t}},{key:"_update",value:function(){if(this.value===this.toValue)return!1;var t=(M.time-this.startTime-this.delay)/this.duration;t<0&&(t=0),t>1&&(t=1);var n=-t*(t-2);return this.value=this.fromValue+(this.toValue-this.fromValue)*n,!0}}])&&_(n.prototype,e),o&&_(n,o),t}();function H(t,n){var e=n-t,o={};function a(n){return o[n]||(o[n]=(n-t)/e),o[n]}return a.de=function(n){return n*e+t},a.data={delta:e,min:t,max:n},a}function F(t,n,e){var o=t.createAnimation(n,300),a=t.createAnimation(e-n,300);function r(t){return(t-o.value)/a.value}return r.updateDelta=function(t,n){n,o.play(t),a.play(n-t)},r}var R=function(t,n){var e;return function(){var o=arguments;e||(t.apply(this,o),e=!0,setTimeout(function(){return e=!1},n))}};function O(t){t.canvas;var n=t.canvasBounds,e=function(t){var n={},e={},o={x:0,y:0,xRaw:0,yRaw:0,newX:0,newY:0,newXRaw:0,newYRaw:0,isHolding:!1};return t.forEach(function(t){n[t]=[],e[t]=function(e,o){for(var a=0;a<n[t].length;a++)n[t][a](e,o)}}),{mouse:o,addListener:function(t,e){n[t].push(e)},dispatch:function(t,n){if(!e[t])throw Error("Unknown event");e[t](o,n)}}}(["move","enter","leave","down","up"]),o=e.mouse;function a(t){o.xRaw=t.clientX-n.left,o.yRaw=t.clientY-n.top,o.x=o.xRaw*r,o.y=o.yRaw*r,o.newXRaw=o.xRaw,o.newYRaw=o.yRaw,o.newX=o.x,o.newY=o.y,e.dispatch("down",t)}function i(t){o.newXRaw=t.clientX-n.left,o.newYRaw=t.clientY-n.top,o.newX=o.newXRaw*r,o.newY=o.newYRaw*r,e.dispatch("move",t)}function c(t){o.isHolding=!1,e.dispatch("up",t)}return document.addEventListener("mousedown",a),document.addEventListener("mousemove",i),document.addEventListener("mouseup",c),document.addEventListener("touchstart",function(t){a(t.touches[0])}),document.addEventListener("touchmove",function(t){i(t.touches[0])},{passive:!1}),document.addEventListener("touchend",c),document.addEventListener("touchcancel",c),document.addEventListener("selectstart",function(t){return!1}),{mouse:o,addListener:e.addListener}}function L(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Y(t){var n=t.config,e=(t.control,t.ctx),o=t.norm,a=t.colors,i=((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).lineWidth||2)*r;return function(t,r,c,l,u){var s=L(t),d=s[0],h=s.slice(1),f=n.buttons[d].opacity.value;if(f){f<1&&(n.shouldControlUpdate=!0);var p=h.length;e.save(),e.beginPath(),e.moveTo(r+0,c+u-o.Y(h[0])*u);for(var m=1;m<p;m++){var g=r+o.X(m)*l,v=c+u-o.Y(h[m])*u;e.lineTo(g,v)}e.lineWidth=i,e.strokeStyle=a[d],e.globalAlpha=f,e.lineJoin="round",e.stroke(),e.restore()}}}var j=0,k=1,P=2,X=3;function D(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var U=[0,1,2,4,4,8,8,8,8,16,16,16,16,16,16,16,16,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64];function B(t){t.ctx;var n=t.config,e=t.control,o=t.ys,a=t.xAxis,l=function(t){t.control;var n=t.ctx;return t.normX,t.normY,t.colors,function(t,e,o,a,i,c){var l=(c+c/6/2)/6,u=Math.ceil((e-t)/6);n.save(),n.beginPath(),n.fillStyle=A.THEME.gridLines,n.globalAlpha=.5,n.font=h,n.textBaseline="bottom";for(var s=0;s<6;s++)n.moveTo(o,a+c-s*l),n.lineTo(o+i,a+c-s*l),n.fillText(t+u*s,o+3,a+c-s*l-y);n.lineWidth=1*r,n.globalAlpha=.1,n.strokeStyle=A.THEME.gridLines,n.stroke(),n.restore()}}(t),u=function(t){t.config,t.control;var n=t.ctx,e=t.norm,o=(t.colors,e.X(1));return function(t,a,r,i,c){var l=t.length;n.save(),n.fillStyle=A.THEME.gridLines,n.font=h,n.textAlign="center",n.textBaseline="middle",n.globalAlpha=.5;for(var u=i*o,s=(Math.floor(u),Math.ceil(f/u)),d=s+1,p=U[s],m=U[d],g=(u/(f/s)-1)*s,y=0;y<l;y+=p){var b=y%m;n.globalAlpha=0===b?.5:g>.5?.5:g;var w=a+e.X(y)*i,x=r+v;n.fillText(t[y].dayString,w,x)}n.restore()}}(t),s=Y(t),m=function(t){var n=t.canvasBounds,e=t.config,o=t.ctx,a=t.norm,c=t.colors,l=(t.ys,2*r),u=(e.mouse.mouse,e.popup),s=a.X(1),h=0,f=0,p=0,m=0,g=0,v=s*h,y=v/2,b=-1,w=-1,x=!1,T=!1,E=!0,S=!1,M=R(function(t,a){if(x=T,(!(T=o.canvas===a.target||o.canvas.nextSibling.contains(a.target))&&x||"BUTTON"===a.target.tagName)&&(-1!==w&&(e.shouldChartUpdate=!0),w=-1,u.hide()),T&&a.target===o.canvas&&((T||!0===x&&!1===T)&&(b=w,t.newY>m&&t.newY<m+f&&(w=g-Math.round((h+p-t.newX)/v+1))<g&&w>=0?u.show(w):(w=-1,u.hide())),b!==w)){if(e.shouldChartUpdate=!0,-1!==w){var i=u.element.getBoundingClientRect(),c=(w*v+p)/r;console.log(c+i.width,n.width),c+i.width+y>n.width?E=!0:c-i.width-y<0&&(E=!1),u.element.style.left="".concat(E?c-i.width+y:c+y,"px")}b=w}},50);return e.mouse.addListener("move",function(t,n){S&&M(t,n)}),e.mouse.addListener("down",function(t,n){S=!0,M(t,n)}),e.mouse.addListener("up",function(t,n){S=!1}),function(t,n,r,u,b){h=u,f=b,p=n,m=r;var x=D(t),T=x[0],E=x.slice(1),S=e.buttons[T].opacity.value;if(S&&(g=E.length,y=(v=s*u)/2,w>-1&&w<g)){var M=n+a.X(w)*u;o.save(),o.strokeStyle=A.THEME.gridLines,o.lineWidth=1,o.globalAlpha=.1,o.beginPath(),o.moveTo(M,r),o.lineTo(M,r+b),o.stroke(),o.restore(),o.save(),o.beginPath(),o.globalAlpha=S,o.arc(M,r+b-a.Y(E[w])*b,i,0,d),o.lineWidth=l,o.strokeStyle=c[T],o.fillStyle=A.THEME.background,o.fill(),o.stroke(),o.restore()}}}(t);return function(t,r,d,h){var f=t-d*e.range[0]/e.scale,v=d/e.scale,y=h-p-c,b=r+i+w;u(a,f,r+y-g,v,g),l(Math.round(n.minHeightAnim.value),Math.round(n.maxHeightAnim.value),t,b,d,y-g);for(var x=0;x<o.length;x++)s(o[x],f,b,v,y-g);for(var T=0;T<o.length;T++)m(o[T],f,b,v,y-g)}}function N(t,n,e){var o=document.createElement(n);return o.className=e,t&&t.appendChild(o),o}var I=e(0),V=e.n(I);function W(t){return'\n\t\t<strong class="chart__popup-header">\n\t\t\t<span class="chart__popup-header-title">'.concat(t,'</span>\n\t\t\t<span class="chart__popup-header-icon"><img src="').concat(V.a,'" /></span>\n\t\t</strong>\n\t')}function z(t,n,e){return'\n\t\t<span class="chart__popup-item">\n\t\t\t<span class="chart__popup-item-title">'.concat(n,'</span>\n\t\t\t<span class="chart__popup-item-value" style="color: ').concat(t,'">').concat(e,"</span>\n\t\t</span>\n\t")}e(1);function J(t,n,e,o,a){var r=N(t,"div","chart__buttons"),i={};return o.map(function(t){i[t[0]]=function(t,n,e,o,a){var r=o[0],i={enabled:!0,data:o,opacity:n.createAnimation(1,300)},c=N(t,"button","chart__buttons-button");return c.textContent=e.names[r],c.style.backgroundColor=e.colors[r],c.style.borderColor=e.colors[r],c.addEventListener("click",function(){i.enabled=!i.enabled,!0===i.enabled?(c.className="chart__buttons-button",c.style.color="#FFF"):(c.className="chart__buttons-button unchecked",c.style.color=e.colors[r]),i.opacity.play(i.enabled?1:0),a&&a(i.enabled)}),i}(r,n,e,t,function(t){a&&a()})}),i}function q(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function G(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var K=function(t){return t===1/0||t===-1/0?0:t},Q=function(t){return Math.max.apply(null,t.map(function(t){return Math.max.apply(null,t.slice(1))}))},Z=function(t){return Math.min.apply(null,t.map(function(t){return Math.min.apply(null,t.slice(1))}))},$=function(t,n,e){return Math.max.apply(null,t.map(function(t){return Math.max.apply(null,t.slice(1+n,1+e))}))},tt=function(t,n,e){return Math.min.apply(null,t.map(function(t){return Math.min.apply(null,t.slice(1+n,1+e))}))};var nt=function(t,n){var e,i,c,d,h,f={left:0,top:0},p=N(window.CONTAINER,"div","chart"),g=function(t,n,e){var o=N(t,"div","chart__header"),a=N(o,"h2","chart__header-title");a.textContent=n;var r=N(o,"h3","chart__header-sub-title");return r.textContent=e,{setTitle:function(t){a.textContent=t},setSubtitle:function(t){r.textContent=t}}}(p,"Chart #".concat(n+1),"Hello world!"),v=N(p,"canvas","chart__canvas"),y=v.getContext("2d"),w=(d=[],{opts:h={active:!1},createAnimation:function(t,n,e){var o=new C(t,n,e);return d.push(o),o},removeAnimation:function(t){var n=d.indexOf(t);n>-1&&d.splice(n,1)},updateAnimations:function(){for(var t=d.length,n=!1,e=0;e<t;e++)n=d[e].update()||n;return h.active=n,n}}),x={index:n,shouldChartUpdate:!0,shouldControlUpdate:!0,animator:w,mouse:O({config:x,canvas:v,canvasBounds:f}),maxHeight:0,minHeight:0,minHeightAnim:w.createAnimation(0,300),maxHeightAnim:w.createAnimation(0,300),startIndex:0,endIndex:0},T=t.colors;t.names,t.types,t.columns[0]=t.columns[0].map(function(t){return t.length?t:(n=t,e=new Date(n),{dayString:"".concat(o[e.getMonth()]," ").concat(e.getDate()),dateString:"".concat(a[e.getDay()],", ").concat(e.getDate()," ").concat(o[e.getMonth()]," ").concat(e.getFullYear()),dateStringTitle:"".concat(e.getDate()," ").concat(o[e.getMonth()]," ").concat(e.getFullYear()),date:e,timestamp:n});var n,e});var E=G(t.columns),S=G(E[0]),M=(S[0],S.slice(1)),_=E.slice(1);x.endIndex=M.length,g.setSubtitle("".concat(M[0].dateStringTitle," - ").concat(M[M.length-1].dateStringTitle)),x.popup=function(t,n,e,o){var a=N(t,"div","chart__popup");return{element:a,update:function(t){var r=o.filter(function(t){return n.buttons[t[0]].enabled}).map(function(n){return z(e.colors[n[0]],e.names[n[0]],n[t+1])});r.length&&(a.innerHTML="\n\t\t\t\t".concat(W(e.columns[0][t+1].dateString),"\n\t\t\t\t").concat(r.join(""),"\n\t\t\t"))},show:function(t){var r=o.filter(function(t){return n.buttons[t[0]].enabled}).map(function(n){return z(e.colors[n[0]],e.names[n[0]],n[t+1])});r.length&&(a.innerHTML="\n\t\t\t\t".concat(W(e.columns[0][t+1].dateString),"\n\t\t\t\t").concat(r.join(""),"\n\t\t\t"),a.style.opacity=1,a.style.visibility="visible")},hide:function(){a.style.opacity=0,a.style.visibility="hidden"}}}(p,x,t,_);var R=J(p,x.animator,t,_,function(){I()});x.buttons=R;var L=_.filter(function(t){return R[t[0]].enabled});x.minHeight=K(Z(L)),x.maxHeight=K(Q(L)),x.minHeightAnim.play(x.minHeight),x.maxHeightAnim.play(x.maxHeight);var D={X:H(0,M.length-1),Y:F(x.animator,x.minHeight,x.maxHeight)},U={X:H(0,M.length-1),Y:F(x.animator,x.minHeight,x.maxHeight)};function I(){var t=V.range[0],n=V.range[1],e=t*M.length,o=e<0?0:Math.floor(e),a=n*M.length,r=a>M.length?M.length:Math.ceil(a),i=_.filter(function(t){return R[t[0]].enabled});x.minHeight=K(tt(i,o,r)),x.maxHeight=K($(i,o,r)),x.minHeightAnim.play(x.minHeight),x.maxHeightAnim.play(x.maxHeight),D.Y.updateDelta(x.minHeight,x.maxHeight);var c=K(Z(i)),l=K(Q(i));U.Y.updateDelta(c,l),g.setSubtitle("".concat(M[o].dateStringTitle," - ").concat(M[r-1].dateStringTitle))}var V={range:[.1,.9],count:0,scale:0,updateRange:function(t,n){var e=n-t,o=M.length*e;o>5&&(V.count=Math.ceil(o),V.scale=e,V.range[0]=t,V.range[1]=n,I())},normalizeForControl:function(t){return c(t)}};function nt(){var t=v.getBoundingClientRect(),n=t.width*r,o=t.height*r;f.width=n,f.height=l,f.left=t.left,f.right=t.right,f.top=t.top,f.bottom=t.bottom,f.x=t.x,f.y=t.y,e===n&&i===o||(x.shouldChartUpdate=!0,x.shouldControlUpdate=!0,c=H(s,f.width-s),e=v.width=f.width,i=v.height=l)}function et(t){nt(),x.animator.updateAnimations()&&(x.shouldChartUpdate=!0),x.shouldChartUpdate&&(x.shouldChartUpdate=!1,y.clearRect(0,0,e,l-m),at(u,0,e-s,l-m)),x.shouldControlUpdate&&(x.shouldControlUpdate=!1,y.clearRect(0,l-m,e,m),rt(u,l-m,e-s,m))}window.addEventListener("resize",nt),V.updateRange(V.range[0],V.range[1]),nt(),I();var ot={config:x,control:V,ctx:y,norm:D,colors:T,ys:_,buttons:R,xAxis:M,canvasBounds:f},at=B(ot),rt=function(t){var n=t.ctx,e=t.config,o=(t.canvasBounds,t.control),a=t.ys,i=Y(t,{lineWidth:1}),c=0,l=0,u=l-c,s=10*r,d=s/2,h=10*r,f=2*h,p=h/2,m=h-h/3,g=2*r,v=(h-g)/2,y=j,w=14*r,x=[o.range[0],o.range[1]],T={start:{x:0,y:0,width:0,height:0},end:{x:0,y:0,width:0,height:0}};return e.mouse.addListener("move",function(t){if(y!==j){e.shouldChartUpdate=!0,e.shouldControlUpdate=!0;var n=o.normalizeForControl(t.newX)-o.normalizeForControl(t.x),a=x[0]+n,r=x[1]+n;if(y===k)a>0?o.updateRange(a,x[1]):o.updateRange(0,x[1]);else if(y===P)r<1?o.updateRange(x[0],r):o.updateRange(x[0],1);else if(a>=0&&r<=1)o.updateRange(a,r);else if(r>1){var i=1-x[1];o.updateRange(x[0]+i,x[1]+i)}else if(a<0){var c=0-x[0];o.updateRange(x[0]+c,x[1]+c)}}}),e.mouse.addListener("down",function(t){var n=w,a=w,r=T.start,i=T.end;t.y>r.y&&t.y<r.y+r.height&&(e.shouldChartUpdate=!0,e.shouldControlUpdate=!0,x=[o.range[0],o.range[1]],t.newX>r.x-n&&t.newX<r.x+r.width&&t.newY>r.y-n&&t.newY<r.y+r.height+n?y=k:t.newX>i.x&&t.newX<i.x+i.width+a&&t.newY>i.y-a&&t.newY<i.y+i.height+a?y=P:t.newX>r.x+r.width&&t.newX<i.x&&t.newY>i.y-w&&t.newY<i.y+i.height+w&&(y=X))}),e.mouse.addListener("up",function(t){y=j}),function(t,e,r,y){var w=r,x=t;r-=f,t+=h;for(var E=0;E<a.length;E++)i(a[E],t,e+3,r,y-6);c=t+r*o.range[0],l=t+r*o.range[1],u=l-c,T.start.x=c-h,T.start.y=e,T.start.width=h,T.start.height=y,T.end.x=l,T.end.y=e,T.end.width=h,T.end.height=y,n.save(),n.globalAlpha=.6,n.fillStyle=A.THEME.scrollBackground,n.beginPath(),n.moveTo(c-1,e),n.lineTo(c-1,e+y),n.arcTo(x,e+y,x,e+y-h,p),n.arcTo(x,e,c-1,e,p),n.closePath(),n.fill(),n.beginPath(),n.moveTo(l+1,e),n.lineTo(l+1,e+y),n.arcTo(x+w,e+y,x+w,e+y-h,p),n.arcTo(x+w,e,l,e,p),n.closePath(),n.fill(),n.restore(),n.save(),n.fillStyle=A.THEME.scrollSelector,n.beginPath(),n.rect(c,e,u,b),n.rect(c,e+y-b,u,b),n.fill(),n.beginPath();var S=c;n.moveTo(S,e),n.lineTo(S,e+y),n.arcTo(S-h,e+y,S-h,e+y-h,m),n.arcTo(S-h,e,S,e,m),n.closePath(),n.fill(),n.beginPath(),n.moveTo(l,e),n.lineTo(l,e+y),n.arcTo(l+h,e+y,l+h,e+y-h,m),n.arcTo(l+h,e,l,e,m),n.closePath(),n.fill(),n.restore(),n.save(),n.beginPath(),n.fillStyle="#FFFFFF",n.rect(c-v,e+y/2-d,-g,s),n.rect(l+v,e+y/2-d,g,s),n.fill(),n.restore()}}(function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},o=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.forEach(function(n){q(t,n,e[n])})}return t}({},ot,{norm:U}));return et(),{render:et,control:V,update:function(){x.shouldChartUpdate=!0,x.shouldControlUpdate=!0}}};window.CONTAINER=document.querySelector("#container");var et=[];!function(t,n){var e=!0,o=N(t,"button","change-theme");function a(){o.textContent="Switch to ".concat(e?"Night":"Day"," Mode"),n&&n(e)}o.addEventListener("click",function(){e=!e,a()}),a()}(window.CONTAINER,function(t){console.log(t),A.THEME=t?x:T,document.body.className=t?"day":"night",et.forEach(function(t){return t.update()})});fetch("assets/stage_2_data/2/overview.json").then(function(t){return t.json()}).then(function(t){(et=[t].map(function(t,n){return nt(t,n)})).forEach(function(t){M.add(function(){t.render()})})})}]);